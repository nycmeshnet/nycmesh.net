!function(t) {
function e(n) {
if (i[n]) return i[n].exports;
var o = i[n] = {
exports: {},
id: n,
loaded: !1
};
t[n].call(o.exports, o, o.exports, e);
o.loaded = !0;
return o.exports;
}
var i = {};
e.c = i;
e.__strings = [ "<hours>:<minutes>", "<hours>:<minutes> am", "<hours>:<minutes> pm", "Sorry, we are unavailable at the moment. Please leave us a message. 24/7 support is available for Premium customers.", "Zendesk Support agent not found", "Zendesk Chat requires cookies to function. Enable cookies?", "Powered by Zendesk Chat", "Please wait for an agent. There are <number> visitor(s) waiting to be served.", "Online", "Away", "Offline", "Complete this field", "Enter a valid email address", "Complete this field", "Select an option", "Select an option", "Check this option to continue", "Select at least one option", "Select a department", "This field is invalid", "Phone number", "Are you sure you want to end this chat?", "Facebook", "Twitter", "Google+", "<name> joined the chat", "<name> left the chat", "<old_name> is now known as <new_name>", "Chat started", "Chat ended", "Comment submitted", "Chat rated Good", "Chat rated Bad", "Chat rating removed", "<name> is typing...", "<name> are typing...", "Agents are typing...", "Type your message here", "Send", "<number> new message", "<number> new messages", "<number> new message", "<number> new messages", "Chat", "Message", "1 new attachment", "Reconnecting", "Click to reconnect", "Reconnecting", "Resuming session", "Loading", "Chat Disabled", "Disabled", "Zopim Live Chat requires cookies to function. Enable cookies?", "Privacy policy", "Zopim Live Chat", "Unlink from <name>", "Powered by Zopim Live Chat", "Send Message", "Start Chatting", "Any Department", "Choose a Department", "Close", "Closed", "<start_time> to <end_time>", "File size too large. Maximum total size is limited to <size>.", "The file you are trying to send is not supported.", "File sending is temporary disabled. Please try again later.", "Failed to send. Please try again.", "Failed to save assignee", "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Weekdays", "Weekends", "Daily", "All day", "Chat With Us", "Leave a Message", "Chat with us", "support", "We're online.", "We're away.", "We're offline.", "Live Support", "Ask us anything", "Hi, welcome to our website!", "Questions?", "Click here to chat with us", "Choose a Department", "Message", "Phone", "Sorry, we aren't online at the moment. Leave a message and we'll get back to you.", "Sorry, we aren't online at the moment.", "Thanks for the message! We'll get back to you as soon as we can.", "Message", "Phone", "Nice chatting with you!", "How would you rate the chat experience you just had?", "Thanks for the good rating! Would you like to leave a comment?", "What did you like about this chat?", "Sorry that we disappointed you. We'd appreciate it if you could tell us how to improve.", "What did you dislike about this chat?", "File size too large. Maximum limit is <size>.", "The file you are trying to send is not supported.", "File sending is temporarily disabled. Please try again later.", "<size> bytes", "<size> KB", "<size> MB", "Failed to send. Please try again.", "Reply", "Dismiss", "Minimize", "Send", "Type your message here", "Submit", "Cancel", "Back to Chat", "Back to Chat", "Would you like to rate this chat?", "Leave a Comment", "(Optional)", "Send", "Cancel", "Would you like to rate this chat?", "Chat rated Good", "Chat rated Bad", "Chat rating removed", "Cancel", "Skip", "End", "Cancel", "Send Chat Transcript to", "Email", "This isn't a valid email.", "Send", "Cancel", "Email will be sent to @@@@<email>@@@@ when the chat ends", "Close", "Learn more about Premium plan", "Our Operating Hours", "Back", "Send Another", "Choose a Department", "Operating Hours", "Back", "Drop files here", "Submit", "Skip", "You objected to the use of cookies based on our @cookie policy@. Approve the use of cookies to enable chat functions.", "You may disable the chat anytime.", "Enable Cookies and Chat", "Zendesk Chat requires cookies to function", "If you do not agree with our @cookie policy@, you may disable the chat widget. Past information and cookies will be removed.", "You may re-enable chat anytime.", "Disable Chat", "Cancel", "Zendesk Chat requires cookies to function", "Introduce yourself", "Hello there!", "Name, Email", "Edit", "Sign out", "Please update your profile", "Name", "Please provide your name", "Email", "Please provide a valid email", "or sign in with", "Phone Number", "Please provide a valid phone", "Name", "Email", "Sign In", "Hi, <name>", "Hi there!", "Sound", "Cookies", "About", "Send a File", "Email Transcript", "Connect with", "Use Name and Email", "End This Chat", "Sign out", "Edit", "Edit Contact Details", "Name", "Enter your name", "Email", "Enter your email", "Phone", "Enter your phone", "Save", "Cancel", "This widget uses @cookies@.", "Open in new window", "Minimize", "Options", "Sign in", "Hi, <name>", "Hi there!", "Reconnecting", "Offline", "Customer support", "Good", "Bad", "Remove", "Good", "Bad", "Remove", "Leave a Comment", "Rate This Chat", "Message not sent", "Resend", "You", "You â€” Please update your info", 'Uploading "<file_name>"', '"<file_name>" sent.', "Open image" ];
e.__languages = {
ar: "__$$__stringtable_lang_ar",
az: "__$$__stringtable_lang_az",
bg: "__$$__stringtable_lang_bg",
ca: "__$$__stringtable_lang_ca",
cs: "__$$__stringtable_lang_cs",
da: "__$$__stringtable_lang_da",
de: "__$$__stringtable_lang_de",
el: "__$$__stringtable_lang_el",
es: "__$$__stringtable_lang_es",
et: "__$$__stringtable_lang_et",
eu: "__$$__stringtable_lang_eu",
fa: "__$$__stringtable_lang_fa",
fi: "__$$__stringtable_lang_fi",
fo: "__$$__stringtable_lang_fo",
fr: "__$$__stringtable_lang_fr",
he: "__$$__stringtable_lang_he",
hi: "__$$__stringtable_lang_hi",
hr: "__$$__stringtable_lang_hr",
hu: "__$$__stringtable_lang_hu",
id: "__$$__stringtable_lang_id",
is: "__$$__stringtable_lang_is",
it: "__$$__stringtable_lang_it",
ja: "__$$__stringtable_lang_ja",
ka: "__$$__stringtable_lang_ka",
ko: "__$$__stringtable_lang_ko",
ku: "__$$__stringtable_lang_ku",
lt: "__$$__stringtable_lang_lt",
lv: "__$$__stringtable_lang_lv",
mk: "__$$__stringtable_lang_mk",
ms: "__$$__stringtable_lang_ms",
nb: "__$$__stringtable_lang_nb",
nl: "__$$__stringtable_lang_nl",
pl: "__$$__stringtable_lang_pl",
pt: "__$$__stringtable_lang_pt",
pt_BR: "__$$__stringtable_lang_pt_BR",
ro: "__$$__stringtable_lang_ro",
ru: "__$$__stringtable_lang_ru",
sk: "__$$__stringtable_lang_sk",
sl: "__$$__stringtable_lang_sl",
sq: "__$$__stringtable_lang_sq",
sr: "__$$__stringtable_lang_sr",
sv: "__$$__stringtable_lang_sv",
th: "__$$__stringtable_lang_th",
tl: "__$$__stringtable_lang_tl",
tr: "__$$__stringtable_lang_tr",
uk: "__$$__stringtable_lang_uk",
ur: "__$$__stringtable_lang_ur",
vi: "__$$__stringtable_lang_vi",
zh_CN: "__$$__stringtable_lang_zh_CN",
zh_TW: "__$$__stringtable_lang_zh_TW"
};
return e(0);
}([ function(t, e, i) {
(function(e, n, o, r, a) {
t.exports = function() {
var t = i || {};
e.strings = t.__strings || [];
e.languages = t.__languages || {};
var s = e.languages;
for (var _ in s) if (s.hasOwnProperty(_)) {
var l = s[_];
o[l] = new n(l);
}
var d = "__$$__stringtable_lang_en";
e.languages.en = d;
o[d] = e.strings;
var u = i(13);
r.runAfterFirstChildReady(function() {
new u(document.body, (!1), "", "", []);
});
a(u, "widget");
return u;
}();
}).call(e, i(1), i(2), i(3), i(6), i(4));
}, function(t, e) {
var i = {
build_number: "20170502.060816",
git_commit: "39a0d046e6e56870cd178d4e3ce802efbd07c688"
};
t.exports = i;
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t(t, i) {
var n = e[t];
n.module_function = new Function("$Modules", i.toString().replace(d, "$1"));
n.ready();
}
function r(t) {
var e, i, n, o;
for (e = l.length - 1; e >= 0; e--) {
n = l[e];
o = n.dependencies;
for (i = o.length - 1; i >= 0; i--) if (o[i] == t) {
o.splice(i, 1);
break;
}
n.ready();
}
}
function a() {
var t = Array.prototype.slice.call(arguments), e = t.shift();
this.fqname = e;
this.name = e.split(".").pop();
this.callbacks = [];
this.dependencies = t;
l.push(this);
}
function s(t) {
t();
}
var _ = i(5), l = [], d = /^function *\( *\) *{ *([\s\S]*) *}$/;
a.ensureLoaded = function(t, e) {
t instanceof a ? t.ensureLoaded(e) : e();
};
a.prototype.ensureLoaded = function(t) {
this.ifLoaded(t);
this.load();
};
a.prototype.ifLoaded = function(t) {
this.callbacks.push(t);
};
a.prototype.load = function() {
function i(e) {
t(e[0], e[1]);
}
var o, r, a = this.getDependencies();
for (o = 0; o < a.length; o++) {
r = a[o];
r.loader || (r.loader = new _(n.baseURL + "/lib/" + n.build_number + "/" + r.fqname + ".js", e, i));
}
};
a.prototype.getDependencies = function() {
var t, i = this.dependencies, n = [ this ];
for (t = 0; t < i.length; t++) {
var o = e[i[t]];
n = n.concat(o.getDependencies());
}
return n;
};
a.prototype.ready = function() {
if (!this.dependencies.length && this.module_function) {
for (t = l.length - 1; t >= 0; t--) if (l[t] == this) {
l.splice(t, 1);
break;
}
this.module_function(e);
var t, i = e[this.fqname];
i.ifLoaded = i.ensureLoaded = s;
for (t = 0; t < this.callbacks.length; t++) this.callbacks[t](i);
r(this.fqname);
delete this.callbacks;
delete this.fqname;
delete this.name;
delete this.dependencies;
delete this.loader;
}
};
o(a, "jx_core_Module");
return a;
}();
}).call(e, i(3), i(1), i(4));
}, function(t, e, i) {
(function(e, i) {
var n = {};
n.Module = e;
n.$Data = i;
t.exports = n;
}).call(e, i(2), i(1));
}, function(t, e) {
function i(t, e) {
if ("function" == typeof t && t.prototype && !t.__jx__no_fqname) {
t.prototype.__jx__fqname_chain = (t.prototype.__jx__fqname_chain || "") + " " + e;
t.prototype.__jx__fqname = e;
}
}
t.exports = i;
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(t, e, i) {
var r = this;
n.extend(r);
var a = new o();
e = e || {};
a.setScope(e);
a.on("success", i);
a.on("error", function(t) {
r.onError(t);
});
a.load(t);
}
var n = i(6), o = i(11);
t.prototype.onError = function(t) {};
e(t, "jx_io_ScriptLoader");
return t;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, i) {
t.exports = function() {
function t(t, i) {
var n = {}, o = {}, r = function(i) {
return !t.nodeType && t != window && t != document || ("FORM" != t.tagName || "submit" != i) && (!e.isCustomEvents && (e.isFF && e.isFF < 9 ? !document.createEvent("event")[i.toUpperCase()] : "undefined" == typeof t["on" + i]));
}, a = function(e, i, o) {
if (!e && "function" != typeof i) throw "bad arguments to on / addEventListener";
if (!(e in n)) {
n[e] = [];
r(e) || s(e);
}
n[e].push(i);
return t;
}, s = function(i) {
if (!(i in o)) {
o[i] = function(o) {
o && (o.stopPropagation || h(o));
var r, a = n[i], s = a.length, _ = !0;
a._active = !0;
for (r = 0; r < s; r++) try {
if (!a[r]) continue;
a[r].call(t, e.isCustomEvents && o instanceof window.CustomEvent ? o.detail : o) === !1 && (_ = !1);
} catch (l) {
u.fire("error", l);
}
a._active = !1;
if (a._dirty) {
for (r = 0; r < s; r++) if (!a[r]) {
r == s - 1 ? a.pop() : a[r--] = a.pop();
s--;
}
a._dirty = !1;
}
if (_ === !1) {
if (o) {
o.preventDefault();
o.returnValue = !1;
}
return !1;
}
};
t.attachEvent ? t.attachEvent("on" + i, o[i]) : t.addEventListener && t.addEventListener(i, o[i], !1);
}
}, _ = function(e) {
var i = o[e];
if (i) {
t.attachEvent ? t.detachEvent("on" + e, i) : t.addEventListener && t.removeEventListener(e, i, !1);
delete o[e];
delete n[e];
}
}, l = function(e, i) {
var r = n[e];
if (r) {
for (var a = 0, s = r.length; a < s; a++) if (r[a] === i) {
1 == r.length ? o[e] ? _(e) : delete n[e] : r._active ? (r[a] = null, r._dirty = !0) : a == s - 1 ? r.pop() : r[a] = r.pop();
break;
}
return t;
}
}, d = function() {
if (n && o) {
for (var t in o) o.hasOwnProperty(t) && _(t);
n = o = null;
}
}, c = function(i, o) {
if (!e.isCustomEvents || r(i)) {
var a = n[i], s = !0;
if (a && a.length) {
a._active = !0;
var _, l, d;
for (_ = 0, l = a.length; _ < l; _++) try {
if (!a[_]) continue;
d = a[_].call(t, o);
d === !1 && (s = !1);
} catch (c) {
u.fire("error", c);
}
a._active = !1;
if (a._dirty) {
for (_ = 0; _ < l; _++) if (!a[_]) {
_ == l - 1 ? a.pop() : a[_--] = a.pop();
l--;
}
a._dirty = !1;
}
}
return s;
}
return t.dispatchEvent(new window.CustomEvent(i, {
bubbles: !1,
cancelable: !0,
detail: o
}));
}, h = function(t) {
t.preventDefault = h.preventDefault;
t.stopPropagation = h.stopPropagation;
t.target = t.srcElement;
};
h.preventDefault = function() {
this.returnValue = !1;
};
h.stopPropagation = function() {
this.cancelBubble = !0;
};
var f = {
fire: c,
on: a,
un: l,
unextendEvents: d
};
if (i) return f;
for (var p in f) f.hasOwnProperty(p) && (t[p] = f[p]);
e.bugs.leaksMemory && e.bugs.leaksMemory(function() {
for (var e in f) f.hasOwnProperty(e) && (t[e] = null);
});
return t;
}
function n(t) {
a(0, t);
}
function o(t) {
a(1, t);
}
function r(t) {
a(2, t);
}
function a(t, e) {
t <= c ? e() : h[t].push(e);
}
function s(t) {
for (;c < t; ) {
c++;
for (var e = 0; e < h[c].length; e++) h[c][e]();
h[c] = null;
}
}
function _() {
c > 0 || (document.body && document.body.firstChild ? s(1) : window.setTimeout(_, 200));
}
function l() {
s(2);
}
function d() {
var t;
if (e.isSafari) t = window.setInterval(function() {
if (/loaded|complete/i.test(document.readyState)) {
window.clearInterval(t);
l();
}
}, 20); else if (document.addEventListener) /loaded|complete/i.test(document.readyState) ? l() : document.addEventListener("DOMContentLoaded", l, !1); else if (e.isIE) {
window.attachEvent("onload", l);
var i = document.createElement("document:ready");
t = window.setInterval(function() {
if (/loaded|complete/i.test(document.readyState)) {
i = null;
window.clearInterval(t);
l();
} else {
try {
i.doScroll("left");
} catch (e) {
return;
}
i = null;
window.clearInterval(t);
l();
}
}, 200);
}
}
var u = {
extend: t,
body: t(document.body, !0),
window: t(window, !0),
document: t(document, !0),
runAfterScriptReady: n,
runAfterFirstChildReady: o,
runAfterDomReady: r
};
u.extend(u);
var c = 0, h = [ [], [], [], [] ];
_();
d();
i(u, "jx_core_Events");
return u;
}();
}).call(e, i(7), i(4));
}, function(module, exports, __webpack_require__) {
(function(Assert, isUndefined, $jxml_extends) {
module.exports = function() {
function secureURL(t) {
return t.replace(/^http:/, isSecure ? "https:" : "http:");
}
function getWindowClientHeight() {
return void 0 !== window.innerHeight ? window.innerHeight : document.documentElement ? document.documentElement.offsetHeight : document.getElementsByTagName.body.length ? document.getElementsByTagName.body[0].clientHeight : 0;
}
function getWindowClientWidth() {
return void 0 !== window.innerWidth ? window.innerWidth : document.documentElement ? document.documentElement.offsetWidth : document.getElementsByTagName.body.length ? document.getElementsByTagName.body[0].clientWidth : 0;
}
function getFlashVersion() {
var t, e = nav.plugins && nav.plugins[FLASH];
if (e) {
t = nav.mimeTypes && nav.mimeTypes[FLASH_MIME_TYPE];
return t && !t.enabledPlugin ? null : e.description;
}
if (window.ActiveXObject) try {
e = new window.ActiveXObject(FLASH_AX);
e.AllowScriptAccess = "always";
return e.GetVariable("$version");
} catch (i) {}
}
function getJavaVersion() {
var t = nav.mimeTypes;
return isIE ? !isWP7 && ("javaEnabled" in nav && nav.javaEnabled()) : t && (t = t[JAVA_MIME_TYPE]) && (t = t.enabledPlugin) ? t.name : void 0;
}
function getScrollbarSize() {
if (!isUndefined(scrollbar_size)) return scrollbar_size;
var t = document.createElement("div"), e = document.createElement("div"), i = t.style, n = e.style;
i.overflow = "auto";
i.width = i.height = "100px";
i.position = "absolute";
i.top = "-1000px";
n.width = "100%";
n.height = "200px";
t.appendChild(e);
document.body.appendChild(t);
scrollbar_size = t.offsetWidth - t.clientWidth;
document.body.removeChild(t);
return scrollbar_size;
}
function detectCSP() {
try {
return eval("false");
} catch (e) {
return !0;
}
}
function checkIE() {
for (var t = 3, e = document.createElement("div"), i = e.getElementsByTagName("i"); e.innerHTML = "<!--[if gt IE " + ++t + "]><i></i><![endif]-->", 
i[0]; ) ;
return t > 4 ? t : document.documentMode;
}
var nav = navigator, ua = nav.userAgent.toLowerCase(), isNewIE = +(/trident.*rv:? *([0-9]+)/.exec(ua) || [])[1] || !1, isIE = checkIE(), isIE8 = 8 == isIE, isIE7 = 7 == isIE, isIE6 = 6 == isIE, isOpera = window.opera && "[object Opera]" == Object.prototype.toString.call(window.opera), isChrome = "Google Inc." == navigator.vendor, isSafari = "Apple Computer, Inc." == navigator.vendor, isWebKit = !isIE && !isOpera && (isChrome || isSafari || /webkit|khtml/.test(ua)), isFF = +/\d+/.exec(/firefox\/\d+/i.exec(navigator.userAgent) || ""), isFF2 = ua.indexOf("firefox/2") > -1, isFF3 = ua.indexOf("firefox/3") > -1, isIPhone = ua.indexOf("iphone") != -1, isIPod = ua.indexOf("ipod") != -1, isIPad = ua.indexOf("ipad") != -1, isIOS = isIPhone || isIPad || isIPod, isAndroid = ua.indexOf("android") != -1, isWP7 = ua.indexOf("wp7") != -1, isMobile = isIOS || isAndroid || isWP7, scrollbar_size, browser = isIE && "msie" || isFF && "firefox" || isOpera && "opera" || isChrome && "chrome" || isSafari && "safari", version, isBorderBox = isIE && !isStrict, isStrict = "CSS1Compat" == document.compatMode, isQuirks = !isStrict, isIE5Quirks = isIE && isQuirks && document.documentElement && !!document.documentElement.style.setExpression, engineIE = document.documentMode || isIE, isWindows = ua.indexOf("windows") != -1 || ua.indexOf("win32") != -1, isMac = ua.indexOf("macintosh") != -1 || ua.indexOf("mac os x") != -1, isSecure = "https:" == document.location.protocol, language = nav.language || nav.browserLanguage || nav.userLanguage || nav.systemLanguage, bugs = {
noBoxSizing: engineIE <= 7,
ie: {
cssBottomRight: isIE6,
cssFixed: isIE6 || isIE5Quirks,
buggyCSS: isIE6 || isIE5Quirks
}
}, isTextContent = "textContent" in document.createElement("div"), isCustomEvents = !1;
try {
if (window.CustomEvent && /\[native code\]|\[object CustomEventConstructor\]/.test(window.CustomEvent.toString())) {
new window.CustomEvent("testevent", {
bubbles: !1,
cancelable: !0,
detail: !0
});
isCustomEvents = !0;
}
} catch (e) {}
switch (browser) {
case "msie":
case "firefox":
case "chrome":
version = +/\d+/.exec(new RegExp(browser + "[ /]\\d+").exec(ua) || "");
break;

default:
version = +/\d+/.exec(/version[ \/]\d+/.exec(ua) || "");
}
if (isIE6) {
var cleanupCallbacks = [];
bugs.leaksMemory = function(t) {
Assert.isFunction(t);
cleanupCallbacks.push(t);
};
var cleanup = function() {
for (var t = 0; t < cleanupCallbacks.length; t++) cleanupCallbacks[t]();
};
bugs.leaksMemory.remove = function(t) {
for (var e = cleanupCallbacks.length - 1; e >= 0; e--) t == cleanupCallbacks[e] && cleanupCallbacks.splice(e, 1);
};
window.attachEvent("onunload", cleanup);
}
var FLASH = "Shockwave Flash", FLASH_AX = "ShockwaveFlash.ShockwaveFlash", FLASH_MIME_TYPE = "application/x-shockwave-flash", JAVA_MIME_TYPE = "application/x-java-vm", Browser = {
browser: browser,
version: version,
isStrict: isStrict,
isQuirks: isQuirks,
isOpera: isOpera,
isSafari: isSafari,
isWebKit: isWebKit,
isChrome: isChrome,
isAndroid: isAndroid,
isIPhone: isIPhone,
isIPod: isIPod,
isIPad: isIPad,
isIOS: isIOS,
isWP7: isWP7,
isMobile: isMobile,
isNewIE: isNewIE,
isIE: isIE,
isIE6: isIE6,
isIE7: isIE7,
isIE8: isIE8,
isFF: isFF,
isFF2: isFF2,
isFF3: isFF3,
isBorderBox: isBorderBox,
isCustomEvents: isCustomEvents,
engineIE: engineIE,
bugs: bugs,
isWindows: isWindows,
isMac: isMac,
isSecure: isSecure,
secureURL: secureURL,
hasFlash: getFlashVersion(),
hasJava: getJavaVersion(),
language: language,
getScrollbarSize: getScrollbarSize,
getWindowClientHeight: getWindowClientHeight,
getWindowClientWidth: getWindowClientWidth,
isTextContent: isTextContent,
hasCSP: detectCSP()
};
$jxml_extends(Browser, "jx_core_Browser");
return Browser;
}();
}).call(exports, __webpack_require__(8), __webpack_require__(10), __webpack_require__(4));
}, function(t, e, i) {
(function(e, i) {
t.exports = function() {
function t(t, e) {
t || n.log(e);
}
var n = {
ok: t,
isFunction: function(i, n) {
t(e(i), n);
}
};
n.log = function() {};
i(n, "jx_core_Assert");
return n;
}();
}).call(e, i(9), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(t) {
return "function" == typeof t;
}
e(t, "jx_core_globals_isFunction");
return t;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var t = function(t) {
return function(e, i) {
return i ? null == e : e === t;
};
}();
e(t, "jx_core_globals_isUndefined");
return t;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, i, n) {
t.exports = function() {
function t(t) {
var n, o, r = e.extend(this);
try {
n = new window.ActiveXObject("htmlfile");
n.open();
n.write("<script>document.win = window</script>");
n.close();
o = n.win;
} catch (a) {}
if (!o) {
var s = this.iframe = document.createElement("iframe"), _ = s.style;
r.allowTransparency = "true";
r.frameBorder = "0";
_.backgroundColor = "transparent";
_.position = "absolute";
_.width = _.height = "1px";
_.left = _.top = "-9999px";
_.border = 0;
document.body.appendChild(s);
try {
o = s.contentWindow;
n = o.document;
n.open();
n.close();
} catch (a) {
r.fire("error");
r.destroy();
return;
}
}
r.doc = n;
r.win = o;
r.$Loader = {
cleanup: function() {
i(function() {
r.$Loader.payload ? r.fire("success", r.$Loader.payload) : r.fire("error");
r.$Loader.payload = null;
t || r.destroy();
});
}
};
r.reusable = t;
}
function o(t) {
return t && t.replace(r, function(t) {
return "&#" + t.charCodeAt(0) + ";";
});
}
t.prototype.setScope = function(t) {
this.scope = t;
};
var r = /[&<>"']/g;
t.prototype.load = function(t) {
var e = /^(?:https?:)?\/\//i;
if (e.test(t)) {
t = o(t);
try {
this.doc.open();
this.win.$Loader = this.$Loader;
this.win.$Loader.scope = this.scope || {};
this.doc.write('<html><head><script src="' + t + '"></script></head><body onload="try { $Loader.cleanup() } catch(e) {}"></body></html>');
this.doc.close();
} catch (i) {
this.$Loader.cleanup();
}
} else this.$Loader.cleanup();
};
t.prototype.destroy = function() {
try {
this.iframe && document.body.removeChild(this.iframe);
this.doc = this.win = this.iframe = this.win.$Loader = null;
} catch (t) {}
};
n(t, "jx_io_DataIFrame");
return t;
}();
}).call(e, i(6), i(12), i(4));
}, function(t, e, i) {
(function(e, i, n) {
t.exports = function() {
function t(t, i, n) {
e.ok("function" == typeof t, "1st argument to nextTick must be a function");
if (n) for (var a = s.length; a-- > 0; ) if (s[a][0] === t && s[a][1] === i) return;
s.push([ t, i ]);
r || (r = setTimeout(o, 0));
}
function o() {
var t = +new Date() + a, e = s;
s = [];
r && (r = clearTimeout(r));
for (var n = 0, _ = e.length; n < _; n++) {
try {
e[n][0].apply(e[n][1]);
} catch (l) {
i.fire("error", l);
}
if (+new Date() > t) {
if (n < _ - 1) {
e.splice(0, n + 1);
if (s.length) s = e.concat(s); else {
s = e;
r = setTimeout(o, 0);
}
}
break;
}
}
}
var r, a = 100, s = [];
t.tick = o;
n(t, "jx_core_globals_nextTick");
return t;
}();
}).call(e, i(8), i(6), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t(i, n, o, V, H) {
function z() {
if (!p && m && (f || g)) {
U();
C.fromRefTime("init_ui_components" + (g ? "_cached" : "_no_cached"), .25);
var t = l.getValue(), e = u.getValue();
if (t) {
var i = window.document.getElementById("loading");
i && (i.style.display = "none");
q.setVisibility("").setWidth("100%").setHeight("100%").setTop("0").setLeft("0");
q.autobind(h, "value", function(t) {
document.title = t;
});
}
new x(q);
p = !0;
if (!t && !e) try {
q.parentNode.removeChild(q.dom);
} catch (n) {}
}
}
function U() {
!l.getValue() && s.getValue() && "overlay" === r.$("livechat").$("settings").$("chat_window").$("mobile_mode$string").getValue() && y.isStyleSupported("flex-direction") && r.$("livechat").$("ui").update({
mobile_overlay$bool: !0,
mobile_notifications$bool: !0
});
}
if (!(this instanceof t)) return new t(i, n, o, V, H);
if (!(e.isIE <= 8)) if (!v.ACCOUNT_KEY || v.ACCOUNT_KEY.match(/^[\w.]{5,32}$/)) {
C.send = S.send;
C.setRefTime(+new Date());
if (window.$zopim && window.$zopim.t) {
C.start("start_exec", window.$zopim.t);
C.end("start_exec", .25);
}
H || (H = {});
$.assetsURL = v.ASSETS_LEGACY;
$.call(this, i, n, o, V, H);
var q = this;
k.init(H.datanode, H.mockup, S);
if (k.livechat.isAccountError()) B.handleInitError(); else {
C.bindToConnectionStatus(k.root.$("connection").$("status$string"));
M.init(S);
r = k.root;
a = r.$("connection").$("status$string");
s = r.$("livechat").$("ui").$("mobile$bool");
_ = r.$("livechat").$("ui").$("mobile_whitelist$bool");
l = r.$("livechat").$("ui").$("popout$bool");
d = r.$("livechat").$("settings").$("cached$bool");
u = r.$("livechat").$("ui").$("mockup$bool");
c = r.$("livechat").$("features");
h = r.$("livechat").$("settings").$("chat_window").$("title_bar").$("title$string");
if (!s.getValue() || _.getValue() || l.getValue()) {
I.init();
B.init();
new F(i);
O.init();
N.init();
S.init({
root: k.root,
isCookieDenied: I.isCookieDenied,
overrideProxy: w.getHash("__zopim_widget_proxy"),
source: "widget_v2"
});
R.init(k.root, S);
E.init();
D.init(r);
P.init();
A.init();
T.init();
j.init();
L.init();
W.init();
new b(q, null, null, [ ".zopim { display: none !important }" ], {
media: "print"
});
q.dom.className = "zopim";
q.autobind(d, "value", function(t) {
g = t;
z();
});
q.autobind(c, "value", function(t) {
m = !!t;
z();
});
q.autobind(a, "value", function(t) {
f = "reattached" == t || "cookie_law" == t;
z();
});
if (H.mockup) {
q.setVisible(!0);
q.setPosition("relative");
q.setWidth("auto");
q.setHeight("auto");
}
}
}
} else {
y.warnBadEmbed();
B.handleInitError();
}
}
var r, a, s, _, l, d, u, c, h, f, p, g, m, $ = i(15), b = i(26), w = (i(27), i(28)), x = i(29), v = i(42), y = i(48), j = i(348), C = i(59), A = i(85), S = i(58), I = i(198), k = i(40), B = i(349), N = i(107), T = i(362), E = i(272), D = i(363), O = i(109), P = i(364), L = i(367), W = i(368), R = i(49), F = i(295), M = i(298);
t.prototype = n($.prototype);
o(t, "widget");
return t;
}();
}).call(e, i(7), i(14), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t() {}
function i(e) {
t.prototype = e;
return new t();
}
e(i, "jx_core_globals_clone");
return i;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, n, o, r) {
t.exports = function() {
function t(e, i, n, o, r) {
if (!(this instanceof t)) return new t(e, i, n, o, r);
r || (r = {});
r.tagName || (r.tagName = "div");
r.position || (r.position = "absolute");
r.visible || (r.visible = "hidden");
r.margin || (r.margin = "0");
r.padding || (r.padding = "0");
r.border || (r.border = "0");
r.height || (r.height = "0");
r.width || (r.width = "0");
s.call(this, e, i, n, o, r);
}
function a(t, e) {
var i = document.createElement("meta");
i.name = t;
i.content = e;
return i;
}
var s = i(17);
t.prototype = e(s.prototype);
t.prototype.setDesktop = function(t) {
if (n(t)) {
var e = document.getElementsByTagName("head")[0];
e.appendChild(a("viewport", "user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1"));
if (o.isIOS) {
e.appendChild(a("apple-mobile-web-app-capable", "yes"));
e.appendChild(a("apple-mobile-web-app-status-bar-style", "black-translucent"));
}
}
};
r(t, "jx_ui_Application");
return t;
}();
}).call(e, i(14), i(16), i(7), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(t) {
return !!t && "false" != t;
}
e(t, "jx_core_globals_parseBoolean");
return t;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(e, i, n, r, a) {
if (!(this instanceof t)) return new t(e, i, n, r, a);
a || (a = {});
a.tagName || (a.tagName = "div");
o.call(this, e, i, n, r, a);
}
var o = i(18);
t.prototype = e(o.prototype);
n(t, "jx_ui_Widget");
return t;
}();
}).call(e, i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s, _, l, d, u, c, h, f) {
t.exports = function() {
function t(t) {
return function(e) {
try {
this.dom.style[t] = e;
} catch (i) {}
return this;
};
}
function p(t) {
return function(e) {
this.dom.setAttribute(t, e);
return this;
};
}
function g(t) {
return n(t) && "%" == t.substr(t.length - 1) ? parseInt(t, 10) + "%" : parseInt(t, 10);
}
function m() {
if (!m.alreadyHacked) {
m.alreadyHacked = 1;
if (e.isStrict) {
document.body.parentNode.style.background = "#fff url(https://) fixed";
document.body.className = document.body.className;
} else if ("fixed" != document.body.currentStyle.backgroundAttachment) {
if ("none" != document.body.currentStyle.backgroundImage) {
var t, i, n = document.createElement("div"), o = n.style, r = document.body.currentStyle, a = !1, s = 0;
o.backgroundAttachment = r.backgroundAttachment;
o.backgroundColor = r.backgroundColor;
o.backgroundImage = r.backgroundImage;
o.backgroundPositionX = r.backgroundPositionX;
o.backgroundPositionY = r.backgroundPositionY;
o.backgroundRepeat = r.backgroundRepeat;
o.position = "absolute";
o.zIndex = -1;
o.top = o.left = 0;
o.width = "100%";
document.body.insertBefore(n, document.body.firstChild);
var _ = function() {
if (!a && s) {
t += document.body.clientWidth - s;
o.width = t + "px";
s = document.body.clientWidth;
}
i || (i = setTimeout(function() {
o.width = 0;
document.body.className = document.body.className;
t = Math.max(document.body.scrollWidth, document.body.clientWidth);
o.width = t + "px";
s = document.body.clientWidth;
a = document.body.scrollWidth > document.body.clientWidth;
i = null;
}, 0));
};
setTimeout(_, 0);
o.setExpression("height", 'document.body.scrollHeight+"px"');
_();
}
document.body.style.backgroundImage = "url(https://)";
document.body.style.backgroundAttachment = "fixed";
}
}
}
function $(t) {
t = t.split(/[^a-zA-Z0-9]/);
for (var e = 1; e < t.length; e++) t[e].length && (t[e] = t[e].substr(0, 1).toUpperCase() + t[e].substr(1));
return t.join("");
}
function b(t) {
for (;t.defaultPlacement; ) t = t.defaultPlacement;
return t;
}
function w(t, e, i, n, r) {
if (!(this instanceof w)) return new w(t, e, i, n, r);
if (t) {
r || (r = {});
this.jx_id = e = e || o.generateID();
this._top = this._bottom = this._left = this._right = this._width = this._height = NaN;
this._position = null;
this.pos = "";
this.offsetx = 0;
this.offsety = 0;
this._snaps = [ 0, 0, 0, 0 ];
this.useDisplay = !1;
this.doc = this.ownerDocument = t.ownerDocument;
this.parentNode = t;
this.attributes = r;
this.tagName = r.tagName;
this.isNew = !0;
this.dom = this.doc.createElement(this.tagName);
this.dom.jx_wrapper = this;
this.style = this.dom.style;
this.children = [];
this._autobinds = [];
x.call(this);
n && this.addChildren(n);
t.appendChild(t instanceof w ? this : this.dom);
this.setStyle(i);
this.setAttributes(r);
this.__jx__fqname && this.addClass(this.__jx__fqname);
e && o.set(e, this);
}
}
var x = i(25);
e.isIE && document.execCommand("BackgroundImageCache", !1, !0);
var v = "background background-position border border-color border-style border-width color border-top border-right border-bottom border-left clear padding margin margin-top margin-right margin-bottom margin-left display line-height letter-spacing visibility outline overflow overflow-x overflow-y font-family font-size font-weight font-style text-align text-decoration text-transform vertical-align z-index cursor min-height min-width max-height max-width".split(" "), y = "title checked href media name src target dir".split(" "), j = e.bugs.ie.cssFixed;
w.prototype = r(x.prototype);
w.prototype.addChildren = function(t) {
var e = t && t.length;
if (t && e) for (var i, n, o = b(this), r = o.ownerDocument, s = 0; s < e; s++) {
i = t[s];
if (a(i)) o.appendChild(i); else {
n = r.createTextNode(i);
o.appendChild(n);
"function" == typeof i.bind && i.bind(n);
}
}
};
w.prototype.appendChild = function(t) {
if (a(t)) return t[0](this, t[1], t[2], t[3], t[4]);
s(t, this.children) == -1 && 3 != t.nodeType && this.children.push(t);
t.parentNode && t.parentNode != this && t.parentNode.removeChild(t.parentNode instanceof w ? t : t.dom || t);
t.dom && (t.parentNode = this);
this.dom.appendChild(t.dom || t);
return t;
};
w.prototype.removeChild = function(t) {
try {
if (t.dom) {
this.dom.removeChild(t.dom);
t.parentNode = null;
} else this.dom.removeChild(t);
var e = s(t, this.children);
if (e != -1) return this.children.splice(e, 1);
} catch (i) {}
};
w.prototype.insertBefore = function(t, e) {
var i = s(e, this.children);
e && i == -1 && (e = null);
if (t.parentNode) {
var n = s(t, this.children);
if (n != -1) {
this.children.splice(n, 1);
i > n && i--;
} else t.parentNode.removeChild(t);
}
t.dom && (t.parentNode = this);
e ? this.children.splice(i, 0, t) : this.children.push(t);
this.dom.insertBefore(t.dom || t, e ? e.dom || e : null);
};
w.prototype.insertAfter = function(t, e) {
this.insertBefore(t, e && e.getNextSibling());
};
w.prototype.prependTo = function() {};
w.prototype.cloneNode = function(t) {
return this.dom.cloneNode(t);
};
w.prototype.getNextSibling = function() {
return this.dom.nextSibling && this.dom.nextSibling.jx_wrapper;
};
w.prototype.getPreviousSibling = function() {
return this.dom.previousSibling && this.dom.previousSibling.jx_wrapper;
};
w.prototype.getFirstChild = function() {
return this.dom.firstChild && this.dom.firstChild.jx_wrapper;
};
w.prototype.getLastChild = function() {
return this.dom.lastChild && this.dom.lastChild.jx_wrapper;
};
var C = e.isTextContent;
w.prototype.getText = function() {
return this.dom.textContent || this.dom.innerText || "";
};
w.prototype.setText = function(t) {
if (this.dom) {
_ && _.unbind && _.unbind(this.dom);
t && "function" == typeof t.bind && t.bind(this.dom);
C ? this.dom.textContent = t : this.dom.innerText = t;
return this;
}
};
w.prototype.getHTML = function() {
return this.dom.innerHTML;
};
w.prototype.setHTML = function(t) {
this.dom.innerHTML = t;
return this;
};
w.prototype.destroy = function() {
if (this._destructors) for (var t = this._destructors, e = t.length, i = 0; i < e; i++) t[i].call(this);
this._autobinds && this.autounbind();
this.dom.jx_wrapper = null;
"function" == typeof this.empty && this.empty();
this.parentNode && this.parentNode.removeChild(this.parentNode instanceof w ? this : this.dom);
this.parentNode = null;
o.unset(this);
};
w.prototype.empty = function() {
for (var t; this.children.length; ) {
t = this.children.pop();
"function" == typeof t.destroy ? t.destroy() : 1 == t.nodeType && o.proto.destroy.call(t);
}
};
w.prototype.onDestruction = function(t) {
(this._destructors || (this._destructors = [])).push(t);
};
w.prototype.getClassName = w.prototype.getClass = function() {
return this.dom.className;
};
w.prototype.setClassName = w.prototype.setClass = function(t, e) {
this.dom.className = (e ? t : this.__jx__fqname + " " + t) + (this._pseudo ? " " + this._pseudo : "");
return this;
};
w.prototype.setAddClass = w.prototype.addClass = function(t) {
if (!t) return this;
this.dom.className ? this.hasClass(t) || (this.dom.className += " " + t) : this.dom.className = t;
return this;
};
w.prototype.removeClass = function(t) {
if (!t || !this.dom.className || !this.hasClass(t)) return this;
this.dom.className = (" " + this.dom.className + " ").replace(" " + t + " ", " ").slice(1, -1);
return this;
};
w.prototype.hasClass = function(t) {
return !!t && !!this.dom.className && (" " + this.dom.className + " ").indexOf(" " + t + " ") != -1;
};
w.prototype.autobind = function(t, e, i) {
if (this._autobinds) {
this._autobinds.push([ t, e, i ]);
t.on(e, i);
}
};
w.prototype.autounbind = function(t, e, i) {
if (this._autobinds) {
var n, o, r = this._autobinds;
if (t && e && i) for (n = r.length - 1; n >= 0; n--) {
o = r[n];
if (o[0] == t && o[1] == e && o[2] == i) {
r.splice(n, 1);
o[0].un(o[1], o[2]);
return;
}
} else if (t || e || i) ; else {
if (!r) return;
for (n = r.length - 1; n >= 0; n--) {
o = r[n];
o[0].un(o[1], o[2]);
}
delete this._autobinds;
}
}
};
w.prototype.getAttribute = function(t) {
return this.dom.getAttribute(t) || this.dom[t];
};
w.prototype.setAttribute = function(t, e) {
this.dom.setAttribute(t, e);
return this;
};
w.prototype.removeAttribute = function(t) {
this.dom.removeAttribute(t);
return this;
};
w.prototype.setAttributes = function(t) {
var e, i;
for (i in t) if (t.hasOwnProperty(i)) {
e = "set" + i.substr(0, 1).toUpperCase() + i.substr(1);
"function" == typeof this[e] && this[e](t[i]);
}
return this;
};
w.prototype.getStyle = function(t) {
return this.dom.style[$(t)];
};
w.prototype.getComputedStyle = function(t) {
t = t && $(t);
var e;
if (window.getComputedStyle) e = window.getComputedStyle(this.dom, null); else {
if (!this.dom.currentStyle) return;
e = this.dom.currentStyle;
}
return t ? e[t] : e;
};
w.prototype.setStyle = function(t) {
var e, i;
if (1 == arguments.length && n(t)) {
if (!t) return this;
t = t.split(";");
for (e = 0; e < t.length; e++) if (!t[e].match(/^\s*$/)) {
i = t[e].match(/\s*([^:]+):\s*(.*?)\s*$/);
!i && t[e].length || this.setOneStyle(i[1], i[2]);
}
} else if (1 == arguments.length && "object" == typeof t) for (var o in t) t.hasOwnProperty(o) && this.setOneStyle(o, t[o]); else if (arguments.length > 1) for (e = 0; e < arguments.length; e += 2) this.setOneStyle(arguments[e], arguments[e + 1]);
return this;
};
w.prototype.setOneStyle = function(t, e) {
var i = $("set-" + t);
"function" == typeof this[i] ? this[i](e) : this.setCSSStyle(t, e);
return this;
};
w.prototype.setCSSStyle = function(t, e) {
try {
this.dom.style[$(t)] = e;
} catch (i) {}
return this;
};
w.prototype.getScrollWidth = function() {
return this.dom.scrollWidth;
};
w.prototype.getScrollHeight = function() {
return this.dom.scrollHeight;
};
w.prototype.getClientWidth = function() {
return this.dom.clientWidth;
};
w.prototype.getClientHeight = function() {
return this.dom.clientHeight;
};
w.prototype.getTop = function() {
return this.dom.offsetTop;
};
w.prototype.getLeft = function() {
return this.dom.offsetLeft;
};
w.prototype.getWidth = function() {
return this.dom.offsetWidth;
};
w.prototype.getHeight = function() {
return this.dom.offsetHeight;
};
w.prototype.setTop = function(t) {
this._top = g(t);
this.solveConstraints();
return this;
};
w.prototype.setLeft = function(t) {
this._left = g(t);
this.solveConstraints();
return this;
};
w.prototype.setBottom = function(t) {
this._bottom = g(t);
this.solveConstraints();
return this;
};
w.prototype.setRight = function(t) {
this._right = g(t);
this.solveConstraints();
return this;
};
w.prototype.setWidth = function(t) {
this._width = g(t);
this.solveConstraints();
return this;
};
w.prototype.setHeight = function(t) {
this._height = g(t);
this.solveConstraints();
return this;
};
w.prototype.getScrollLeft = function() {
return this.dom.scrollLeft;
};
w.prototype.setScrollLeft = function(t) {
this.dom.scrollLeft = t;
return this;
};
w.prototype.getScrollTop = function() {
return this.dom.scrollTop;
};
w.prototype.setScrollTop = function(t) {
this.dom.scrollTop = t;
return this;
};
w.prototype.setFloat = function(t) {
function i() {
var i = _ && _.flip ? _.flip(t) : t;
e.isIE ? n.dom.style.styleFloat = i : n.dom.style.cssFloat = i;
}
var n = this;
if (_ && _.onLanguage && !this._onLanguageFloat) {
_.onLanguage && _.onLanguage(i);
this.onDestruction(function() {
_.unLanguage && _.unLanguage(i);
});
this._onLanguageFloat = !0;
}
i();
return this;
};
w.prototype.solveConstraints = function() {
isNaN(this._top) || isNaN(this._height) || (this._bottom = NaN);
isNaN(this._left) || isNaN(this._width) || (this._right = NaN);
this._width < 0 && (this._width = 0);
this._height < 0 && (this._height = 0);
this.applyConstraints();
};
w.prototype.applyConstraints = function() {
function t() {
r.top = n(a._top) ? a._top : isNaN(a._top) ? "" : a._top + "px";
r.bottom = n(a._bottom) ? a._bottom : isNaN(a._bottom) ? "" : a._bottom + "px";
if (a._height != a.__height) {
r.height = n(a._height) ? a._height : isNaN(a._height) ? "" : a._height + "px";
a.__height = a._height;
}
}
function i() {
r.left = n(a._left) ? a._left : isNaN(a._left) ? "" : a._left + "px";
r.right = n(a._right) ? a._right : isNaN(a._right) ? "" : a._right + "px";
if (a._width != a.__width) {
r.width = n(a._width) ? a._width : isNaN(a._width) ? "" : a._width + "px";
a.__width = a._width;
}
}
var r = this.dom.style, a = this;
if (o.hasParentNode(this.dom)) if (e.bugs.ie.cssFixed && "fixed" == this._position) l(function() {
a.dom && a.hackFixed();
}); else {
if (e.bugs.ie.cssBottomRight && (!isNaN(this._left) && !isNaN(this._right) || !isNaN(this._top) && !isNaN(this._bottom))) {
this.appendToParent && this.appendToParent(!0);
m();
var s, _, d = isNaN(this._left) ? "" : this._left, u = isNaN(this._right) ? "" : this._right, c = isNaN(this._width) ? "" : this._width, h = isNaN(this._top) ? "" : this._top, f = isNaN(this._bottom) ? "" : this._bottom, p = isNaN(this._height) ? "" : this._height, g = "BackCompat" == this.dom.ownerDocument.compatMode;
if ("fixed" == this._position && this.dom.ownerDocument == document) if (g) {
_ = "document.body.clientHeight";
s = "document.body.clientWidth";
} else {
_ = "document.documentElement.clientHeight";
s = "document.documentElement.clientWidth";
} else {
_ = "this.offsetParent.clientHeight";
s = "this.offsetParent.clientWidth";
}
if (e.isIE6) {
if (!isNaN(this._left) && !isNaN(this._right)) {
u = "";
c = [ s, this._left, this._right ].join("-");
}
if (!isNaN(this._top) && !isNaN(this._bottom)) {
f = "";
p = [ _, this._top, this._bottom ].join(" - ");
}
}
var $ = function(t, e) {
r[t] = "";
r.removeExpression(t);
"number" == typeof e ? r[t] = e + "px" : n(e) && "%" == e.substr(e.length - 1) ? r[t] = e : n(e) && e.length && r.setExpression(t, e);
};
$("left", d);
$("right", u);
$("width", c);
$("top", h);
$("bottom", f);
$("height", p);
}
i();
t();
}
};
w.prototype.hackFixed = function() {
var t = this.dom.style;
m();
this.appendToParent && this.appendToParent(!0);
this._bottom < 0 && (this._bottom = 0);
this._right < 0 && (this._right = 0);
d.ok(isNaN(this._left) != isNaN(this._right), "One and only one of left/right must be set");
d.ok(isNaN(this._top) != isNaN(this._bottom), "One and only one of top/bottom must be set");
d.ok(!isNaN(this._width), "Width must be set");
d.ok(!isNaN(this._height), "Height must be set");
d.ok(this.ownerDocument == document, "Fixed element must be top level element");
if (this._height != this.__height) {
t.height = this._height + "px";
this.__height = this._height;
}
if (this._width != this.__width) {
t.width = this._width + "px";
this.__width = this._width;
}
var i, o, r, a, s = this.getHeight(), _ = this.getWidth();
if (e.isQuirks) {
a = "document.body.clientHeight";
r = "document.body.clientWidth";
i = "(dummye34cf6=document.body.scrollLeft)+";
o = "(dummye34cf6=document.body.scrollTop )+";
} else {
a = "document.documentElement.clientHeight";
r = "document.documentElement.clientWidth";
i = "(dummye34cf6=document.documentElement.scrollLeft)+";
o = "(dummye34cf6=document.documentElement.scrollTop )+";
}
i += isNaN(this._left) ? n(this._left) ? parseInt(this._left, 10) / 100 * (e.isQuirks ? document.body : document.documentElement).clientWidth : r + "-" + (_ + this._right) : this._left;
o += isNaN(this._top) ? n(this._top) ? parseInt(this._top, 10) / 100 * (e.isQuirks ? document.body : document.documentElement).clientHeight : a + "-" + (s + this._bottom) : this._top;
e.isIE6 && "rtl" == document.body.currentStyle.direction && (i += e.isQuirks ? "-(document.body.scrollWidth-document.body.clientWidth)" : "-(document.documentElement.scrollWidth-document.documentElement.clientWidth)");
t.setExpression("left", i + '+"px"');
t.setExpression("top", o + '+"px"');
};
w.prototype.dock = function(t, e, i) {
this.pos = t;
u(e) && (this.offsetx = e);
u(i) && (this.offsety = i);
this.doDock();
this.on("jx:resize", this.doDock);
};
w.prototype.doDock = function() {
var t, e, i, n, o, r, a, s = isNaN(this._width) ? this.dom.offsetWidth : this._width, _ = isNaN(this._height) ? this.dom.offsetHeight : this._height;
t = e = i = n = NaN;
o = r = a = 0;
switch (this.pos.charAt(0)) {
case "t":
t = 0;
break;

case "m":
t = "50%";
break;

case "b":
e = 0;
}
switch (this.pos.charAt(1)) {
case "l":
i = 0;
break;

case "c":
i = "50%";
break;

case "r":
n = 0;
}
"50%" == t && (o = -(_ / 2));
"50%" == i && (r = -(s / 2));
this.offsety >= 0 || !isNaN(t) || "string" == typeof t ? o += this.offsety : a = -this.offsety;
r += this.offsetx;
this.setMargin([ o + "px", 0, a + "px", r + "px" ].join(" ")).setTop(t).setBottom(e).setLeft(i).setRight(n);
};
w.prototype.setBounds = function(t) {
if (!a(t)) {
t = t.split(" ");
t[0] = parseInt(t[0], 10);
t[1] = parseInt(t[1], 10);
t[2] = parseInt(t[2], 10);
t[3] = parseInt(t[3], 10);
}
if (j) {
t[1] = Math.max(0, t[1]);
t[2] = Math.max(0, t[2]);
}
this._bounds = t;
return this;
};
w.prototype.setSnaps = function(t) {
if (!a(t)) {
t = t.split(" ");
t[0] = parseInt(t[0], 10);
t[1] = parseInt(t[1], 10);
t[2] = parseInt(t[2], 10);
t[3] = parseInt(t[3], 10);
}
this._snaps = [ Math.max(0, t[0]), Math.max(0, t[1]), Math.max(0, t[2]), Math.max(0, t[3]) ];
return this;
};
w.prototype.applyBounds = function() {
if (this._bounds) {
this._left < this._bounds[3] + this._snaps[3] && (this._left = this._bounds[3]);
this._right < this._bounds[1] + this._snaps[1] && (this._right = this._bounds[1]);
this._top < this._bounds[0] + this._snaps[0] && (this._top = this._bounds[0]);
this._bottom < this._bounds[2] + this._snaps[2] && (this._bottom = this._bounds[2]);
var t = e.isQuirks ? document.body : document.documentElement, i = isNaN(this._width) ? this.dom.offsetWidth : this._width, n = t.clientWidth - i, o = t.clientHeight - this.dom.offsetHeight;
n - this._left <= this._bounds[1] + this._snaps[1] && (this._left = n - this._bounds[1]);
n - this._right <= this._bounds[3] + this._snaps[3] && (this._right = n - this._bounds[3]);
o - this._top <= this._bounds[2] + this._snaps[2] && (this._top = o - this._bounds[2]);
o - this._bottom <= this._bounds[0] + this._snaps[0] && (this._bottom = o - this._bounds[0]);
}
};
w.prototype.moveTo = function(t, e) {
this._bottom = this._right = NaN;
this._top = e;
this._left = t;
this.applyBounds();
this.applyConstraints();
return this;
};
w.prototype.move = function(t, e) {
isNaN(this._left) && isNaN(this._right) && (this._left = 0);
isNaN(this._top) && isNaN(this._bottom) && (this._top = 0);
isNaN(this._left) || (this._left += t);
isNaN(this._right) || (this._right -= t);
isNaN(this._top) || (this._top += e);
isNaN(this._bottom) || (this._bottom -= e);
this.applyBounds();
this.applyConstraints();
};
w.prototype.resizeBy = function(t, e, i, n) {
if (t) {
isNaN(this._width) && (this._width = this.dom.offsetWidth);
this._width = Math.max(i || 0, this._width + t);
}
if (e) {
isNaN(this._height) && (this._height = this.dom.offsetHeight);
this._height = Math.max(n || 0, this._height + e);
}
this.applyBounds();
this.applyConstraints();
this.fire("jx:resize");
return this;
};
w.prototype.setVisible = function(t) {
"none" != t && "block" != t || (this.useDisplay = !0);
"none" != t && "hidden" != t && "false" != t && t ? this.show() : this.hide();
return this;
};
w.prototype.isVisible = function() {
var t = this.dom.style;
return this.useDisplay ? "none" != t.display : "visible" == t.visibility;
};
w.prototype.show = function() {
var t = this.dom.style;
if (this.useDisplay) {
if (t.display != (this._initialDisplay || "block")) {
t.display = this._initialDisplay || "block";
this.fire("show");
}
} else if ("visible" != t.visibility) {
t.visibility = "visible";
this.fire("show");
}
return this;
};
w.prototype.hide = function() {
var t = this.dom.style;
if (this.useDisplay) {
if ("none" != t.display) {
this._initialDisplay = "none" != t.display && t.display;
t.display = "none";
this.fire("hide");
}
} else if ("hidden" != t.visibility) {
t.visibility = "hidden";
this.fire("hide");
}
return this;
};
w.prototype.toggle = function() {
return this.isVisible() ? this.hide() : this.show();
};
w.prototype.getXY = function() {
var t, e, i = this.dom.offsetParent;
t = this.dom.offsetLeft;
e = this.dom.offsetTop;
for (;i; ) {
t += i.offsetLeft;
e += i.offsetTop;
i = i.offsetParent;
}
return [ t, e ];
};
w.prototype.getFixedXY = function() {
var t, e, i = this.dom, n = this.dom.ownerDocument, o = n.documentElement, r = n.defaultView || i.parentWindow || !1, a = {
top: 0,
left: 0
}, s = o.clientTop || 0, _ = o.clientLeft || 0, l = r.pageYOffset || o.scrollTop, d = r.pageXOffset || o.scrollLeft;
"getBoundingClientRect" in i && (a = i.getBoundingClientRect());
e = a.top + l - s;
t = a.left + d - _;
return [ t, e ];
};
w.prototype.setOpacity = function(t) {
t = Math.max(Math.min(t, 1), 0);
e.isIE < 9 ? this.dom.style.filter = (this.dom.style.filter || "").replace(/progid:DXImageTransform.Microsoft.Alpha\([^\)]*\),? ?/gi, "") + (t >= 1 ? "" : "progid:DXImageTransform.Microsoft.Alpha(opacity=" + 100 * t + "), ") : this.dom.style.opacity = t;
return this;
};
w.prototype.setPosition = function(t) {
switch (t) {
case "static":
case "relative":
case "absolute":
case "fixed":
this._position = t;
}
null !== this._position && this.setCSSStyle("position", j && "fixed" == this._position ? "absolute" : this._position);
return this;
};
w.prototype.setBackgroundImage = function(t) {
var i = t;
i && e.isIE ? this.dom.style.filter += 'progid:DXImageTransform.Microsoft.AlphaImageLoader(src="' + i + '",sizingMethod="scale"), ' : this.dom.style.backgroundImage = 'url("' + t + '")';
return this;
};
w.prototype.setRotation = function(t) {
if (e.isFF) this.dom.style.MozTransform = t ? "rotate(" + t + "deg)" : ""; else if (e.isSafari) this.dom.style.WebkitTransform = t ? "rotate(" + t + "deg)" : ""; else if (e.isIE) {
this.dom.style.filter = t ? "progid:DXImageTransform.Microsoft.BasicImage(rotation=" + Math.round(t / 90) + ")" : "";
if (e.isIE8 && t) {
var i = this.parentNode.getElementsByTagName("iframe");
if (e.isIE8 && i.length) {
i[0].style.filter = t ? "progid:DXImageTransform.Microsoft.BasicImage(rotation=" + Math.round(t / 90) + ")" : "";
this.dom.style.overflow = "visible";
}
}
}
return this;
};
w.prototype.appendToParent = function(t) {
o.hasParentNode(this.dom) || this.parentNode.appendChild(this.parentNode instanceof w ? this : this.dom);
this.parentNode != document.body || "absolute" != this.style.position && "fixed" != this.style.position || this.parentNode.insertBefore(this.dom, this.parentNode.firstChild);
if (t && !this.inDOM) {
this.parentNode.appendToParent && this.parentNode.appendToParent(t);
this.inDOM = !0;
}
};
w.prototype.focus = function() {
try {
this.dom.focus();
} catch (t) {}
return this;
};
w.prototype.blur = function() {
try {
this.dom.blur();
} catch (t) {}
return this;
};
w.prototype.click = function() {
this.dom.click && this.dom.click();
return this;
};
w.prototype.validate = function(t) {
for (var e = !0, i = 0, n = this.children.length; i < n; i++) {
var o = this.children[i];
o instanceof w && "function" == typeof o.validate && (o.validate(!!t && e) || (e = !1));
}
return e;
};
w.prototype.getSelectable = function() {
return this.selectable;
};
w.prototype.setSelectable = function(t) {
function i() {
return !1;
}
if (c(t)) {
this.selectable = !0;
this.setStyle("user-select", "text");
e.isFF && this.setStyle("-moz-user-select", "text");
e.isWebKit && this.setStyle("-webkit-user-select", "text");
e.isIE > 9 && this.setStyle("-ms-user-select", "text");
(e.isIE < 10 || e.isOpera) && this.un("selectstart", i);
} else {
this.selectable = !1;
this.setStyle("user-select", "none");
e.isFF && this.setStyle("-moz-user-select", "none");
e.isWebKit && this.setStyle("-webkit-user-select", "none");
e.isIE > 9 && this.setStyle("-ms-user-select", "none");
(e.isIE < 10 || e.isOpera) && this.on("selectstart", i);
}
return this;
};
w.prototype.getDisabled = function() {
return this.dom.disabled;
};
w.prototype.setDisabled = function(t) {
t = c(t);
for (var e = 0, i = this.children.length; e < i; e++) this.children[e] instanceof w && this.children[e].setDisabled(t);
this[t ? "addClass" : "removeClass"]("disabled");
this.dom.disabled = t;
return this;
};
w.prototype.getReadOnly = function() {
return this.dom.readOnly;
};
w.prototype.setReadOnly = function(t) {
t = c(t);
for (var e = 0, i = this.children.length; e < i; e++) this.children[e] instanceof w && this.children[e].setReadOnly(t);
this.dom.readOnly = t;
return this;
};
w.prototype.getValue = function() {
return this.dom.value;
};
w.prototype.setValue = function(t) {
this.dom.value = h(t, "allowNull") ? "" : t;
return this;
};
w.prototype.getType = function() {
return this.getAttribute("type");
};
w.prototype.setType = function(t) {
try {
this.dom.setAttribute("type", t);
} catch (e) {}
return this;
};
w.prototype.getName = function() {
return this.getAttribute("name");
};
w.prototype.setName = function(t) {
return this.setAttribute("name", t);
};
w.prototype.getTabIndex = w.prototype.getTabindex = function() {
try {
return this.dom.tabIndex;
} catch (t) {}
};
w.prototype.setTabIndex = w.prototype.setTabindex = function(t) {
try {
this.dom.tabIndex = t;
} catch (e) {}
return this;
};
w.prototype.setPlacement = function(t) {
if (t && this.parentNode && this.parentNode instanceof w) {
var e = this.parentNode.getContainer(t);
if (e) {
if (!c(this.attributes.discardPlacement)) {
e.appendChild(e instanceof w ? this : this.dom);
return this;
}
for (;this.children.length; ) e.appendChild(this.children[0]);
this.destroy();
}
}
};
w.prototype.setContainer = function(t) {
this.attributes.container = t;
return this;
};
w.prototype.getContainer = function(t) {
if (t) {
if (this.attributes.container == t) return this;
for (var e, i = this.children.length, n = 0; n < i; n++) if ("function" == typeof this.children[n].getContainer) {
e = this.children[n].getContainer(t);
if (e) return e;
}
}
};
w.prototype.getPseudo = function() {
return this._pseudo;
};
w.prototype.setPseudo = function(t) {
this._pseudo && this.removeClass(t);
this._pseudo = t;
this._pseudo && this.addClass(t);
return this;
};
w.prototype.setUseDisplay = function(t) {
this.useDisplay = c(t);
return this;
};
w.prototype.getElement = function(t) {
return o.get(this.jx_id + "__" + t);
};
w.prototype.setLabel = function(t) {
this.label = t;
return this;
};
w.prototype.getLabel = function() {
return this.label || "";
};
for (var A = 0; A < v.length; A++) w.prototype[$("set-" + v[A])] = t($(v[A]));
for (A = 0; A < y.length; A++) w.prototype[$("set-" + y[A])] = p($(y[A]));
w.__jx__no_fqname = !0;
f(w, "jx_ui_HTMLElement");
return w;
}();
}).call(e, i(7), i(19), i(20), i(14), i(21), i(24), i(22), i(12), i(8), i(23), i(16), i(10), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(t) {
return "string" == typeof t;
}
e(t, "jx_core_globals_isString");
return t;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, i, n, o, r, a, s, _, l) {
t.exports = function() {
function t(t, e, i) {
try {
t.style[k(e)] = i;
} catch (n) {
console && console.log("Failed to set style." + e + ' to "' + i + '": ' + n.description);
}
}
function d() {}
function u() {}
function c() {
return "___$_" + T++;
}
function h(t, e) {
var i = e.getAttribute(E);
i = i ? i.split(" ") : [];
t || (t = c());
D[t] = e;
i.push(t);
e.setAttribute(E, i.join(" "));
}
function f(t) {
var e = t.getAttribute(E);
if (e) {
e = e.split(" ");
for (var i = 0; i < e.length; i++) delete D[e[i]];
}
}
function p(t) {
return D[t];
}
function g(t, e) {
for (var i, n = 0; n < e.length; n++) {
i = e[n];
if ("string" != typeof i) {
i[1] && (i[1] = t + "__" + i[1]);
i[3] && g(t, i[3]);
}
}
return e;
}
function m(t) {
var e = function(i, n, o, r, a) {
n = n || c();
var s = i.ownerDocument, _ = B.create(s, t, n);
_.__jx__constructor = e;
_.__jx__native = !0;
var l = !1;
_.appendToParent = function(t) {
B.hasParentNode(_) || B.appendChild(i, _);
if (t && !l) {
i.appendToParent && i.appendToParent(!0);
l = !0;
}
};
_.setStyle(o);
_.setAttributes(a);
B.addChildren(_, r);
_.appendToParent();
return _;
};
return e;
}
function $(t) {
for (;t.defaultPlacement; ) t = t.defaultPlacement;
return t;
}
function b(t) {
return t.createElement ? t : $(t).ownerDocument;
}
function w(t, n, o, r) {
var a = b(t).createElement(n);
e.isSafari && "textarea" == n.toLowerCase() && (a.style.resize = "none");
switch (n.toLowerCase()) {
case "textarea":
case "input":
a.style.outlineStyle = "none";
}
d(a);
h(o, a);
A(a);
i.extend(a);
a.setStyle(r);
e.buggyCSS && a.setOverflow("auto");
return a;
}
function x(t) {
return t.parentNode && t.parentNode.nodeType && 11 != t.parentNode.nodeType;
}
function v(t, e) {
if (t != document.body || "absolute" != e.style.position && "fixed" != e.style.position) {
for (var i = t; i.defaultPlacement; ) i = i.defaultPlacement;
i.appendChild(e);
e.applyConstraints();
} else {
t.insertBefore(e, t.firstChild);
e.applyConstraints();
}
}
function y(t, e) {
if (e && e.length) {
t = $(t);
for (var i, o, r, a = t.ownerDocument, s = 0; s < e.length; s++) {
o = e[s];
if (n(o)) i = o[0](t, o[1], o[2], o[3], o[4]); else {
r = a.createTextNode(o);
t.appendChild(r);
"function" == typeof o.bind && o.bind(r);
}
}
return i;
}
}
function j(t) {
var e = t.ownerDocument;
return e.defaultView && e.defaultView.getComputedStyle ? e.defaultView.getComputedStyle(t, null) || {} : t.currentStyle ? t.currentStyle : {};
}
function C(t, e) {
return j(t)[e];
}
function A(t, i) {
function l(e) {
var i;
for (var n in e) if (e.hasOwnProperty(n)) {
i = "set" + n.substr(0, 1).toUpperCase() + n.substr(1);
"function" == typeof t[i] && t[i](e[n]);
}
}
function d() {
return t.textContent || t.innerText || "";
}
function u(e) {
o && o.unbind && o.unbind(t);
e && "function" == typeof e.bind && e.bind(t);
O ? t.textContent = e : t.innerText = e;
}
function c(e) {
function i(e, i) {
var n = k("set-" + e);
"function" == typeof t[n] ? t[n](i) : N(t, e, i);
}
var n, o;
if (1 == arguments.length && r(e)) {
if (!e) return;
e = e.split(";");
for (n = 0; n < e.length; n++) if (!e[n].match(/^\s*$/)) {
o = e[n].match(/\s*([^:]+):\s*(.*?)\s*$/);
o || !e[n].length ? i(o[1], o[2]) : console && console.log('Bad style: "' + e[n] + '"');
}
} else if (1 == arguments.length && "object" == typeof e) for (var a in e) e.hasOwnProperty(a) && i(a, e[a]); else if (arguments.length > 1) for (n = 0; n < arguments.length; n += 2) i(arguments[n], arguments[n + 1]);
}
function h(i) {
function n() {
var t = o && o.flip ? o.flip(i) : i;
e.isIE ? ot.styleFloat = t : ot.cssFloat = t;
}
o && o.onLanguage && o.onLanguage(n);
n();
return t;
}
function f(e) {
X = w(e);
v();
return t;
}
function p(e) {
Z = w(e);
v();
return t;
}
function g(e) {
K = w(e);
v();
return t;
}
function m(e) {
Q = w(e);
v();
return t;
}
function $(e) {
J = w(e);
v();
return t;
}
function b(e) {
tt = w(e);
v();
return t;
}
function w(t) {
return r(t) && "%" == t.substr(t.length - 1) ? parseInt(t, 10) + "%" : parseInt(t, 10);
}
function x(e) {
switch (e) {
case "static":
case "relative":
case "absolute":
case "fixed":
et = e;
}
null !== et && N(t, "position", _t && "fixed" == et ? "absolute" : et);
return t;
}
function v() {
isNaN(X) || isNaN(tt) || (K = NaN);
isNaN(Z) || isNaN(J) || (Q = NaN);
J < 0 && (J = 0);
tt < 0 && (tt = 0);
y();
}
function y() {
B.hasParentNode(t) && (e.bugs.ie.cssFixed && "fixed" == et ? a(S, t, !0) : !e.bugs.ie.cssBottomRight || (isNaN(Z) || isNaN(Q)) && (isNaN(X) || isNaN(K)) ? E() : T());
}
function S() {
I();
t.appendToParent && t.appendToParent(!0);
K < 0 && (K = 0);
Q < 0 && (Q = 0);
s.ok(isNaN(Z) != isNaN(Q), "One and only one of left/right must be set");
s.ok(isNaN(X) != isNaN(K), "One and only one of top/bottom must be set");
s.ok(!isNaN(J), "Width must be set");
s.ok(!isNaN(tt), "Height must be set");
s.ok(t.ownerDocument == document, "Fixed element must be top level element");
if (tt != nt) {
ot.height = tt + "px";
nt = tt;
}
if (J != it) {
ot.width = J + "px";
it = J;
}
var i, n, o, a;
if (e.isQuirks) {
a = "document.body.clientHeight";
o = "document.body.clientWidth";
i = "(dummye34cf6=document.body.scrollLeft)+";
n = "(dummye34cf6=document.body.scrollTop )+";
} else {
a = "document.documentElement.clientHeight";
o = "document.documentElement.clientWidth";
i = "(dummye34cf6=document.documentElement.scrollLeft)+";
n = "(dummye34cf6=document.documentElement.scrollTop )+";
}
i += isNaN(Z) ? r(Z) ? parseInt(Z, 10) / 100 * (e.isQuirks ? document.body : document.documentElement).clientWidth : o + "-" + (J + Q) : Z;
n += isNaN(X) ? r(X) ? parseInt(X, 10) / 100 * (e.isQuirks ? document.body : document.documentElement).clientHeight : a + "-" + (tt + K) : X;
e.isIE6 && "rtl" == document.body.currentStyle.direction && (i += e.isQuirks ? "-(document.body.scrollWidth-document.body.clientWidth)" : "-(document.documentElement.scrollWidth-document.documentElement.clientWidth)");
ot.setExpression("left", i + '+"px"');
ot.setExpression("top", n + '+"px"');
}
function I() {
if (!I.alreadyHacked) {
I.alreadyHacked = 1;
if (e.isStrict) document.body.parentNode.style.background = "#fff url(https://) fixed"; else if ("fixed" != document.body.currentStyle.backgroundAttachment) {
if ("none" != document.body.currentStyle.backgroundImage) {
var t = document.createElement("div"), i = t.style, n = document.body.currentStyle;
i.backgroundAttachment = n.backgroundAttachment;
i.backgroundColor = n.backgroundColor;
i.backgroundImage = n.backgroundImage;
i.backgroundPositionX = n.backgroundPositionX;
i.backgroundPositionY = n.backgroundPositionY;
i.backgroundRepeat = n.backgroundRepeat;
i.position = "absolute";
i.zIndex = -1;
i.top = i.left = 0;
i.width = "100%";
document.body.insertBefore(t, document.body.firstChild);
var o, r, a = !1, s = 0, _ = function() {
if (!a && s) {
o += document.body.clientWidth - s;
i.width = o + "px";
s = document.body.clientWidth;
}
r || (r = setTimeout(function() {
i.width = 0;
document.body.className = document.body.className;
o = Math.max(document.body.scrollWidth, document.body.clientWidth);
i.width = o + "px";
s = document.body.clientWidth;
a = document.body.scrollWidth > document.body.clientWidth;
r = null;
}, 0));
};
setTimeout(_, 0);
i.setExpression("height", 'document.body.scrollHeight+"px"');
_();
}
document.body.style.backgroundImage = "url(https://)";
document.body.style.backgroundAttachment = "fixed";
}
}
}
function T() {
function i(t, e) {
ot[t] = "";
ot.removeExpression(t);
"number" == typeof e ? ot[t] = e + "px" : r(e) && "%" == e.substr(e.length - 1) ? ot[t] = e : r(e) && e.length && ot.setExpression(t, e);
}
t.appendToParent && t.appendToParent(!0);
I();
var n, o, a = isNaN(Z) ? "" : Z, s = isNaN(Q) ? "" : Q, _ = isNaN(J) ? "" : J, l = isNaN(X) ? "" : X, d = isNaN(K) ? "" : K, u = isNaN(tt) ? "" : tt, c = "BackCompat" == t.ownerDocument.compatMode;
if ("fixed" == et && t.ownerDocument == document) if (c) {
o = "document.body.clientHeight";
n = "document.body.clientWidth";
} else {
o = "document.documentElement.clientHeight";
n = "document.documentElement.clientWidth";
} else {
o = "this.offsetParent.clientHeight";
n = "this.offsetParent.clientWidth";
}
if (e.isIE6) {
if (!isNaN(Z) && !isNaN(Q)) {
s = "";
_ = [ n, Z, Q ].join("-");
}
if (!isNaN(X) && !isNaN(K)) {
d = "";
u = [ o, X, K ].join(" - ");
}
}
if ("fixed" == et && t.ownerDocument == document) if (c) {
if (!isNaN(Z) || isNaN(Q)) a += "+(dummye34cf6=document.body.scrollLeft)"; else {
a += "+(dummye34cf6=document.body.scrollLeft)+document.body.clientWidth-this.offsetWidth-" + Q;
s = "";
}
if (!isNaN(X) || isNaN(K)) l += "+(dummye34cf6=document.body.scrollTop)"; else {
l += "+(dummye34cf6=document.body.scrollTop)+document.body.clientHeight-this.offsetHeight-" + K;
d = "";
}
} else {
if (!isNaN(Z) || isNaN(Q)) a += "+(dummye34cf6=document.documentElement.scrollLeft)"; else if (e.isIE6) {
a += "+(dummye34cf6=document.documentElement.scrollLeft)+document.documentElement.clientWidth-this.offsetWidth-" + Q;
s = "";
} else s += "+document.documentElement.scrollWidth-(dummye34cf6=document.documentElement.scrollLeft)-document.documentElement.clientWidth";
if (!isNaN(X) || isNaN(K)) l += "+(dummye34cf6=document.documentElement.scrollTop)"; else if (e.isIE6) {
l += "+(dummye34cf6=document.documentElement.scrollTop)+document.documentElement.clientHeight-this.offsetHeight-" + K;
d = "";
} else d += "+document.documentElement.scrollHeight - (dummye34cf6=document.documentElement.scrollTop) - document.documentElement.clientHeight";
}
i("left", a);
i("right", s);
i("width", _);
i("top", l);
i("bottom", d);
i("height", u);
}
function E() {
L();
D();
}
function D() {
ot.top = r(X) ? X : isNaN(X) ? "" : X + "px";
ot.bottom = r(K) ? K : isNaN(K) ? "" : K + "px";
if (tt != nt) {
ot.height = r(tt) ? tt : isNaN(tt) ? "" : tt + "px";
nt = tt;
}
}
function L() {
ot.left = r(Z) ? Z : isNaN(Z) ? "" : Z + "px";
ot.right = r(Q) ? Q : isNaN(Q) ? "" : Q + "px";
if (J != it) {
ot.width = r(J) ? J : isNaN(J) ? "" : J + "px";
it = J;
}
}
function W() {
var e, i, n, o, r, a, s = isNaN(J) ? t.offsetWidth : J, _ = isNaN(tt) ? t.offsetHeight : tt;
e = i = n = o = NaN;
r = a = 0;
switch (lt.charAt(0)) {
case "t":
e = 0;
break;

case "m":
e = "50%";
break;

case "b":
i = 0;
}
switch (lt.charAt(1)) {
case "l":
n = 0;
break;

case "c":
n = "50%";
break;

case "r":
o = 0;
}
"50%" == e && (r = -(_ / 2));
"50%" == n && (a = -(s / 2));
var l = 0;
ut >= 0 || !isNaN(e) || "string" == typeof e ? r += ut : l = -ut;
a += dt;
t.setMargin([ r + "px", 0, l + "px", a + "px" ].join(" ")).setTop(e).setBottom(i).setLeft(n).setRight(o);
}
function R(e) {
if (!n(e)) {
e = e.split(" ");
e[0] = parseInt(e[0], 10);
e[1] = parseInt(e[1], 10);
e[2] = parseInt(e[2], 10);
e[3] = parseInt(e[3], 10);
}
if (_t) {
e[1] = Math.max(0, e[1]);
e[2] = Math.max(0, e[2]);
}
ct = e;
return t;
}
function F(e) {
if (!n(e)) {
e = e.split(" ");
e[0] = parseInt(e[0], 10);
e[1] = parseInt(e[1], 10);
e[2] = parseInt(e[2], 10);
e[3] = parseInt(e[3], 10);
}
ht = [ Math.max(0, e[0]), Math.max(0, e[1]), Math.max(0, e[2]), Math.max(0, e[3]) ];
return t;
}
function M() {
if (ct) {
Z < ct[3] + ht[3] && (Z = ct[3]);
Q < ct[1] + ht[1] && (Q = ct[1]);
X < ct[0] + ht[0] && (X = ct[0]);
K < ct[2] + ht[2] && (K = ct[2]);
var i = e.isQuirks ? document.body : document.documentElement, n = isNaN(J) ? t.offsetWidth : J, o = i.clientWidth - n, r = i.clientHeight - t.offsetHeight;
o - Z <= ct[1] + ht[1] && (Z = o - ct[1]);
o - Q <= ct[3] + ht[3] && (Q = o - ct[3]);
r - X <= ct[2] + ht[2] && (X = r - ct[2]);
r - K <= ct[0] + ht[0] && (K = r - ct[0]);
}
}
function V(e, i) {
K = Q = NaN;
X = i;
Z = e;
M();
y();
return t;
}
function H(t, e) {
isNaN(Z) && isNaN(Q) && (Z = 0);
isNaN(X) && isNaN(K) && (X = 0);
isNaN(Z) || (Z += t);
isNaN(Q) || (Q -= t);
isNaN(X) || (X += e);
isNaN(K) || (K -= e);
M();
y();
}
function z(e, i, n, o) {
if (e) {
isNaN(J) && (J = t.offsetWidth);
J = Math.max(n || 0, J + e);
}
if (i) {
isNaN(tt) && (tt = t.offsetHeight);
tt = Math.max(o || 0, tt + i);
}
M();
y();
t.fire("jx:resize");
return t;
}
function U(e) {
"none" != e && "block" != e || (ft = !0);
"none" != e && "hidden" != e && "false" != e && e ? Y() : q();
return t;
}
function q() {
if (ft) {
if ("none" != ot.display) {
ot.display = "none";
t.fire("hide");
}
} else if ("hidden" != ot.visibility) {
ot.visibility = "hidden";
t.fire("hide");
}
return t;
}
function G() {
return ft ? "none" != t.getStyle("display") : "visible" == t.getStyle("visibility");
}
function Y() {
if (ft) {
if ("block" != ot.display) {
ot.display = "block";
t.fire("show");
}
} else if ("visible" != ot.visibility) {
ot.visibility = "visible";
t.fire("show");
}
return t;
}
var X, K, Z, Q, J, tt, et, it, nt, ot = t.style, rt = t.ownerDocument, at = "BackCompat" == rt.compatMode, st = !(!rt.documentElement || !rt.documentElement.style.setExpression), _t = e.isIE6 || e.isIE && at && st;
X = K = Z = Q = J = tt = NaN;
et = null;
var lt = "", dt = 0, ut = 0;
t.dock = function(e, i, n) {
lt = e;
_(i) && (dt = i);
_(n) && (ut = n);
W();
t.on("jx:resize", W);
};
var ct, ht = [ 0, 0, 0, 0 ], ft = !1;
t.getStyles = function() {
return j(t);
};
t.getStyle = function(e) {
return C(t, e);
};
t.setAttributes = l;
t.getText = d;
t.setText = u;
t.setStyle = c;
t.setFloat = h;
t.setPosition = x;
t.setTop = f;
t.setBottom = g;
t.setLeft = p;
t.setRight = m;
t.setHeight = b;
t.setWidth = $;
t.applyConstraints = y;
t.setVisible = U;
t.setBounds = R;
t.setSnaps = F;
t.move = H;
t.moveTo = V;
t.resizeBy = z;
t.hide = q;
t.show = Y;
t.isVisible = G;
for (var pt in P) P.hasOwnProperty(pt) && (t[pt] = P[pt]);
if (i) for (var gt = t.firstChild; gt; ) {
A(gt, !0);
gt = gt.nextSibling;
}
return t;
}
function S(t) {
return function(e) {
try {
this.style[t] = e;
} catch (i) {}
return this;
};
}
function I(t) {
return function(e) {
this.setAttribute(t, e);
return this;
};
}
function k(t) {
t = t.split(/[^a-zA-Z0-9]/);
for (var e = 1; e < t.length; e++) t[e].length && (t[e] = t[e].substr(0, 1).toUpperCase() + t[e].substr(1));
return t.join("");
}
var B = {
create: w,
extend: A,
appendChild: v,
addChildren: y,
hasParentNode: x,
id: c,
get: p,
set: h,
unset: f,
mangleIDs: g,
generateID: c,
nativeGenerator: m,
getStyles: j,
processDeferredStyles: u
}, N = t, T = 1, E = "__JX__ID", D = {};
e.bugs.leaksMemory && e.bugs.leaksMemory(function() {
for (var t, e = 0, i = D.length; e < i; e++) {
t = D[e];
t.plugLeakage && t.plugLeakage();
}
});
var O = e.isTextContent, P = B.proto = {
$: function(t) {
return p(this.id + "__" + t);
},
destroy: function() {
if (this._destructors) for (var t = this._destructors, i = t.length, n = 0; n < i; n++) t[n].call(this);
this.parentNode && this.parentNode.removeChild(this);
this._autobinds && this.autounbind();
"function" == typeof this.empty && this.empty();
"function" == typeof this.unextendEvents && this.unextendEvents();
f(this);
e.bugs.leaksMemory && "function" == typeof this.plugLeakage && this.plugLeakage();
},
empty: function() {
for (var t; t = this.firstChild; ) "function" == typeof t.destroy ? t.destroy() : t.jx_wrapper ? t.jx_wrapper.destroy() : 1 == t.nodeType ? P.destroy.call(t) : this.removeChild(t);
},
onDestruction: function(t) {
(this._destructors || (this._destructors = [])).push(t);
},
autobind: function(t, e, i) {
t.on(e, i);
this._autobinds || (this._autobinds = []);
this._autobinds.push([ t, e, i ]);
},
autounbind: function(t, e, i) {
var n, o, r = this._autobinds;
if (t && e && i) for (n = r.length - 1; n >= 0; n--) {
o = r[n];
if (o[0] == t && o[1] == e && o[2] == i) {
r.splice(n, 1);
o[0].un(o[1], o[2]);
return;
}
} else if (t || e || i) ; else {
if (!r) return;
for (n = r.length - 1; n >= 0; n--) {
o = r[n];
o[0].un(o[1], o[2]);
}
}
},
getXY: function() {
var t, e, i = this.offsetParent;
t = this.offsetLeft;
e = this.offsetTop;
for (;i; ) {
t += i.offsetLeft;
e += i.offsetTop;
i = i.offsetParent;
}
return [ t, e ];
},
getFixedXY: function() {
var t = 0, e = 0, i = this;
if ("getBoundingClientRect" in this) {
var n = this.ownerDocument, o = n.body, r = n.defaultView || i.parentWindow || !1, a = i.getBoundingClientRect(), s = n.clientTop || o.clientTop || 0, _ = n.clientLeft || o.clientLeft || 0, l = r.pageYOffset || o.scrollTop, d = r.pageXOffset || o.scrollLeft;
e = a.top + l - s;
t = a.left + d - _;
} else {
e = i.offsetTop;
t = i.offsetLeft;
for (;i = i.offsetParent; ) {
e -= i.scrollTop, t -= i.scrollLeft;
e += i.offsetTop, t += i.offsetLeft;
}
}
return [ t, e ];
},
toggle: function() {
this.isVisible() ? this.hide() : this.show();
return this;
},
setOpacity: function(t) {
t = Math.max(Math.min(t, 1), 0);
e.isIE ? this.style.filter = (this.style.filter || "").replace(/progid:DXImageTransform.Microsoft.Alpha\([^\)]*\),? ?/gi, "") + (t >= 1 ? "" : "progid:DXImageTransform.Microsoft.Alpha(opacity=" + 100 * t + "), ") : this.style.opacity = t;
return this;
},
setBackgroundImage: function(t) {
var i = t;
i && e.isIE ? this.style.filter += 'progid:DXImageTransform.Microsoft.AlphaImageLoader(src="' + i + '",sizingMethod="scale"), ' : this.style.backgroundImage = 'url("' + t + '")';
return this;
},
setClass: function(t) {
this.className = t;
return this;
},
addClass: function(t) {
this.removeClass(t);
this.className += " " + t;
return this;
},
removeClass: function(t) {
for (var e = this.className.split(" "), i = 0; i < e.length; i++) e[i] == t && (e[i] = "");
this.className = e.join(" ");
return this;
},
setRotation: function(t) {
if (e.isFF) this.style.MozTransform = t ? "rotate(" + t + "deg)" : ""; else if (e.isSafari) this.style.WebkitTransform = t ? "rotate(" + t + "deg)" : ""; else if (e.isIE) {
this.style.filter = t ? "progid:DXImageTransform.Microsoft.BasicImage(rotation=" + Math.round(t / 90) + ")" : "";
if (e.isIE8 && t) {
var i = this.getElementsByTagName("iframe");
if (e.isIE8 && i.length) {
i[0].style.filter = t ? "progid:DXImageTransform.Microsoft.BasicImage(rotation=" + Math.round(t / 90) + ")" : "";
this.style.overflow = "visible";
}
}
}
return this;
},
setSelectable: function(t) {
function e() {
return !1;
}
if (t && "false" != t) {
this.unselectable = "on";
"undefined" != typeof this.style.MozUserSelect ? this.style.MozUserSelect = "none" : "undefined" != typeof this.style.WebkitUserSelect ? this.style.WebkitUserSelect = "none" : "undefined" != typeof this.onselectstart && this.un("selectstart", e);
} else {
this.unselectable = "on";
"undefined" != typeof this.style.MozUserSelect ? this.style.MozUserSelect = "none" : "undefined" != typeof this.style.WebkitUserSelect ? this.style.WebkitUserSelect = "none" : "undefined" != typeof this.onselectstart && this.on("selectstart", e);
}
return this;
},
setScrollTop: function(t) {
this.scrollTop = t;
return this;
}
};
e.leaksMemory && (P.plugLeakage = function() {
this.unextendEvents && this.unextendEvents();
this.$ = this.plugLeakage = this.destroy = this.empty = this.autobind = this.autounbind = this._autobinds = this._destructors = this.onDestruction = this.getXY = this.appendToParent = this.defaultPlacement = this.getStyles = this.getStyle = this.setAttributes = this.getText = this.setText = this.setStyle = this.setFloat = this.setPosition = this.setTop = this.setBottom = this.setLeft = this.setRight = this.setHeight = this.setWidth = this.applyConstraints = this.setVisible = this.setBounds = this.setSnaps = this.move = this.moveTo = this.resizeBy = this.hide = this.show = this.isVisible = this.toggle = this.setOpacity = this.setBackgroundImage = this.setClass = this.addClass = this.removeClass = this.setRotation = this.setSthisectable = this.setScrollTop = this.setBackground = this.setBackgroundPosition = this.setBorder = this.setBorderColor = this.setBorderStyle = this.setBorderWidth = this.setBorderTop = this.setBorderRight = this.setBorderBottom = this.setBorderLeft = this.setClear = this.setColor = this.setPadding = this.setMargin = this.setMarginTop = this.setMarginRight = this.setMarginBottom = this.setMarginLeft = this.setDisplay = this.setLineHeight = this.setLetterSpacing = this.setVisibility = this.setOutline = this.setOverflow = this.setOverflowX = this.setOverflowY = this.setFontFamily = this.setFontSize = this.setFontWeight = this.setFontStyle = this.setTextAlign = this.setTextDecoration = this.setTextTransform = this.setVerticalAlign = this.setZIndex = this.setCursor = this.setHref = this.setSrc = this.setChecked = this.setMedia = this.setName = this.setType = this.setValue = this.setDataNode = this.__jx__constructor = this.__jx__native = null;
});
var L, W;
L = "background background-position border border-color border-style border-width color border-top border-right border-bottom border-left clear padding margin margin-top margin-right margin-bottom margin-left display line-height letter-spacing visibility outline overflow overflow-x overflow-y font-family font-size font-weight font-style text-align text-decoration text-transform vertical-align z-index cursor".split(" ");
for (W = 0; W < L.length; W++) P[k("set-" + L[W])] = S(k(L[W]));
L = "checked href media name src target type value".split(" ");
for (W = 0; W < L.length; W++) P[k("set-" + L[W])] = I(L[W]);
e.isIE && document.execCommand("BackgroundImageCache", !1, !0);
l(B, "jx_core_Element");
return B;
}();
}).call(e, i(7), i(6), i(21), i(22), i(19), i(12), i(8), i(23), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(t) {
return "[object Array]" == Object.prototype.toString.call(t);
}
e(t, "jx_core_globals_isArray");
return t;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, i, n, o, r) {
t.exports = function() {
function t(t, e) {
if (isNaN(t)) return t;
t == -1 && (t = g.length);
var i = g[t];
i || (g[t] = i = new a());
if ("string" == typeof e) i.add("_", e); else for (var n in e) e.hasOwnProperty(n) && i.add(n, e[n]);
return i;
}
function a() {
function t(t, e) {
d[t] = e;
}
function e(t) {
s(t, c);
}
function i(t) {
u.push(t);
}
function n() {
return o();
}
function o(t) {
return d[t || m] || d._;
}
function r(t) {
var e, i = o(t);
for (e = 0; e < u.length; e++) u[e](i);
}
function _(t, e) {
var i, n = new a();
g[d._] = n;
for (var o in d) if (d.hasOwnProperty(o)) {
i = d[o];
if ("string" != typeof i) continue;
i = i[t].apply(i, e);
n.add(o, i);
}
return n;
}
function l(t) {
return function() {
return _(t, arguments);
};
}
for (var d = {}, u = [], c = {
add: t,
bind: e,
onTranslate: i,
toJSON: n,
toString: o,
update: r
}, h = [ "concat", "replace", "toLowerCase", "toUpperCase" ], f = 0; f < h.length; f++) c[h[f]] = l(h[f]);
return c;
}
function s(t, e) {
for (var i = 0; i < $.length; i++) if ($[i] == t) {
b[i] = e;
return;
}
$.push(t);
b.push(e);
}
function _(t) {
for (var e = 0; e < $.length; e++) if ($[e] == t) {
$.splice(e, 1);
b.splice(e, 1);
return;
}
}
function l(t) {
t = t.split(/-|_/).slice(0, 2);
var e = t[0] = t[0].toLowerCase();
t[1] && (t[1] = t[1].toUpperCase());
t = t.join("_");
return i.languages ? t in i.languages ? t : e in i.languages ? e : null : null;
}
function d(e) {
var r, a, s, _, d, c;
e = l(e);
if (e) {
d = i.languages[e];
if (d) {
c = n[i.languages[e]];
if (c) {
t.language = m = e;
o.ensureLoaded(c, function(t) {
t && u(e);
if (e == m) {
for (r = 0, a = g.length; r < a; r++) g[r].update instanceof Function && g[r].update(e);
for (r = 0, a = $.length; r < a; r++) {
s = $[r];
_ = b[r].toString();
if (x) s.textContent = _; else if ("string" == typeof s.innerText) s.innerText = _; else if ("string" == typeof s.nodeValue) try {
s.data = _;
} catch (i) {}
}
w._active = !0;
a = w.length;
for (r = 0; r < a; r++) try {
w[r] && w[r](e);
} catch (i) {}
w._active = !1;
if (w._dirty) {
for (r = 0; r < a; r++) if (!w[r]) {
r == a - 1 ? w.pop() : w[r--] = w.pop();
a--;
}
w._dirty = !1;
}
}
});
}
}
}
}
function u(t) {
var e, o = n[i.languages[t]];
for (e = 0; e < o.length; e++) 0 !== o[e] && g[e].add(t, o[e]);
}
function c(t) {
w.push(t);
}
function h(t) {
for (var e = 0, i = w.length; e < i; e++) if (w[e] == t) {
w._active ? (w[e] = null, w._dirty = !0) : e == i - 1 ? w.pop() : w[e] = w.pop();
break;
}
}
function f() {
return !(m.search(v) == -1);
}
function p(t) {
return f() ? t.replace(/left/, "%left%").replace(/right/, "left").replace(/%left%/, "right").replace(/ltr/, "%ltr%").replace(/rtl/, "ltr").replace(/%ltr%/, "rtl") : t;
}
var g = [], m = "_", $ = [], b = [], w = [], x = e.isTextContent, v = /^ar|^fa|^he|^ku|^ur/, y = i.strings;
if (y) for (var j = 0; j < y.length; j++) t(j, y[j]);
t.bind = s;
t.flip = p;
t.onLanguage = c;
t.unLanguage = h;
t.update = d;
t.unbind = _;
t.rtl = f;
t.findClosestLanguage = l;
r(t, "jx_core__");
return t;
}();
}).call(e, i(7), i(1), i(3), i(2), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(t) {
return "number" == typeof t;
}
e(t, "jx_core_globals_isNumber");
return t;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(t) {
"use strict";
if (null == this) throw new TypeError();
var e = Object(this), i = e.length >>> 0;
if (0 === i) return -1;
var n = 0;
if (arguments.length > 0) {
n = Number(arguments[1]);
n != n ? n = 0 : 0 != n && n != 1 / 0 && n != -(1 / 0) && (n = (n > 0 || -1) * Math.floor(Math.abs(n)));
}
if (n >= i) return -1;
for (var o = n >= 0 ? n : Math.max(i - Math.abs(n), 0); o < i; o++) if (o in e && e[o] === t) return o;
return -1;
}
function i(t, e, i) {
return n.call(e, t, i);
}
var n = Array.prototype.indexOf;
"function" == typeof n && /\[native code\]/.test(n.toString()) || (n = t);
e(i, "jx_core_globals_indexOf");
return i;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, i, n) {
t.exports = function() {
function t(e) {
e.preventDefault = t.preventDefault;
e.stopPropagation = t.stopPropagation;
e.target = e.srcElement;
}
function o() {
this.allCallbacks = {};
this.nativeHandlers = {};
}
t.preventDefault = function() {
this.returnValue = !1;
};
t.stopPropagation = function() {
this.cancelBubble = !0;
};
o.prototype.useCustomHandling = function(t) {
return !this.dom.nodeType && this.dom != window && this.dom != document || ("form" != this.tagName.toLowerCase() || "submit" != t) && (!e.isCustomEvents && (e.isFF && e.isFF < 9 ? !document.createEvent("event")[t.toUpperCase()] : "undefined" == typeof this.dom["on" + t]));
};
o.prototype.addEventListener = function(t, e) {
if (!t && "function" != typeof e) throw "bad arguments to on / addEventListener";
if (!(t in this.allCallbacks)) {
this.allCallbacks[t] = [];
this.useCustomHandling(t) || this.setupNativeEventListener(t);
}
this.allCallbacks[t].push(e);
return this;
};
o.prototype.setupNativeEventListener = function(n) {
if (!(n in this.nativeHandlers)) {
var o = this;
this.nativeHandlers[n] = function(r) {
r && (r.stopPropagation || t(r));
var a, s = o.allCallbacks[n], _ = s.length, l = !0;
s._active = !0;
for (a = 0; a < _; a++) try {
if (!s[a]) continue;
s[a].call(o, e.isCustomEvents && r instanceof window.CustomEvent ? r.detail : r) === !1 && (l = !1);
} catch (d) {
i.fire("error", d);
}
s._active = !1;
if (s._dirty) {
for (a = 0; a < _; a++) if (!s[a]) {
a == _ - 1 ? s.pop() : s[a--] = s.pop();
_--;
}
s._dirty = !1;
}
if (l === !1) {
if (r) {
r.preventDefault();
r.returnValue = !1;
}
return !1;
}
};
this.dom.attachEvent ? this.dom.attachEvent("on" + n, this.nativeHandlers[n]) : this.dom.addEventListener && this.dom.addEventListener(n, this.nativeHandlers[n], !1);
}
};
o.prototype.teardownNativeEventListener = function(t) {
var e = this.nativeHandlers[t];
if (e) {
this.dom.attachEvent ? this.dom.detachEvent("on" + t, e) : this.dom.addEventListener && this.dom.removeEventListener(t, e, !1);
delete this.nativeHandlers[t];
delete this.allCallbacks[t];
}
};
o.prototype.removeEventListener = function(t, e) {
var i = this.allCallbacks[t];
if (i) {
for (var n = 0, o = i.length; n < o; n++) if (i[n] === e) {
1 == i.length ? this.nativeHandlers[t] ? this.teardownNativeEventListener(t) : delete this.allCallbacks[t] : i._active ? (i[n] = null, 
i._dirty = !0) : n == o - 1 ? i.pop() : i[n] = i.pop();
break;
}
return this;
}
};
o.prototype.unextendEvents = function() {
if (this.allCallbacks && this.nativeHandlers) {
for (var t in this.nativeHandlers) this.nativeHandlers.hasOwnProperty(t) && this.teardownNativeEventListener(t);
this.allCallbacks = this.nativeHandlers = null;
}
};
o.prototype.fireCustomEvent = function(t, n) {
if (!e.isCustomEvents || this.useCustomHandling(t)) {
var o = this.allCallbacks[t], r = !0;
if (o && o.length) {
o._active = !0;
var a, s, _;
for (a = 0, s = o.length; a < s; a++) try {
if (!o[a]) continue;
_ = o[a].call(this, n);
_ === !1 && (r = !1);
} catch (l) {
i.fire("error", l);
}
o._active = !1;
if (o._dirty) {
for (a = 0; a < s; a++) if (!o[a]) {
a == s - 1 ? o.pop() : o[a--] = o.pop();
s--;
}
o._dirty = !1;
}
}
return r;
}
return this.dom.dispatchEvent(new window.CustomEvent(t, {
bubbles: !1,
cancelable: !0,
detail: n
}));
};
o.prototype.fire = o.prototype.fireCustomEvent;
o.prototype.on = o.prototype.addEventListener;
o.prototype.un = o.prototype.removeEventListener;
o.__jx__no_fqname = !0;
n(o, "jx_ui_HTMLEvent");
return o;
}();
}).call(e, i(7), i(6), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(e, i, n, r, a) {
if (!(this instanceof t)) return new t(e, i, n, r, a);
var s = e.ownerDocument;
a || (a = {});
a.tagName || (a.tagName = "style");
o.call(this, s.getElementsByTagName("head")[0], i, n, null, a);
this.dom.type = "text/css";
this.addChildren(r);
}
var o = i(17);
t.prototype = e(o.prototype);
t.prototype.getText = function() {
return this.dom.styleSheet ? this.dom.styleSheet.cssText : o.prototype.getText.call(this);
};
t.prototype.addChildren = function(t) {
if (t && t.length) if ("styleSheet" in this.dom) {
if (!this.dom.styleSheet) {
this.destroy();
return;
}
this.dom.styleSheet.cssText += t.join("");
} else o.prototype.addChildren.call(this, [ t.join("") ]);
};
n(t, "jx_ui_StyleSheet");
return t;
}();
}).call(e, i(14), i(4));
}, function(t, e, i) {
(function(e, i) {
t.exports = function() {
e(String.prototype.trim) || (String.prototype.trim = function() {
return this.replace(/^\s+|\s+$/g, "");
});
var t = {};
i(t, "jx_core_Polyfill");
return t;
}();
}).call(e, i(9), i(4));
}, function(t, e, i) {
(function(e, i) {
t.exports = function() {
function t(e) {
if (!(this instanceof t)) {
a || t._initSingleton(window);
return a;
}
if (e) return t.parseQuery(e);
this.store = {};
}
function n(t, e, i) {
if (void 0 === e && void 0 === i) return t;
void 0 === e && (e = "string");
if (!(e in r)) throw "invalid type requested";
return void 0 === t ? void 0 !== i ? i : r[e] : "boolean" === e ? o.test(t) : "integer" === e ? parseInt(t, 10) : "float" === e ? parseFloat(t) : t;
}
var o = /^(1|on|true)$/i, r = {
"boolean": !1,
integer: 0,
"float": 0,
string: ""
}, a = null;
t._initSingleton = function(e) {
a = new t(e.location.search);
};
t.buildQuery = function(t) {
var i, n, o, r, a, s, _ = [], l = [];
for (a in t) t.hasOwnProperty(a) && _.push(a);
_.sort();
for (i = 0, o = _.length; i < o; i++) {
a = _[i];
s = t[a];
a = window.encodeURIComponent(a);
if (e(s)) for (n = 0, r = s.length; n < r; n++) l.push(a + "=" + window.encodeURIComponent(s[n] + "")); else l.push(a + "=" + window.encodeURIComponent(s + ""));
}
return l.join("&");
};
t.parseQuery = function(e) {
var i, n, o = new t();
e = e.replace(/^\?|\/+$/g, "");
var r, a, s = e.split("&");
for (i = 0, n = s.length; i < n; i++) {
var _ = s[i];
if (_.length) {
var l = _.indexOf("=");
if (l <= -1) {
r = _;
a = "1";
} else {
r = _.slice(0, l);
a = _.slice(l + 1);
}
o.add(window.decodeURIComponent(r), window.decodeURIComponent(a));
}
}
return o;
};
t.getHash = function(e, i) {
var n = i || window.location.hash;
return t.parseQuery(n.replace(/^#/, "")).get(e);
};
var s = t.prototype;
s.add = function(t, e) {
this.has(t) ? this.store[t].push(e) : this.store[t] = [ e ];
};
s.has = function(t) {
return this.store.hasOwnProperty(t);
};
s.getLast = function(t, e, i) {
return this.has(t) ? this.getAt(t, this.store[t].length - 1, e, i) : n(void 0, e, i);
};
s.getFirst = function(t, e, i) {
return this.getAt(t, 0, e, i);
};
s.getAt = function(t, e, i, o) {
return n(this.has(t) ? this.store[t][e] : void 0, i, o);
};
s.getRaw = function(t) {
return this.has(t) ? this.store[t].concat() : [];
};
s.get = s.getLast;
s.toString = function() {
return t.buildQuery(this.store);
};
i(t, "meshim_common_QueryString");
return t;
}();
}).call(e, i(21), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__jx_ui_Widget = i(17);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], h = c[0].call(this, a, s, null, n.mangleIDs(s, c[3]), c[4]), f = h || this;
n.set(s, f);
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
function t() {
n || (n = new h(N, null, null, null, {
visibility: "hidden"
}));
}
function i() {
_ || (_ = new $(N, null, null, null, {
visibility: "hidden"
}));
}
function l() {
s || (s = new b(N, null, null, null, {
visibility: "hidden"
}));
}
function x() {
o || (o = new p(N, null, null, null, {
visibility: "hidden"
}));
}
function k() {
o || (o = new g(N, null, null, null, {
visibility: "hidden"
}));
}
function B() {
a || (a = new m(N, null, null, null, {
visibility: "hidden"
}));
}
u.init();
j.bindValue(function(t) {
if (t && !e) {
e = !0;
r(function() {
c.fromRefTime("theme_loaded" + (v.getValue() ? "_cached" : "_no_cached"), .25);
n && n.setVisibility("");
o && o.setVisibility("");
a && a.setVisibility("");
s && s.setVisibility("");
_ && _.setVisibility("");
w.refocusActiveElement();
});
}
});
var N = window.document.body;
(I.getValue() || S.getValue()) && (N = f);
if (S.getValue()) {
t();
f.addClass("popout");
} else if (C.getValue() && A.getValue()) {
d.init();
i();
k();
B();
y.$("mobile_notifications$bool").getValue() && l();
} else if (C.getValue()) {
d.init();
k();
B();
} else {
t();
x();
}
}
var e, n, o, a, s, _, l = i(40), d = i(54), u = i(56), c = i(59), h = i(80), p = i(307), g = i(324), m = i(334), $ = i(336), b = i(346), w = i(48), x = l.root, v = x.$("livechat").$("settings").$("cached$bool"), y = x.$("livechat").$("ui"), j = y.$("theme_loaded$bool"), C = y.$("mobile$bool"), A = y.$("mobile_overlay$bool"), S = y.$("popout$bool"), I = y.$("mockup$bool");
t();
}();
for (var g in p) p.hasOwnProperty(g) && (f[g] = p[g]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = a(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self, textarea, input, button": {
fontFamily: [ "$$fontFamily", "$$customFontFamily" ],
fontSize: "$$fontSize"
},
":lang(ja), :lang(ko), :lang(zh_CN), :lang(zh_TW)": {
"*": {
fontWeight: "normal !important",
fontStyle: "normal !important"
},
"::placeholder": {
fontStyle: "normal !important"
}
},
"&.popout": {
position: "absolute",
"top, left": 0,
"width, height": "100%"
},
"*": {
WebkitTapHighlightColor: "transparent"
},
"input, select, textarea, button": {
"&:focus": {
outline: "none"
}
},
img: {
MsInterpolationMode: "bicubic"
},
"input, textarea": {
"&:-moz-placeholder, &::-moz-placeholder": {
opacity: 1
}
},
"input, button": {
"&::-moz-focus-inner": {
padding: 0,
border: 0
}
},
table: {
fontSize: "100%",
color: "inherit",
borderCollapse: "collapse",
borderSpacing: 0
}
};
s(t, "meshim_widget_Widget");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(12), i(14), i(4));
}, function(t, e, i) {
(function(e, i, n, o, r, a, s, _, l) {
t.exports = function() {
var t = e.REGEX, d = {};
i.extend(d);
d.generateAll = n.generateAll;
d.generate = n.generate;
d.writeChanges = n.writeChanges;
d.setPalette = o.setPalette;
d.delPalette = o.delPalette;
d.delPalettes = o.delPalettes;
d.appendPalette = o.appendPalette;
d.getPalette = o.getPalette;
o.initDefaultPalette();
d.setIFrameOnly = r.setIFrameOnly;
d.bindIFrame = r.bindIFrame;
d.unbindIFrame = r.unbindIFrame;
d.transform2CSS = a;
d.getVariable = function(e) {
for (var i = s.palettes, n = s.priorities, o = n.length - 1; o >= 0; o--) if (n[o] && i[n[o]] && (i[n[o]][e] || _(i[n[o]][e]))) return t.isVariable.test(i[n[o]][e]) ? d.getVariable(i[n[o]][e].toString().slice(2)) : i[n[o]][e];
};
d.reload = function() {
d.writeChanges(!0);
};
l(d, "jx_core_JCSS");
return d;
}();
}).call(e, i(31), i(6), i(32), i(39), i(33), i(38), i(34), i(23), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(t) {
return t.join("");
}
var i = {
space: / /g,
repeatingLinearGradient: /^\s*repeating-linear-gradient/,
prependFQName: /^(\*\*self|)(?!.+?keyframes)/,
prePrependFQName: /^(?!\*\*self)/g,
replacePseudo: /\:\:\:([A-Za-z_\-.]+)/g,
replaceAppend: / +?&/g,
placeholder: /::placeholder$/,
replaceVariables: /(?:(?:([A-Za-z\-]+):)??(?:& *:)?\$\$([A-Za-z_\.]+))(?=;)/g,
replaceLeftovers: /(?:(?:[A-Za-z\-]+:)??(?:& *:)?(\$\$[A-Za-z_\.]*?)??)(?=;)/g,
replaceMedia: /(.*)(@media.*)@mediaend(.*)/,
commaStart: /^,/,
selectorCase: /([A-Z]+)/g,
removePrefix: /^\$\$/,
isVariable: /\$\$[A-Za-z_]+/
}, n = {
REGEX: i,
join: t
};
e(n, "jx_core_jcss_modules_JCSSUtils");
return n;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, i, n, o, r, a, s, _, l, d, u) {
t.exports = function() {
function t(t) {
var e;
for (var i in n) if (n.hasOwnProperty(i)) {
e = n[i];
if (e && e.prototype && e.__jx__jcss && !e.__jx__jcss_generated) {
c.call(this, null, e.prototype.__jx__fqname, e.__jx__jcss, null, e);
e.__jx__jcss_generated = !0;
}
}
t || h.call(this);
}
function c(t, e, i, n, a, s) {
if (i && (t || a)) {
var _;
e = e ? "." + e.trim().replace($.space, ".") : "";
i = i || {};
n = "_" + (n || "");
a = a || t.__jx__constructor;
_ = g(a).replace(/\*\*self/g, e);
o.cache[n] = o.cache[n] || [];
x[n] = x[n] || [];
o.cache[n].push(_);
x[n].push(_);
v[n] = !!s;
m || (m = r.schedule(h, this));
}
}
function h(t) {
m && (m = r.clearSchedule(m));
var e, n, s = t ? o.cache : x;
p();
for (n in s) if (s.hasOwnProperty(n)) {
if (!s[n]) continue;
var _ = s[n].join("\n");
e = _.replace($.replaceVariables, f);
i.getIFrameOnly() || a.setStyleSheet(document, "jcss" + n, e, t || v[n]);
for (var l = 0; l < y.length; l++) a.setStyleSheet(y[l].idoc, "jcss" + n, e, t || v[n]);
o.cache_replaced[n] = t ? e : (o.cache_replaced[n] || "") + e;
v[n] = !1;
}
x = {};
this.fire("write", e);
}
function f(t, e, i) {
for (;w[i] || s(w[i]); ) i = w[i].toString().replace($.removePrefix, "");
return e ? _.toStyle(e, i) : i || "";
}
function p() {
var t, e, i, n = {};
w = {};
for (e in o.palettes) if (o.palettes.hasOwnProperty(e)) {
i = l(e, o.priorities);
for (t in o.palettes[e]) if (o.palettes[e].hasOwnProperty(t) && (isNaN(n[t]) || i > n[t]) && (o.palettes[e][t] || s(o.palettes[e][t]))) {
w[t] = o.palettes[e][t];
n[t] = i;
}
}
}
function g(t) {
var e = t.prototype.__jx__fqname;
if (o.cached_fqname[e]) return o.cached_fqname[e];
o.cached_fqname[e] = {};
var i = [], n = t.__jx__jcss || {}, r = d(n, "", "**self", !0).join("\n");
t && t.prototype.__jx__super && i.push(g(t.prototype.__jx__super));
i.push(r);
o.cached_fqname[e] = i.join("\n");
return o.cached_fqname[e];
}
var m, $ = e.REGEX, b = {
generateAll: t,
generate: c,
writeChanges: h
}, w = {}, x = {}, v = {}, y = i.getIFrames();
u(b, "jx_core_jcss_modules_JCSSGenerator");
return b;
}();
}).call(e, i(31), i(33), i(3), i(34), i(36), i(35), i(23), i(37), i(24), i(38), i(4));
}, function(t, e, i) {
(function(e, i, n, o) {
t.exports = function() {
function t(t) {
for (var n = 0, o = u.length; n < o; n++) if (t === u[n]) return;
u.push(t);
for (var r in e.cache) e.cache.hasOwnProperty(r) && i.setStyleSheet(t.idoc, "jcss" + r, e.cache_replaced[r]);
}
function r(t) {
for (var e = 0, i = u.length; e < i; e++) t === u[e] && u.splice(e, 1);
}
function a(t) {
l = n(t);
}
function s() {
return l;
}
function _() {
return u;
}
var l, d = {
bindIFrame: t,
unbindIFrame: r,
setIFrameOnly: a,
getIFrameOnly: s,
getIFrames: _
}, u = [];
o(d, "jx_core_jcss_modules_JCSSIFrame");
return d;
}();
}).call(e, i(34), i(35), i(16), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var t = {
cached_fqname: {},
cache: {},
cache_replaced: {},
palettes: {},
priorities: []
};
e(t, "jx_core_jcss_modules_JCSSStore");
return t;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, i) {
t.exports = function() {
function t(t, e, i, o) {
t || (t = document);
var a = n(t, e);
if (a) if (o) a.styleSheet ? a.styleSheet.cssText = i : a[r ? "textContent" : "innerText"] = i; else if (a.styleSheet) a.styleSheet.cssText = [ a.styleSheet.cssText, i ].join(""); else {
var s = document.createTextNode(i);
a.appendChild(s);
} else {
a = t.createElement("style");
t.getElementsByTagName("head")[0].appendChild(a);
a.type = "text/css";
e && a.setAttribute("__jx__stylesheet_id", e);
if (void 0 !== a.styleSheet) {
if (!a.styleSheet) {
t.getElementsByTagName("head")[0].removeChild(a);
a = null;
return;
}
a.styleSheet.cssText = i;
} else a[r ? "textContent" : "innerText"] = i;
}
}
function n(t, e) {
if (e) {
t || (t = document);
for (var i = 0, n = t.styleSheets.length; i < n; i++) if ((t.styleSheets[i].ownerNode && t.styleSheets[i].ownerNode.getAttribute("__jx__stylesheet_id") || t.styleSheets[i].owningElement && t.styleSheets[i].owningElement.getAttribute("__jx__stylesheet_id")) == e) return t.styleSheets[i].ownerNode && t.styleSheets[i].ownerNode || t.styleSheets[i].owningElement && t.styleSheets[i].owningElement;
}
}
var o = {
setStyleSheet: t
}, r = e.isTextContent;
i(o, "jx_core_jcss_modules_JCSSStyleSheet");
return o;
}();
}).call(e, i(7), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t() {
if (h) {
var t = new h(a);
_ = document.createTextNode("");
t.observe(_, {
characterData: !0
});
l = o;
} else l = r;
}
function i(t, e) {
if ("function" == typeof t) {
var i = p++;
c.push({
cb: t,
self: e,
id: i
});
if (!u) {
l();
u = !0;
}
return i;
}
}
function n(t) {
for (var e = c.length - 1; e >= 0; e--) c[e].id === t && (c[e].cb = s);
}
function o() {
f = -f;
_.data = f;
}
function r() {
setTimeout(a, 0);
}
function a() {
for (var t = 0; t < c.length; t++) {
var e = c[t], i = e.cb, n = e.self;
i.call(n);
}
c = [];
u = !1;
}
function s() {}
var _, l, d = {
schedule: i,
clearSchedule: n
}, u = !1, c = [], h = window.MutationObserver || window.WebKitMutationObserver, f = 1, p = 1;
t();
e(d, "jx_core_jcss_modules_JCSSAsap");
return d;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, i, n) {
t.exports = function() {
function t() {
function e(t) {
if (t in n) return t;
for (var e = t.charAt(0).toUpperCase() + t.slice(1), r = i.length; r--; ) {
var a = i[r] + e;
if (a in n) return "-" + i[r].toLowerCase() + "-" + o(t);
}
return t;
}
t = function() {};
for (var i = [ "Moz", "webkit", "ms" ], n = document.createElement("div").style, r = f.length; r--; ) {
var a = f[r];
p[a] = e(a);
}
}
function o(t) {
return t.replace(c.selectorCase, "-$1").replace(c.commaStart, "").toLowerCase();
}
function r(e, n) {
t();
var r;
n += "";
if (c.isVariable.test(n)) return e + ":" + n + ";";
if ("!important" === n.substr(-10)) {
r = !0;
n = n.substr(0, n.length - 10).trim();
}
switch (!0) {
case "background" === e:
return s(n, r);

case "display" === e:
return i.bugs.noBoxSizing && "inline-block" == n ? "" + a("display", "inline", r) + a("zoom", "1", r) : a("display", n, r);

case e in p:
return a(p[e], n, r);

default:
return a(o(e), n, r);
}
}
function a(t, e, i) {
return t + ":" + e + (i ? "!important;" : ";");
}
function s(t, e) {
var i, n = [];
i = t.split(" ");
switch (i[0]) {
case "linear-gradient":
i.splice(0, 1);
t = i.join(" ");
n.push(a("background", "-webkit-linear-gradient" + t, e), a("background", "-o-linear-gradient" + t, e), a("background", "-moz-linear-gradient" + t, e), a("background", "-ms-linear-gradient" + t, e), a("background", "-linear-gradient" + t, e));
break;

case "gradient":
var o, r;
n.push(a("background", _(i[2], i[3]), e));
"top" == i[1] && (o = "bottom");
"left" == i[1] && (o = "right");
"right" == i[1] && (o = "left");
"bottom" == i[1] && (o = "top");
r = g([ "(", i[1], ",", i[2], ",", i[3], ")" ]);
n.push(a("background", "-o-linear-gradient" + r, e), a("background", "-moz-linear-gradient" + r, e), a("background", "-ms-linear-gradient" + r, e), a("background", "linear-gradient" + r, e));
if ("left" == i[1] || "right" == i[1]) {
n.push(a("background", g([ "-webkit-gradient(linear,", i[1], " center,", o, " center,", "from(", i[2], "),to(", i[3], "))" ])));
r = g([ "progid:DXImageTransform.Microsoft.gradient(startColorstr=", l(i[2]), ", endColorstr=", l(i[3]), ", GradientType=1)" ]);
n.push(a("filter", r, e), a("-ms-filter", r, e));
} else {
n.push(a("background", g([ "-webkit-gradient(linear,", "center ", i[1], ",", "center ", o, ",", "from(", i[2], "),to(", i[3], "))" ])));
r = g([ "progid:DXImageTransform.Microsoft.gradient(startColorstr=", l(i[2]), ", endColorstr=", l(i[3]), ")" ]);
n.push(a("filter", r, e), a("-ms-filter", r, e));
}
break;

default:
n.push(a("background", t, e));
}
return n.join("");
}
function _(t, e) {
function i(i) {
return (16 * Math.round((parseInt(t.substring(i, i + 2), 16) + parseInt(e.substring(i, i + 2), 16)) / 32)).toString(16);
}
"rgb" == t.slice(0, 3) && (t = d(t, !0));
"rgb" == e.slice(0, 3) && (e = d(e, !0));
t = l(t).substring(1);
e = l(e).substring(1);
var n = i(0), o = i(2), r = i(4);
return "#" + n + o + r;
}
function l(t) {
if ("string" != typeof t) return "";
var e;
e = "#" == t.charAt(0) ? t.substring(1) : t;
if ("rgb" == e.slice(0, 3)) return d(e);
3 == e.length && (e = e.charAt(0) + e.charAt(0) + e.charAt(1) + e.charAt(1) + e.charAt(2) + e.charAt(2));
return "#" + e;
}
function d(t, e) {
t = t.slice(5, -1);
t = t.split(",");
if (3 == t.length || e) return "#" + u(t[0]) + u(t[1]) + u(t[2]);
t[3] = (255 * parseFloat(t[3], 10)).toFixed();
return "#" + u(t[3]) + u(t[0]) + u(t[1]) + u(t[2]);
}
function u(t) {
t = parseInt(t, 10).toString(16);
1 == t.length && (t = "0" + t);
return t;
}
var c = e.REGEX, h = {
toStyle: r
}, f = [ "animation", "userSelect", "appearance", "transform", "transformOrigin" ], p = {}, g = e.join;
n(h, "jx_core_jcss_modules_JCSSConverter");
return h;
}();
}).call(e, i(31), i(7), i(4));
}, function(t, e, i) {
(function(e, i, n, o, r) {
t.exports = function() {
function t(e, r, l, d, u) {
var c, h, f, p, g, m, $ = [], b = [];
for (c in e) if (e.hasOwnProperty(c)) {
h = e[c];
f = void 0;
if ("@keyframes" == c) {
for (var w in h) if (h.hasOwnProperty(w)) {
m = w + " { " + t(h[w]).join(" ") + " } ";
b.push("@-webkit-keyframes " + m, "@-moz-keyframes " + m, "@-ms-keyframes " + m, "@-o-keyframes " + m, "@keyframes " + m);
}
continue;
}
"@media" == c.slice(0, 6) && (c = [ c, "@mediaend" ].join(""));
switch (typeof h) {
case "boolean":
case "number":
case "string":
f = c.split(",");
for (p = 0, g = f.length; p < g; p++) $.push(i.toStyle(f[p], h));
break;

default:
if (n(h)) {
for (p = 0, g = h.length; p < g; p++) $.push(i.toStyle(c, h[p]));
break;
}
if (a.placeholder.test(c)) {
m = c.replace(a.placeholder, "");
f = [];
for (p = 0, g = s.placeholder.length; p < g; p++) f.push(_([ m, s.placeholder[p] ]));
}
n(f) || (f = c.split(","));
for (p = 0, g = f.length; p < g; p++) b = b.concat(t(h, f[p].trim()));
}
}
if ($.length) {
if (!u) {
$.unshift("{");
$.push("}");
}
b.push($.join(""));
}
if (r || l || d && !(o.isIE < 9)) for (p = 0, g = b.length; p < g; p++) {
r && (b[p] = [ r.replace(a.replacePseudo, ".$1"), " ", b[p] ].join(""));
l && (b[p] = b[p].replace(a.prePrependFQName, " ").replace(a.prependFQName, l));
d && (b[p] = b[p].replace(a.replaceAppend, ""));
d && b[p].indexOf("@media") !== -1 && (b[p] = b[p].replace(a.replaceMedia, "$2 { $1 $3 }"));
}
return b;
}
var a = e.REGEX, s = {
placeholder: [ "::-webkit-input-placeholder", ":-moz-placeholder", "::-moz-placeholder", ":-ms-input-placeholder", ".placeholder" ]
}, _ = e.join;
r(t, "jx_core_jcss_modules_transform2CSS");
return t;
}();
}).call(e, i(31), i(37), i(21), i(7), i(4));
}, function(t, e, i) {
(function(e, i, n, o) {
t.exports = function() {
function t(t, n, o) {
t = d(t) || {};
n = n || u;
o = parseInt(o, 10);
if ((e.palettes[n] || !isNaN(o)) && (isNaN(o) || !(o < 0)) && (n != u || isNaN(o) || o == c) && (!e.priorities[o] || e.priorities[o] == n)) {
e.palettes[n] = t;
if (!isNaN(o)) {
var r = i(n, e.priorities);
r != -1 && (e.priorities[r] = void 0);
e.priorities[o] = n;
}
}
}
function r(t) {
if (t) {
var o;
if (n(t)) {
if (!e.priorities[t]) return;
delete e.palettes[e.priorities[t]];
e.priorities[t] = void 0;
} else {
if (!e.palettes[t]) return;
o = i(t, e.priorities);
delete e.palettes[t];
e.priorities[o] = void 0;
}
}
}
function a() {
e.palettes = {};
e.priorities.length = 0;
s();
}
function s() {
t({}, u, c);
}
function _() {}
function l(t) {
t = t || u;
return e.palettes[t] || {};
}
function d(t, e, i) {
if (t) {
e || (e = {});
i ? i += "." : i = "";
for (var n in t) t.hasOwnProperty(n) && ("object" == typeof t[n] ? d(t[n], e, i + n) : e[i + n] = t[n]);
return e;
}
}
var u = "__jcss__default", c = 0, h = {
initDefaultPalette: s,
setPalette: t,
delPalette: r,
delPalettes: a,
appendPalette: _,
getPalette: l
};
o(h, "jx_core_jcss_modules_JCSSPalette");
return h;
}();
}).call(e, i(34), i(24), i(23), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s, _) {
t.exports = function() {
function t(t, i, n) {
P = !0;
F.root = v = t instanceof C ? t : new C("root");
j = n;
if (A.ACCOUNT_KEY || i) {
if (i) {
y = i;
v.$$("livechat.ui.mockup$bool").update(!0);
}
if (N.isMobileBrowser) {
v.$$("livechat.ui.mobile$bool").update(!0);
N.isMobileWhitelist && v.$$("livechat.ui.mobile_whitelist$bool").update(!0);
N.isMobileTablet && v.$$("livechat.ui.tablet$bool").update(!0);
}
window.$zopim_popout ? v.$$("livechat.ui.popout$bool").update(!0) : i || e.setIFrameOnly(!0);
var a, s = x(S);
if (!y) for (var _ in E) if (E.hasOwnProperty(_)) {
var l = I.DOM.getVariable(_);
"log" == _ && l && "object" == typeof l && v.$("livechat").$("temp").update({
prev_log: l
});
"settings" == _ && l && B.getKeys(l).length && v.$("livechat").$("settings").update({
cached$bool: !0
});
if ("object" == typeof l) {
a = B.getKeys(l);
a && a.length && B.fullyExtend(B.descendsObj(s, E[_]), l);
} else B.insertObj(E[_], l, s);
}
v.update(s);
if (!y && !b()) {
var d = o.isIOS ? "unload" : "beforeunload";
r.window.on(d, function() {
try {
w();
} catch (t) {}
});
}
var u = I.getAllowCookieLaw();
"boolean" == typeof u && v.$$("livechat.profile").update({
allow_cookies$bool: u
});
v.$$("livechat.settings.package").on("value", function(t) {
if (t) {
"color_customization_enabled$int" in t && t.color_customization_enabled$int && (O = 1);
"widget_customization_enabled$int" in t && t.widget_customization_enabled$int && (O = 2);
}
});
F.fire("init");
}
}
function n(t) {
a(t) && (P ? t() : F.on("init", t));
}
function l(t, e) {
k.sendChatMsg(t, e);
}
function d(t) {
var e = parseInt(j.getServerTime().toFixed(0), 10), i = e + "";
v.$("livechat").$("channel").$("log").$(i).write({
timestamp$int: e,
nick$string: v.$("livechat").$("profile").$("nick$string").getValue() || "",
display_name$string: v.$("livechat").$("profile").$("display_name$string").getValue() || "",
type$string: "chat.file.upload",
file_name$string: t.file_name || "",
file_type$string: t.file_type || "",
file_size$int: t.file_size || 0,
unverified$bool: !0,
__client$bool: !0
});
return e;
}
function u(t) {
if (t) {
var e = {};
"name" in t && (e.display_name$string = t.name + "");
"email" in t && (e.email$string = t.email + "");
"phone" in t && (e.phone$string = t.phone + "");
"department_id" in t && (e.department_id$int = t.department_id);
v.$$("livechat.profile").write(e);
return !0;
}
}
function c() {
I.clearAll();
v.$("livechat").$("ui").$("chat_button").$("unread_count$int").update(0);
v.$$("livechat.channel").update(null);
v.$$("profile").update(null);
}
function h() {
var t = v.$$("livechat.settings.cookie_law.enabled$bool").getValue(), e = v.$$("livechat.profile.allow_cookies$bool").getValue();
return !t || e !== !1;
}
function f() {
v.$$("connection").update({
reconnect$bool: !0
});
}
function p(t) {
if (!y) {
var e = v.$$("livechat.account.key$string").getValue(), i = v.$$("livechat.profile.mid$string").getValue();
t && e && i && window.open(A.AUTH_URL.replace("$NAME", t).replace("$KEY", e).replace("$MID", i), W + e, v.$$("livechat.ui.mobile$bool").getValue() ? "" : R);
}
}
function g() {
if (v.$$("livechat.profile.auth.type$string").getValue()) {
v.$$("livechat.profile.auth").write({
type$string: null
});
v.$$("livechat.profile").update({
display_name$string: "",
email$string: ""
});
} else v.$$("livechat.profile").write({
display_name$string: "",
email$string: ""
});
}
function m() {
v.$$("livechat.channel").write({
chatting$bool: !1
});
}
function $() {
return v.$$("livechat.ui.mockup$bool").getValue() ? 100 : O;
}
function b() {
var t = v.$("livechat").$("account").$("status$string").getValue();
return s(t, T) > -1;
}
function w() {
if (L.canStoreCookie()) {
var t = new C("root");
t.update(v.getValue());
for (var e = 0, i = D.length; e < i; e++) t.$$(D[e]).update(null);
var n, o;
for (n in E) if (E.hasOwnProperty(n)) {
switch (n) {
case "settings":
o = j.getServerSettings("settings");
break;

case "log":
o = t.$("livechat").$("channel").$("chatting$bool").getValue() ? B.getLastLogEntries(v.$$(E[n]), A.CHAT_LOG_REMEMBER_COUNT) : null;
break;

default:
o = t.$$(E[n]).getValue();
}
I.DOM.saveVariable(n, o);
}
t = null;
}
}
function x(t) {
if ("object" != typeof t || !t) return t;
var e = {};
for (var i in t) t.hasOwnProperty(i) && (e[i] = x(t[i]));
t.hasOwnProperty(M) && (e[M] = x(t[M]));
return e;
}
var v, y, j, C = i(41), A = i(42), S = i(43), I = i(44), k = i(49), B = i(48), N = i(52), T = [ "banned", "invalid_account_key" ], E = {
last_host: "connection.server$string",
chatting: "livechat.channel.chatting$bool",
account_status: "livechat.account.status$string",
settings: "livechat.settings",
ui: "livechat.ui",
notification: "livechat.profile.notification",
departments: "livechat.departments",
log: "livechat.channel.log",
read: "livechat.channel.read",
features: "livechat.features"
}, D = [ "livechat.settings.cached$bool", "livechat.ui.chat_window.menu_stack_name$string", "livechat.ui.chat_window.pre_chat_form.submitted$bool", "livechat.ui.post_chat_form.stack_index$int", "livechat.ui.offline_form.stack_index$int", "livechat.ui.theme_reload$bool", "livechat.ui.theme_loaded$bool", "livechat.ui.popout$bool", "livechat.ui.mobile$bool", "livechat.ui.mobile_overlay$bool", "livechat.ui.mobile_notifications$bool", "livechat.ui.chat_window.chat_panel.file_toast.error$string", "livechat.ui.departments.filter_enabled$bool" ], O = 0, P = !1, L = {
sendChatMsg: l,
sendFile: d,
updateProfile: u,
clearAll: c,
reconnect: f,
canStoreCookie: h,
doExternalLogin: p,
doExternalLogout: g,
endChat: m,
getLimit: $,
isAccountError: b
}, W = "zlivechatexternallogin_", R = "width=500,height=500,menubar=no,toolbar=no,location=no,personalbar=no,status=no,resizable=yes,scrollbars=no", F = r.extend({
init: t,
root: v,
livechat: L,
afterInit: n
}), M = "toString";
_(F, "meshim_widget_controllers_DataController");
return F;
}();
}).call(e, i(30), i(14), i(7), i(6), i(9), i(24), i(4));
}, function(t, e, i) {
(function(i, n) {
t.exports = function() {
function t(t, e) {
this.name = t;
this.leaf = /\$[a-z]+$/.test(t);
this.parentNode = e;
this.listeners_value = [];
this.listeners_write = [];
if (!this.leaf) {
this.listeners_keys = [];
this.childNodes = {};
this.keys = {};
}
}
function o(t, e) {
return Object.prototype.hasOwnProperty.call(t, e);
}
function r(t) {
for (var e = "", i = 0; i < t.length; i++) e += /^[a-zA-Z_$][a-zA-Z0-9_$]*$/.test(t[i]) ? "." + t[i] : "[" + JSON.stringify(t[i]) + "]";
return e.substr(1);
}
t.prototype.fqname = function() {
return r(this.path());
};
t.prototype.path = function() {
for (var t = this, e = [ this.name ]; t = t.parentNode; ) e.unshift(t.name);
return e;
};
t.prototype.descend = function(e) {
var i, n, r, a = this;
"string" == typeof e && (e = e.split("."));
for (n = 0, r = e.length; n < r; n++) {
i = e[n];
o(a.childNodes, i) || (a.childNodes[i] = new t(i, a));
a = a.childNodes[i];
}
return a;
};
t.prototype.$$ = t.prototype.descend;
t.prototype.$ = function(e) {
return o(this.childNodes, e) ? this.childNodes[e] : this.childNodes[e] = new t(e, this);
};
t.prototype.update = function(t, e, i) {
var n, o;
if (null !== t) {
delete this.deleted;
o = this.parentNode;
for (;o && o.deleted; ) {
delete o.deleted;
o = o.parentNode;
}
}
if (this.leaf) {
this.value = t;
this.notifyListeners(t, e, i);
} else {
if (null == t) {
this.deleted = !0;
for (n in this.childNodes) this.childNodes.hasOwnProperty(n) && this.childNodes[n].update(null, !0, i);
} else for (n in t) t.hasOwnProperty(n) && this.$(n).update(t[n], !0, i);
this.notifyListeners(t, e, i);
}
};
t.prototype.write = function(t, e, i) {
if ("function" == typeof e) {
i = e;
e = !1;
}
var n = {
path: this.path(),
value: t
};
"function" == typeof i && (n.func = i);
this.update(t, e || !1, n);
};
t.prototype.bindWrite = function(t) {
this.listeners_write.push(t);
};
t.prototype.bindValue = function(t) {
this.listeners_value.push(t);
try {
t.call(this, this.getValue());
} catch (e) {
i.fire("error", e);
}
};
t.prototype.bindKeys = function(t) {
if (!this.leaf) {
this.listeners_keys.push(t);
try {
t.call(this, this.getKeys(), []);
} catch (e) {
i.fire("error", e);
}
}
};
t.prototype.unbindValue = function(t) {
for (var e = this.listeners_value.length; e--; ) if (this.listeners_value[e] == t) {
this.listeners_value.splice(e, 1);
return;
}
};
t.prototype.unbindKeys = function(t) {
if (!this.leaf) for (var e = this.listeners_keys.length; e--; ) if (this.listeners_keys[e] == t) {
this.listeners_keys.splice(e, 1);
return;
}
};
t.prototype.on = function(t, e) {
switch (t) {
case "value":
this.bindValue(e);
break;

case "keys":
this.bindKeys(e);
}
};
t.prototype.un = function(t, e) {
switch (t) {
case "value":
this.unbindValue(e);
break;

case "keys":
this.unbindKeys(e);
}
};
t.prototype.addListener = function(t, e) {
this.listeners[t].push(e);
};
t.prototype.removeListener = function(t, e) {
for (var i = this.listeners[t], n = i.length; n--; ) i[n] == e && i.splice(n, 1);
};
t.prototype.notifyListeners = function(t, e, n) {
var r, a, s;
if (!this.leaf) {
r = [];
a = [];
if (t) {
for (s in t) if (t.hasOwnProperty(s)) if (null !== t[s]) {
if (!o(this.keys, s)) {
this.keys[s] = 1;
r.push(s);
}
} else if (o(this.keys, s)) {
delete this.keys[s];
a.push(s);
}
} else for (s in this.keys) if (this.keys.hasOwnProperty(s)) {
delete this.keys[s];
a.push(s);
}
}
for (var _ = 0; _ < this.listeners_value.length; _++) try {
this.listeners_value[_].call(this, t);
} catch (l) {
i.fire("error", l);
}
if (n) for (_ = 0; _ < this.listeners_write.length; _++) try {
this.listeners_write[_].call(this, n);
} catch (l) {
i.fire("error", l);
}
if (!this.leaf) {
for (_ = 0; _ < this.listeners_keys.length; _++) try {
this.listeners_keys[_].call(this, r, a);
} catch (l) {
i.fire("error", l);
}
if (!e && this.parentNode) {
var d = {};
d[this.name] = t;
this.parentNode.notifyListeners(d, e, n);
}
}
};
t.prototype.getValue = function(t) {
if (t) return this.descend(t).getValue();
if (this.leaf) return this.value;
if (this.deleted) return null;
var e, i, n = {};
for (var o in this.childNodes) if (this.childNodes.hasOwnProperty(o) && null != (i = this.childNodes[o].getValue())) {
n[o] = i;
e = !0;
}
return e ? n : null;
};
t.prototype.hasKey = function(t) {
return o(this.keys, t);
};
t.prototype.getKeys = function() {
if (this.leaf) return null;
var t = [];
for (var e in this.keys) this.keys.hasOwnProperty(e) && t.push(e);
return t;
};
t.prototype.gc = function() {
var t = !0;
for (var e in this.childNodes) if (this.childNodes.hasOwnProperty(e)) {
var i = this.childNodes[e];
t = i.leaf ? !i.listeners_value.length && null == i.value && (delete this.keys[e], 
delete this.childNodes[e]) && t : i.gc() && (delete this.keys[e], delete this.childNodes[e]) && t;
}
return t && this.deleted && !this.listeners_keys.length && !this.listeners_value.length;
};
e.DataNode = t;
n(t, "jx_data_DataNode");
return t;
}();
}).call(e, i(6), i(4));
}, function(t, e, i) {
(function(e, i, n, o) {
t.exports = function() {
function t() {
for (var t = r(), e = [ /\/?[?]/, /\/livechat\// ], i = [], n = 0; n < e.length; n++) {
i = t.split(e[n]);
if (i.length) break;
}
var o = i[1], a = i[0], s = /^(https?:)?\/\/[^\/]+/.exec(a), _ = a.replace(/^(https?:)?\/\//i, "").split("/")[0], l = _.replace(/(.+\.)(?=.+\..+)/, ""), d = i[0].split("/");
d = d.pop() == _ ? i[0] : d.join("/");
s = s && "zopim.com" !== _ ? s[0] : "https://v2.zopim.com";
return {
accountKey: o,
brandDomain: l,
baseURL: d,
rootURL: s
};
}
function r() {
if (window.$zopim && window.$zopim.s) return window.$zopim.s.src;
for (var t, e = document.getElementsByTagName("script"), i = /.*zopim.(com|net)\//, n = 0, o = e.length; n < o; n++) {
t = e[n].src || "";
if (i.test(t)) return t;
}
return "";
}
function a() {
var t = 'US'.toUpperCase();
"<" == t.charAt(0) && (t = "geo");
return t;
}
var s = t(), _ = "https://v2.zopim.com/widget", l = _ + "/images", d = _ + "/sounds", u = _ + "/fonts";
e(i.baseURL, !0) && (i.baseURL = n.secureURL(s.baseURL));
var c = {
ASSETS_URL: _,
IMAGES_URL: l,
SOUNDS_URL: d,
FONTS_URL: u,
ASSETS_LEGACY: document.location.protocol + "//cdn.zopim.com/assets",
BRANDING_URL: "https://www.zopim.com",
AVATARS: {
CONCIERGE: l + "/avatar_simple_agent.png",
AGENT: l + "/avatar_simple_agent.png",
VISITOR: l + "/avatar_simple_visitor.png",
DEFAULT: l + "/avatar_simple_visitor.png"
},
ACCOUNT_KEY: s.accountKey,
BRAND_DOMAIN: s.brandDomain,
COUNTRY_CODE: a(),
AUTH_URL: "https://www.zopim.com/auth/$NAME/$KEY-$MID",
AUTH_LOGOUT_URL: "https://www.zopim.com/auth/logout/$KEY-$MID",
IS_POPOUT: window.$zopim_popout,
POPOUT_WINDOW_PREFIX: "zlivechatpopout_",
POPOUT_URL: s.rootURL + "/widget/livechat.html",
CALLBACK_FILE_UPLOAD_PATH: "/client/widget/upload",
FILE_UPLOAD_PATH: "/client/widget/uploads",
FILE_UPLOAD_MAX: 5242880,
RESEND_MSG_TIMEOUT: 5e3,
FILE_REPLACE_SOURCE: /^(\s*https?\:\/\/v2(?:assets|uploads)\.zopim\.)com(\/)/i,
FILE_REPLACE_RESULT: "$1io$2",
CHAT_LOG_REMEMBER_COUNT: 10
};
o(c, "meshim_widget_Config");
return c;
}();
}).call(e, i(10), i(1), i(7), i(4));
}, function(t, e, i) {
(function(e, i) {
t.exports = function() {
var t = {
livechat: {
timestamp$int: +new Date(),
settings: {
behavior: {
do_not_display$bool: !1
},
theme: {
name$string: "simple",
message_type$string: "bubble_avatar",
colors: {
placeholder$string: "_"
},
chat_button: {
position$string: "br",
position_mobile$string: "br"
},
chat_window: {
position$string: "br",
size$string: "medium",
profile_card: {
display_avatar$bool: !0,
display_rating$bool: !0,
display_title_name$bool: !0
},
use_banner$bool: !0,
title_bar: {
hide_minimize$bool: !1,
hide_popout$bool: !1
}
},
branding: {
type$string: "icon_font_zopim"
}
},
greetings: {
online$string: e(81),
offline$string: e(82)
},
banner: {
enabled$bool: !0,
layout$string: "image_right",
text$string: e(83),
image_path$string: "",
image_data$string: ""
},
chat_button: {
hide_when_offline$bool: !1
},
chat_window: {
mobile_mode$string: "popout",
title_bar: {
title$string: e(84),
status_messages: {
online$string: e(85),
away$string: e(86),
offline$string: e(87)
}
}
},
login: {
allowed_types: {
email$bool: !0,
facebook$bool: !0,
twitter$bool: !1,
google$bool: !0
},
phone_display$bool: !1,
restrict_profile$bool: !1
},
concierge: {
display_name$string: e(88),
title$string: e(89),
avatar_path$string: "",
avatar_data$string: "",
greeting: {
enabled$bool: !1,
message$string: e(90)
}
},
branding: {
hide_branding$bool: !1,
hide_favicon$bool: !1,
custom_favicon_path$string: ""
},
language: {
language$string: "--"
},
cookie_law: {
enabled$bool: !1
},
sound: {
disabled$bool: !1
},
popout: {
enabled$bool: !0
},
rating: {
enabled$bool: !0
},
end_chat_menu: {
enabled$bool: !0,
message$string: ""
},
emoticons: {
enabled$bool: !1
},
bubble: {
enabled$bool: !0,
title$string: e(91),
text$string: e(92)
},
forms: {
pre_chat_form: {
required$bool: !1,
profile_required$bool: !1,
message$string: "",
form: {
0: {
name$string: "name",
required$bool: 0
},
1: {
name$string: "email",
required$bool: 0
},
2: {
label$string: e(93),
name$string: "department",
required$bool: 0,
type$string: "department"
},
3: {
label$string: e(94),
name$string: "message",
required$bool: 0,
type$string: "textarea"
},
4: {
label$string: e(95),
name$string: "phone",
required$bool: 0,
type$string: "text",
hidden$bool: !0
}
}
},
offline_form: {
message$string: e(96),
message_disabled$string: e(97),
post_submit_message$string: e(98),
profile_required$bool: !0,
form: {
0: {
name$string: "name",
required$bool: 1
},
1: {
name$string: "email",
required$bool: 1
},
2: {
label$string: e(99),
name$string: "message",
required$bool: 1,
type$string: "textarea"
},
3: {
label$string: e(100),
name$string: "phone",
required$bool: 0,
type$string: "text",
hidden$bool: !0
}
}
},
post_chat_form: {
header$string: e(101),
message$string: e(102),
comments_enabled$bool: !0,
comments_messages: {
good: {
message$string: e(103),
placeholder$string: e(104)
},
bad: {
message$string: e(105),
placeholder$string: e(106)
}
}
},
card_form: {}
}
}
}
};
i(t, "meshim_widget_controllers_DefaultDataNode");
return t;
}();
}).call(e, i(22), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t() {
A = b.ACCOUNT_KEY;
}
function o() {
if (b.IS_POPOUT) return h("mid");
var t = d();
return t ? t : $.get(v) || "";
}
function r(t) {
$.set(v, t, {
path: "/",
ttl: 365,
domain: g
});
}
function a() {
var t = u();
if ("boolean" == typeof t) return t;
var e = $.get(y);
e = parseInt(e, 10);
return 0 !== e && (1 === e || void 0);
}
function s() {
$.remove(y, {
path: "/",
domain: g
});
}
function _(t) {
t = e(t);
t = t ? 1 : 0;
$.set(y, t, {
path: "/",
ttl: 365,
domain: g
});
}
function l() {
$.remove(v, {
path: "/",
domain: g
});
m.remove(x);
}
function d() {
var t = $.getJSONCookie("__zlcid");
$.remove("__zlcid", {
path: "/"
});
if (t.mID) return t.mID;
var e = c("__zlcstore");
$.remove("__zlcstore", {
path: "/",
domain: g
});
return e && e.mID ? e.mID : void 0;
}
function u() {
var t, e = c("__zlcprivacy");
if ("boolean" == typeof e) {
t = e;
_(e);
}
return t;
}
function c(t) {
var e = $.getJSONCookie(t);
return e[A];
}
function h(t) {
for (var e, i = window.location.search.slice(1).split("&"), n = 0; n < i.length; n++) {
e = i[n].split("=");
if (e[0] == t) try {
return window.decodeURIComponent(e[1] || "");
} catch (o) {
return "";
}
}
return "";
}
function f(t, e) {
var i = m.get(x) || {};
i[A] || (i[A] = {});
var n = i[A];
n[t] = e;
n.timestamp = +new Date();
m.set(x, i);
}
function p(t) {
var e = m.get(x) || {};
if (!e[A]) return {};
var i = e[A];
if (!i.timestamp) return i[t] || {};
var n = +new Date();
return n - i.timestamp > C ? {} : i[t];
}
var g, m = i(45), $ = i(47), b = i(42), w = i(48), x = "__zlcstore", v = "__zlcmid", y = "__zlcprivacy", j = window.location.hostname;
g = /\b(?:\d{1,3}\.){3}\d{1,3}/.test(j) ? j : w.getEffectiveTLD(j);
var C = 48e4, A = b.ACCOUNT_KEY, S = {
init: t,
DOM: {
saveVariable: f,
getVariable: p
},
Cookie: $,
clearAll: l,
setIdentity: r,
getIdentity: o,
clearAllowCookieLaw: s,
getAllowCookieLaw: a,
setAllowCookieLaw: _
};
n(S, "meshim_widget_controllers_StorageController");
return S;
}();
}).call(e, i(16), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t() {
try {
return d in _ && _[d];
} catch (t) {
return !1;
}
}
function n(t) {
return function() {
try {
var e = Array.prototype.slice.call(arguments, 0);
e.unshift(r);
c.appendChild(r);
r.addBehavior("#default#userData");
r.load(d);
var i = t.apply(s, e);
c.removeChild(r);
return i;
} catch (n) {}
};
}
function o(t) {
return t.replace(p, "___");
}
var r, a = i(46), s = {}, _ = window, l = _.document, d = "localStorage", u = "__storejs__";
s.disabled = !1;
s.set = function() {};
s.get = function() {};
s.remove = function() {};
s.clear = function() {};
s.transact = function(t, e, i) {
var n = s.get(t);
if (null == i) {
i = e;
e = null;
}
"undefined" == typeof n && (n = e || {});
i(n);
s.set(t, n);
};
s.getAll = function() {};
s.serialize = function(t) {
return a.stringify(t);
};
s.deserialize = function(t) {
if ("string" == typeof t) try {
return a.parse(t);
} catch (e) {
return t || void 0;
}
};
if (t()) {
r = _[d];
s.set = function(t, e) {
if (void 0 === e) return s.remove(t);
r.setItem(t, s.serialize(e));
return e;
};
s.get = function(t) {
return s.deserialize(r.getItem(t));
};
s.remove = function(t) {
r.removeItem(t);
};
s.clear = function() {
r.clear();
};
s.getAll = function() {
for (var t = {}, e = 0; e < r.length; ++e) {
var i = r.key(e);
t[i] = s.get(i);
}
return t;
};
} else if (l.documentElement.addBehavior) {
var c, h;
try {
h = new window.ActiveXObject("htmlfile");
h.open();
h.write('<script>document.w=window</script><iframe src="/favicon.ico"></frame>');
h.close();
c = h.w.frames[0].document;
r = c.createElement("div");
} catch (f) {
r = l.createElement("div");
c = l.body;
}
var p = new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]", "g");
s.set = n(function(t, e, i) {
e = o(e);
if (void 0 === i) return s.remove(e);
t.setAttribute(e, s.serialize(i));
t.save(d);
return i;
});
s.get = n(function(t, e) {
e = o(e);
return s.deserialize(t.getAttribute(e));
});
s.remove = n(function(t, e) {
e = o(e);
t.removeAttribute(e);
t.save(d);
});
s.clear = n(function(t) {
var e = t.XMLDocument.documentElement.attributes;
t.load(d);
for (var i, n = 0; i = e[n]; n++) t.removeAttribute(i.name);
t.save(d);
});
s.getAll = n(function(t) {
for (var e, i = t.XMLDocument.documentElement.attributes, n = {}, r = 0; e = i[r]; ++r) {
var a = o(e.name);
n[e.name] = s.deserialize(t.getAttribute(a));
}
return n;
});
}
try {
s.set(u, u);
s.get(u) != u && (s.disabled = !0);
s.remove(u);
} catch (f) {
s.disabled = !0;
}
s.enabled = !s.disabled;
var g = s;
e(g, "meshim_common_DOMStorage");
return g;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, i, n) {
t.exports = function() {
function t(t) {
return '"' + t.replace(l, o) + '"';
}
function o(t) {
return d[t] || "\\u" + ("0000" + t.charCodeAt(0).toString(16)).slice(-4);
}
function r(e) {
switch (typeof e) {
case "string":
return t(e);

case "number":
return isFinite(e) ? e.toString() : "null";

case "boolean":
return String(e);

case "object":
if (!e) return "null";
var n, o, a = [];
if (i(e)) {
for (n = 0, o = e.length; n < o; n++) a[n] = r(e[n]) || "null";
return "[" + a.join(",") + "]";
}
var s, _, l = [];
for (s in e) e.hasOwnProperty(s) && l.push(s);
l.sort();
for (n = 0, o = l.length; n < o; n++) {
s = l[n];
_ = r(e[s]);
_ && a.push(t(s) + ":" + _);
}
if (a.length) return "{" + a.join(",") + "}";
}
}
function a(t, e, i) {
return e ? g[e] : String.fromCharCode(parseInt(i, 16));
}
function s(t) {
var e, i, n, o, r, s = t.match(f), _ = s.length, l = s[0];
"{" == l ? (e = {}, r = 1) : "[" == l ? (e = [], r = 1) : (e = [], r = 0, i = !0);
var d = [ e ];
for (_ = s.length; r < _; ++r) {
l = s[r];
switch (l.charCodeAt(0)) {
case 91:
o = d[0];
d.unshift(o[n || o.length] = []);
n = void 0;
break;

case 93:
d.shift();
break;

case 123:
o = d[0];
d.unshift(o[n || o.length] = {});
n = void 0;
break;

case 125:
d.shift();
break;

case 102:
o = d[0];
o[n || o.length] = !1;
n = void 0;
break;

case 110:
o = d[0];
o[n || o.length] = null;
n = void 0;
break;

case 116:
o = d[0];
o[n || o.length] = !0;
n = void 0;
break;

case 34:
l = l.substring(1, l.length - 1);
l.indexOf($) !== -1 && (l = l.replace(p, a));
o = d[0];
if (void 0 == n) {
if (!(o instanceof Array)) {
n = l || m;
break;
}
n = o.length;
}
o[n] = l;
n = void 0;
break;

default:
o = d[0];
o[n || o.length] = +l;
n = void 0;
}
}
if (i) {
if (1 == d.length) return e[0];
} else if (!d.length) return e;
throw "error";
}
var _ = !e(window) && window.JSON || {
parse: s,
stringify: r
};
_ = {
parse: s,
stringify: r
};
var l = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, d = {
"\b": "\\b",
"\t": "\\t",
"\n": "\\n",
"\f": "\\f",
"\r": "\\r",
"\\": "\\\\",
'"': '\\"'
}, u = "(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)", c = '(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))', h = '(?:"' + c + '*")', f = new RegExp("(?:false|true|null|[\\{\\}\\[\\]]|" + u + "|" + h + ")", "g"), p = new RegExp("\\\\(?:([^u])|u(.{4}))", "g"), g = {
'"': '"',
"/": "/",
"\\": "\\",
b: "\b",
f: "\f",
n: "\n",
r: "\r",
t: "\t"
}, m = new String(""), $ = "\\";
n(_, "jx_data_JSON");
return _;
}();
}).call(e, i(10), i(21), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(t) {
return "string" == typeof t && "" != t;
}
function n() {
var t, e, i, n, o = document.cookie, r = {};
if (!o || "string" != typeof o) return {};
o = o.split(/;\s/);
for (t = o.length; t--; ) try {
e = o[t].match(/^([^=]+)(=(.*))?$/);
if (!e) continue;
i = c(e[1]);
n = c(e[3] || "");
r[i] = n;
} catch (a) {}
return r;
}
function o(e) {
return t(e) ? n()[e] || null : null;
}
function r(t) {
var e = o(t), i = {};
try {
i = l.parse(e);
} catch (n) {}
return i && "object" == typeof i ? i : {};
}
function a(t, e, i) {
i = i || {};
var n = u(t) + "=" + u(e);
if ("ttl" in i) {
var o = new Date(), r = 24 * i.ttl * 60 * 60 * 1e3;
o.setTime(o.getTime() + r);
n += "; expires=" + o.toGMTString();
}
"path" in i && (n += "; path=" + i.path);
"domain" in i && (n += "; domain=" + i.domain);
i.secure && (n += "; secure");
document.cookie = n;
}
function s(t, e, i) {
"object" != typeof e && (e = {});
a(t, l.stringify(e), i);
}
function _(t, e) {
e = e || {};
e.ttl = -1;
a(t, "", e);
}
var l = i(46), d = {
set: a,
get: o,
getJSONCookie: r,
setJSONCookie: s,
remove: _
}, u = window.encodeURIComponent, c = window.decodeURIComponent;
e(d, "meshim_common_Cookie");
return d;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, n, o, r) {
t.exports = function() {
function t() {
var t = document.documentElement;
return t.compareDocumentPosition ? function(t, e) {
t = t.dom || t;
e = e.dom || e;
return !!(16 & t.compareDocumentPosition(e));
} : t.contains ? function(t, e) {
t = t.dom || t;
e = e.dom || e;
var i = 9 === t.nodeType ? t.documentElement : t, n = e.parentNode;
return t === n || !!(n && 1 === n.nodeType && i.contains && i.contains(n));
} : function(t, e) {
t = t.dom || t;
e = e.dom || e;
for (;e = e.parentNode; ) if (e === t) return !0;
return !1;
};
}
function a(t, e) {
for (var i, n = document.createElement("div"), o = 0, r = P.length; o < r; o++) if (void 0 !== n.style[P[o]]) {
i = e[o];
break;
}
return i ? t ? function(t, e, n) {
t.autobind(e, i, n);
} : function(t, e, n) {
L && t.autounbind(e, i, n);
} : function() {};
}
function s() {
function t(t) {
for (var e = t.charAt(0).toUpperCase() + t.slice(1), n = (t + " " + O.join(e + " ") + e).split(" "), o = 0; o < n.length; o++) if (void 0 !== i[n[o]]) return !0;
return !1;
}
var e = document.createElement("div"), i = e.style;
return t;
}
function _(t, e) {
for (var i = {}, n = 0, o = e.length; n < o; n++) {
var r = e[n];
r in t && (i[r] = t[r]);
}
return i;
}
function l() {
for (var t, e, i = arguments.length, n = 1, o = arguments[0] || {}; n < i; n++) if (null != (t = arguments[n])) for (e in t) t.hasOwnProperty(e) && o !== t[e] && (o[e] = t[e]);
return o;
}
function d(t, e) {
for (var i in e) if (e.hasOwnProperty(i)) if (e[i] && e[i].constructor && e[i].constructor === Object) {
t[i] = t[i] || {};
d(t[i], e[i]);
} else t[i] = e[i];
return t;
}
function u(t, e) {
for (var i in e) if (e.hasOwnProperty(i)) {
if (!(i in t)) continue;
e[i] && e[i].constructor && e[i].constructor === Object ? u(t[i], e[i]) : delete t[i];
}
return t;
}
function c() {
if (void 0 === N) try {
N = h();
} catch (t) {}
return N;
}
function h() {
if (!window.getComputedStyle) return !1;
var t = document.createElement("div"), e = "border-box";
document.body.appendChild(t);
t.style.height = "10px";
t.style.padding = "5px";
t.style.boxSizing = e;
t.style.webkitBoxSizing = e;
t.style.mozBoxSizing = e;
var i = parseInt(window.getComputedStyle(t).height, 10);
document.body.removeChild(t);
return 10 != i;
}
function f(t) {
var e = t.getComputedStyle();
if ("auto" == e.height) return t.getHeight();
var i = parseInt(e.height, 10) || 0;
R.computedHeightBoxSizingBug() && (i += (parseInt(e.paddingTop, 10) || 0) + (parseInt(e.paddingBottom, 10) || 0) + (parseInt(e.borderTopWidth, 10) || 0) + (parseInt(e.borderBottomWidth, 10) || 0));
return i + "px";
}
function p(t) {
function i() {
this.addClass("hover");
}
function n() {
this.removeClass("hover");
}
if (e.bugs.noBoxSizing) {
t.on("mouseover", i);
t.on("mouseout", n);
}
}
function g(t, e) {
for (var i, o = e.split("."); o.length; ) {
i = o.shift();
n(t[i], !0) && (t[i] = {});
t = t[i];
}
return t;
}
function m(t, e, i) {
t = t.split(".");
var n = t.pop();
if (n) {
for (var o = 0, r = t.length; o < r; o++) {
t[o] in i || (i[t[o]] = {});
i = i[t[o]];
}
i[n] = e;
}
}
function $(t) {
for (var e = "zte2095", i = t.split("."), n = "." + i.splice(i.length - 2, 2).join("."); i.length; ) {
var o = {
domain: n,
path: "/"
};
T.set(e, "1", o);
if ("1" == T.get(e)) {
T.remove(e, o);
break;
}
n = "." + i.pop() + n;
}
return n;
}
function b(t) {
return M.test(t);
}
function w(t) {
return F.test(t);
}
function x(t) {
if (t && "object" == typeof t) {
var e = [];
for (var i in t) t.hasOwnProperty(i) && e.push(i);
return e;
}
}
function v(t) {
if (window.Image) try {
var e = new window.Image();
e.onload = e.onerror = function() {
t(!(1 != this.width || 1 != this.height));
};
e.src = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";
} catch (i) {
t();
} else t();
}
function y() {
return e.isIE || /Trident\//.test(window.navigator.userAgent);
}
function j(t, e) {
t = parseInt(t, 10);
isNaN(t) && (t = 0);
var i = t < 0;
t = Math.abs(t).toString().split("");
for (var n = Math.max(e - t.length, 0); n--; ) t.unshift("0");
i && t.unshift("-");
return t.join("");
}
function C(t, e) {
function i(t, e, i) {
return i.replace("<hours>", t).replace("<minutes>", e);
}
function n(t, e) {
return t - Math[t > 0 ? "floor" : "ceil"](t / e) * e;
}
var r = o(0), a = o(1), s = o(2), _ = "24" === e ? 24 : 12, l = n(Math[t > 0 ? "floor" : "ceil"](t / 60), _), d = R.pad(Math.abs(t) % 60, 2);
if (24 === _) return i(R.pad(l, 2), d, r);
var u = 0 === l ? 12 : l;
return Math.abs(t / 60) % 24 < 12 ? i(u, d, a) : i(u, d, s);
}
function A(t) {
return t && t.replace(E.FILE_REPLACE_SOURCE, E.FILE_REPLACE_RESULT);
}
function S(t, e) {
e = parseInt(e, 10);
if (!e) return t.getValue();
var i = t.getKeys(), n = i.length, o = {};
if (n <= e) return t.getValue() || o;
for (var r = 0; r < n; r++) i[r] = parseInt(i[r], 10);
i = i.sort().slice(-e);
var a, s = t.getValue();
if (!s) return o;
for (r = 0, n = i.length; r < n; r++) {
a = i[r];
o[a] = s[a];
}
return o;
}
function I(t, e) {
var i;
if (t.leaf && t.parentNode) {
i = {};
i[t.name] = e;
t.parentNode.write(i);
} else t.write(e);
}
function k() {
if (e.isNewIE) try {
"body" !== document.activeElement.nodeName.toLowerCase() && document.activeElement.focus();
} catch (t) {}
}
function B() {
console && console.warn && console.warn("The Zopim widget embed code is invalid. Please email chat@zendesk.com with your account key: " + E.ACCOUNT_KEY);
}
var N, T = i(47), E = i(42), D = "-webkit- -moz- -o- -ms- ".split(" "), O = "webkit Moz O ms ".split(" "), P = [ "transition", "MozTransition", "OTransition", "WebkitTransition" ], L = [ "transitionend", "transitionend", "otransitionend", "webkitTransitionEnd" ], W = [ "animationend", "animationend", "oanimationend", "webkitAnimationEnd" ], R = {
contains: t(),
onTransitionEnd: a(!0, L),
unTransitionEnd: a(!1, L),
onAnimationEnd: a(!0, W),
unAnimationEnd: a(!1, W),
css_prefixes: D,
cssom_prefixes: O,
isStyleSupported: s(),
pick: _,
shallowExtend: l,
fullyExtend: d,
fullyDelete: u,
computedHeightBoxSizingBug: c,
getComputedHeight: f,
hoverFix: p,
getEffectiveTLD: $,
descendsObj: g,
insertObj: m,
isDefaultName: w,
getKeys: x,
supportsDataURI: v,
isIE: y(),
pad: j,
formatMinutesAsHours: C,
replaceFileHostname: A,
getLastLogEntries: S,
writeNode: I,
isAgentNick: b,
refocusActiveElement: k,
warnBadEmbed: B
}, F = /^Visitor [0-9]{3,}$/, M = /^agent:[0-9]+/i;
r(R, "meshim_widget_utils_Utils");
return R;
}();
}).call(e, i(7), i(10), i(22), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t(t, e) {
c = t;
h = e;
c.$("livechat").$("channel").$("department_id$int").on("value", function(t) {
t && (f = t);
});
}
function r(t, e, i) {
var n = parseInt(e, 10) || parseInt(h.getServerTime().toFixed(0), 10), o = n + "", r = c.$("livechat").$("profile"), a = f, s = (t.msg || "") + "";
"department" in t && (a = t.department);
c.$("livechat").$("channel").$("log").$(o).write({
timestamp$int: n,
type$string: "chat.msg",
msg$string: s,
nick$string: r.$("nick$string").getValue() || "",
display_name$string: r.$("display_name$string").getValue() || "",
department_id$int: a,
unverified$bool: !0,
__client$bool: !0
}, i);
}
function a(t, e) {
var i = parseInt(e, 10) || parseInt(h.getServerTime().toFixed(0), 10), n = i + "";
c.$("livechat").$("channel").$("log").$(n).write({
timestamp$int: i,
nick$string: c.$("livechat").$("profile").$("nick$string").getValue() || "",
display_name$string: c.$("livechat").$("profile").$("display_name$string").getValue() || "",
type$string: "chat.file.upload",
file_name$string: t.file_name || "",
file_type$string: t.file_type || "",
file_size$int: t.file_size || 0,
unverified$bool: !0,
__client$bool: !0
});
return i;
}
function s(t, i) {
function o(t) {
if ("ok" !== t.raw.__status) return i(new window.Error(u(t.raw.error)));
if (!t.raw.data || "chat.file" !== t.raw.data.type) return i(new window.Error("INTERNAL_ERROR"));
i(null, b.pick(t.raw.data, [ "mime_type", "name", "size", "url" ]));
}
var r = v._validateAndPrepareData([ t ]);
i = p.once(i);
if (e(r)) n(function() {
i(new window.Error(r));
}); else {
var a = h.registerCallback(o), s = "https://" + r.host + g.CALLBACK_FILE_UPLOAD_PATH, _ = {
ts: parseInt(h.getServerTime().toFixed(0), 10),
__messageID: a
}, l = {
"X-Zopim-MID": r.mid,
"X-Zopim-UID": r.uid
}, d = {
error: function() {
i(new window.Error("CONN_ERROR"));
},
load: function() {
if (200 !== this.status) {
var t;
try {
t = JSON.parse(this.responseText);
} catch (e) {}
i(t && t.error ? new window.Error(u(t.error)) : new window.Error("INTERNAL_ERROR"));
}
}
};
v._uploadFiles(r.form_data, s, _, l, d);
}
}
function _(t, i) {
var n = v._validateAndPrepareData(t);
if (e(n)) return n;
var o = a({
file_name: n.name,
file_type: n.type,
file_size: n.size
}, i), r = "https://" + n.host + g.FILE_UPLOAD_PATH, s = {
ts: o
}, _ = {
"X-Zopim-MID": n.mid,
"X-Zopim-UID": n.uid
};
v._uploadFiles(n.form_data, r, s, _);
}
function l(t) {
if (!window.FormData) return "NOT_SUPPORTED";
var e = c.$("livechat"), i = e.$("settings").$("file_sending"), n = e.$("settings").$("package"), o = i.$("enabled$bool").getValue(), r = void 0 === o || o, a = (i.$("allowed_extensions$string").getValue() || "").trim().replace(/\s*,\s*/g, ",").split(","), s = n.$("color_customization_enabled$int").getValue() || n.$("widget_customization_enabled$int").getValue(), _ = e.$("profile").$("mid$string").getValue(), l = e.$("profile").$("uid$string").getValue(), d = h.getHost(), u = new window.FormData(), f = [], p = [], $ = 0;
if (!d) return "CONN_ERROR";
if (!s) return "INVALID_PLAN";
if (!r) return "NOT_ALLOWED";
for (var b = 0, w = t.length; b < w; b++) {
if (!m.isValidType(t[b].name, a)) return "INVALID_EXTENSION";
f.push(t[b].name);
p.push(t[b].type);
$ += t[b].size || 0;
u.append("file_" + t[b].name, t[b]);
}
return $ > g.FILE_UPLOAD_MAX ? "EXCEED_SIZE_LIMIT" : {
form_data: u,
name: f.join(", "),
type: p.join(", "),
size: $,
host: d,
mid: _,
uid: l
};
}
function d(t, e, i, n, o) {
var r = new window.XMLHttpRequest(), a = e + (Object.keys(i).length ? "?" + $.buildQuery(i) : "");
if (r.upload) {
r.open("POST", a, !0);
for (var s in n) n.hasOwnProperty(s) && r.setRequestHeader(s, n[s]);
for (var _ in o) o.hasOwnProperty(_) && r.addEventListener(_, o[_]);
r.send(t);
}
}
function u(t) {
return x[t] || "UNKNOWN_ERROR";
}
var c, h, f, p = i(50), g = i(42), m = i(51), $ = i(28), b = i(48), w = {
NOT_SUPPORTED: "NOT_SUPPORTED",
NOT_ALLOWED: "NOT_ALLOWED",
CONN_ERROR: "CONN_ERROR",
INVALID_EXTENSION: "INVALID_EXTENSION",
INVALID_PLAN: "INVALID_PLAN",
EXCEED_SIZE_LIMIT: "EXCEED_SIZE_LIMIT",
INTERNAL_ERROR: "INTERNAL_ERROR",
UNKNOWN_ERROR: "UNKNOWN_ERROR"
}, x = {
TOO_LARGE: "EXCEED_SIZE_LIMIT",
ILLEGAL_TYPE: "INVALID_EXTENSION",
NO_SESSION: "INTERNAL_ERROR",
UNEXPECTED_ERROR: "INTERNAL_ERROR",
UNABLE_TO_GET_SETTINGS: "INTERNAL_ERROR",
S3_UPLOAD_ERROR: "INTERNAL_ERROR",
NO_GATES: "INTERNAL_ERROR",
FILE_UPLOADS_DISABLED: "NOT_ALLOWED",
FILE_UPLOADS_TEMPORARILY_DISABLED: "INVALID_PLAN"
}, v = {
FILE_SENDING_ERRORS: w,
init: t,
sendChatMsg: r,
sendFiles: _,
sendFileWithCallback: s,
_validateAndPrepareData: l,
_uploadFiles: d
};
o(v, "meshim_widget_controllers_ChatUtils");
return v;
}();
}).call(e, i(19), i(12), i(4));
}, function(t, e, i) {
(function(e, i) {
t.exports = function() {
function t(t, i) {
if (!e(t)) throw new TypeError("FunctionUtils.bind - what is trying to be bound is not callable");
if (e(t.bind) && !("prototype" in t.bind)) return t.bind.apply(t, r.call(arguments, 1));
var n = r.call(arguments, 2), o = function() {}, a = function() {
return t.apply(this instanceof o && i ? this : i, n.concat(r.call(arguments)));
};
o.prototype = a.prototype;
a.prototype = new o();
return a;
}
function n(t) {
var e;
return function() {
if (!e) {
e = !0;
return t.apply(this, r.call(arguments));
}
};
}
var o = {
bind: t,
once: n
}, r = Array.prototype.slice;
i(o, "jx_core_FunctionUtils");
return o;
}();
}).call(e, i(9), i(4));
}, function(t, e, i) {
(function(e, i, n, o) {
t.exports = function() {
var t = e(107), r = e(108), a = e(109), s = e(110), _ = e(111), l = e(112), d = {};
d.ERR_SIZE = "TOO_LARGE";
d.ERR_FORMAT = "ILLEGAL_TYPE";
d.ERR_DISABLED = "FILE_UPLOADS_TEMPORARILY_DISABLED";
var u = /^(x-|vnd\.)/i, c = [ "png", "jpg", "jpeg", "gif", "txt", "pdf" ], h = {}, f = e(113);
h[d.ERR_SIZE] = t;
h[d.ERR_FORMAT] = r;
h[d.ERR_DISABLED] = a;
d.prettySize = function() {
var t = 1e3, e = 1024, i = [ s, _, l ], n = [ 0, 1, 2 ];
return function(o, r) {
o = Math.max(parseInt(o, 10) || 0, 0);
r = r || {};
for (var a, s = r.base2 ? e : t, _ = i.length; _--; ) {
a = Math.pow(s, _);
if (o >= a) return i[_].replace("<size>", (o / a).toFixed(n[_]));
}
};
}();
d.prettyType = function(t, e, i) {
i = i || window.Infinity;
var n = t.split("/")[1];
n = n && n.replace(u, "");
if (n && n.length < i) return n.toLowerCase();
n = e.split(".").pop();
return (n || "").toLowerCase();
};
d.isValidType = function(t, e) {
if (t) {
e = e || c;
var n = t.substr(t.lastIndexOf(".") + 1).toLowerCase();
return i(n, e) !== -1;
}
};
d.prettyError = function(t, e) {
var i = t in h ? h[t] : f;
n(e) || (i = i.replace("<size>", d.prettySize(e || 5e6)));
return i;
};
d.blobToFile = function(t, e, i) {
t.lastModifiedDate = new Date();
t.name = e;
return new window.File([ t ], e, {
type: i
});
};
d.getExtension = function(t) {
var e = t.lastIndexOf(".");
return e === -1 ? null : t.substr(e + 1).toLowerCase();
};
o(d, "meshim_common_FileUtil");
return d;
}();
}).call(e, i(22), i(24), i(10), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t() {
for (var t, e = [ /(android [2-9])|(iemobile\/(?![5-9]))|(ucbrowser)|(Webkit.+Chrome)|(ipod|iphone|ipad).+applewebkit.+(CriOS|Version\/[5-9]|Mobile)/i ], i = 0, n = e.length; i < n; i++) if (e[i].test(A)) {
t = !0;
break;
}
/android.+ucbrowser/i.test(A) && (t = !1);
return t;
}
function r() {
var t, e = window.document.documentElement.clientWidth;
t = a() ? e > B : e > N;
return t;
}
function a() {
return window.document.documentElement.clientWidth > window.document.documentElement.clientHeight;
}
function s(t) {
}
function _() {
return I && w.test(S);
}
function l() {
return I && v.test(S);
}
function d() {
return I && /(iemobile|windows phone)/i.test(A);
}
function u() {
return I && w.test(S) && x.test(A);
}
function c() {
return I && w.test(S) && !x.test(A);
}
function h() {
return I && /ucbrowser/i.test(A);
}
function f() {
return I && /(opera|opr).*android|android.*(opera|opr)/i.test(A);
}
function p() {
return I && v.test(S) && !y.test(A);
}
function g() {
return I && v.test(S) && y.test(A);
}
function m() {
var t = window.document.documentElement.clientWidth, i = window.document.documentElement.clientHeight, n = t / i > C, o = window.screen.width, r = window.screen.height, a = !1;
if (n && o < r) {
a = !0;
o = window.screen.height;
r = window.screen.width;
}
var s = window.innerWidth, _ = t / o;
window.devicePixelRatio && c() && !e.isIOS ? _ *= window.devicePixelRatio : d() && (_ *= 1.5);
var l = t / s / _;
l = (l / k.MOBILE_ZOOM_ADDITIONAL).toFixed(2);
return l;
}
function $() {
var t = window, e = t.document.documentElement, i = t.document.body, o = null, r = {
top: 0,
left: 0
};
n(e.getBoundingClientRect) && (n(t.getComputedStyle) ? "relative" == t.getComputedStyle(i).position ? o = i : "relative" == t.getComputedStyle(e).position && (o = e) : i.currentStyle ? "relative" == i.currentStyle.position ? o = i : "relative" == e.currentStyle.position && (o = e) : "relative" == i.style.position ? o = i : "relative" == e.style.position && (o = e));
if (o) {
var a = o.getBoundingClientRect();
r.top = a.top + t.pageYOffset - e.clientTop;
r.left = a.left + t.pageXOffset - e.clientLeft;
}
return r;
}
var b = i(53), w = /google inc\./i, x = /chrome/i, v = /apple computer, inc\./i, y = /crios/i, j = 1.2, C = 1.45, A = window.navigator.userAgent || "", S = window.navigator.vendor || "", I = b(), k = {
isMobileBrowser: I,
isMobileWhitelist: t(),
isMobileTablet: r(),
isAndroid: _(),
isIOS: l(),
isWP: d(),
isIEMobile: d(),
isChromeIOSMobile: g(),
isSafariIOSMobile: p(),
isChromeAndroidMobile: u(),
isOperaAndroidMobile: f(),
isNativeAndroidMobile: c(),
isUCBrowserMobile: h(),
hideVirtualKeyboard: s,
checkLandscape: a,
getZoomLevel: m,
getOffset: $,
MOBILE_ZOOM_ADDITIONAL: j
}, B = 640, N = 320;
o(k, "meshim_widget_utils_Mobile");
return k;
}();
}).call(e, i(7), i(9), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t() {
var t = window.navigator.userAgent || "", e = window.navigator.vendor || "", i = /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i, n = /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i, o = t || e || window.opera, r = i.test(o) || n.test(o.substr(0, 4));
return r;
}
e(t, "meshim_widget_utils_isMobileBrowser");
return t;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t() {
l = j.root;
d = l.$("livechat");
u = d.$("ui");
h = u.$("chat_notification").$("display$bool");
f = u.$("chat_window").$("display$bool");
p = u.$("chat_button").$("display$bool");
g = u.$("mobile_notifications$bool");
c = u.$("mobile_overlay$bool");
h.on("value", S);
f.on("value", S);
p.on("value", S);
g.on("value", S);
}
function o() {
if (v === !0) return !0;
v = g.getValue() ? $ && b && m && !e(f.getValue()) && !e(h.getValue()) && !e(p.getValue()) : c.getValue() ? $ && b && !e(f.getValue()) && !e(p.getValue()) : b && !e(p.getValue());
return v;
}
function r() {
if (w === b && x === $) {
w = $;
$.moveUp(A);
b.moveDown(A);
} else if (w) w.moveDown(function(t) {
if (!t) if (x) {
w = x;
x.moveUp();
} else w = null;
}); else {
w = x;
x && x.moveUp();
}
}
function a(t) {
$ = t;
S();
}
function s(t) {
m = t;
S();
}
function _(t) {
b = t;
S();
}
var l, d, u, c, h, f, p, g, m, $, b, w, x, v, y = i(55), j = (i(50), i(40)), C = {
init: t,
registerChatButton: _,
registerChatNotification: s,
registerChatWindow: a
}, A = function() {}, S = y.debounce(function() {
if (o()) {
var t = f.getValue(), e = h.getValue(), i = p.getValue(), n = t && $ || e && m || i && b || null;
if (!(t + e + i > 1) && x !== n) {
x = n;
r();
}
}
});
n(C, "meshim_widget_controllers_MobileViewsController");
return C;
}();
}).call(e, i(10), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(t, e) {
function i() {
t.apply(o, n);
}
var n, o, r;
return function() {
r && window.clearTimeout(r);
n = Array.prototype.slice.call(arguments);
o = this;
r = window.setTimeout(i, e);
};
}
function i(t, e) {
function i() {
a = +new Date();
r = null;
t.apply(o, n);
}
var n, o, r, a = 0;
return function() {
n = Array.prototype.slice.call(arguments);
o = this;
if (!r) {
var t = +new Date() - a;
t >= e ? i() : r = window.setTimeout(i, e - t);
}
};
}
function n(t, e) {
function i() {
a = +new Date();
n = o.length > 1 ? window.setTimeout(i, e) : null;
t.apply(r.shift(), o.shift());
}
var n, o = [], r = [], a = 0;
return function() {
o.push(Array.prototype.slice.call(arguments));
r.push(this);
if (!n) {
var t = +new Date() - a;
t >= e ? i() : n = window.setTimeout(i, e - t);
}
};
}
var o = {
debounce: t,
throttle: i,
queue: n
};
e(o, "meshim_common_AsyncUtils");
return o;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
var t, r = i(57), a = i(40), s = i(58), _ = i(43), l = i(72), d = i(79), u = i(48), c = {}, h = {}, f = "standard", p = "popout", g = "mobile", m = 20, $ = !1;
c.init = function() {
function i(t) {
"fast_init" != t || $ || c();
}
function o(t) {
if (!("reattached" != t && "cookie_law" != t || $)) {
$ = !0;
c();
}
}
function c() {
b(!0);
}
function b(e) {
var i = y.getValue();
if (i && i.name$string && (x != i.name$string || e)) {
var o = l[i.name$string];
if (o && o.generate) {
var c, $ = m, b = [], v = [];
do {
b.push(o.defaults || {});
v.push(o.overrides || {});
} while (o._super && (o = o._super));
for (var j, C = r.clone(_.livechat.settings.theme), A = {}; b.length; ) {
j = b.pop();
u.fullyExtend(C, j);
u.fullyExtend(A, j);
}
var S = s.getServerSettings("settings");
S = S && S.theme;
u.fullyExtend(C, S || i);
for (;v.length; ) u.fullyExtend(C, v.pop());
u.fullyExtend(C, t.getValue());
C.name$string = i.name$string;
B && u.fullyExtend(C, d.popout);
N && u.fullyExtend(C, d.mobile);
E && u.fullyExtend(C, d.mobile_overlay);
if (!a.livechat.getLimit()) {
C.colors.banner$string = C.colors.primary$string;
A.colors && A.colors.bubble$string && (C.colors.bubble$string = A.colors.bubble$string);
}
x = C.name$string;
var I;
r.equal(C, h) && (I = !0);
h = C;
y.update(C);
if (!I) {
o = l[x];
var k = m;
if (T) {
do n.delPalette(k); while (k--);
} else n.delPalettes();
do {
c = o.generate(C);
N && c[g] && n.setPalette(c[g], "widget_mobile_" + $, $--);
B && c[p] && n.setPalette(c[p], "widget_popout_" + $, $--);
n.setPalette(c[f], "widget_" + $, $--);
} while (o._super && (o = o._super));
n.on("write", w);
n.reload();
}
}
}
}
function w() {
S.update(!0);
n.un("write", w);
}
var x, v = a.root, y = v.$("livechat").$("settings").$("theme"), j = y.$("name$string"), C = v.$("livechat").$("ui"), A = C.$("theme_reload$bool"), S = C.$("theme_loaded$bool"), I = v.$("connection").$("message$string"), k = v.$("connection").$("status$string"), B = C.$("popout$bool").getValue(), N = C.$("mobile$bool").getValue(), T = C.$("mockup$bool").getValue(), E = C.$("mobile_overlay$bool").getValue();
t = v.$("tmp").$("api_settings").$("settings").$("theme");
e.isIE <= 9 && n.generateAll("no_reload");
I.bindValue(i);
k.bindValue(o);
y.bindValue(function() {
b();
});
j.bindValue(function() {
b();
});
A.bindValue(function(t) {
t && b(!0);
});
};
o(c, "meshim_widget_controllers_ThemeController");
return c;
}();
}).call(e, i(7), i(30), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var t = function(t, e) {
return t === e || t && e && "object" == typeof t && "object" == typeof e && i(t, e);
}, i = function(e, i) {
var n;
for (n in e) if (!t(e[n], i[n])) return !1;
for (n in i) if (!t(e[n], i[n])) return !1;
return !0;
}, n = function(t) {
if ("object" != typeof t || !t) return t;
var e = {};
for (var i in t) t.hasOwnProperty(i) && (e[i] = n(t[i]));
return e;
}, o = function(t) {
if (t) for (var e = 1, i = arguments.length; e < i; e++) {
var n = arguments[e];
if (n) for (var o in n) n.hasOwnProperty(o) && (t[o] = n[o]);
}
return t;
}, r = {
equal: t,
clone: n,
extend: o
};
e(r, "jx_core_ObjectUtil");
return r;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
t.exports = function() {
function t(t) {
function e() {
if ("prerender" != document.visibilityState) {
document.removeEventListener("visibilitychange", e);
It.connect();
}
}
it = t.isCookieDenied;
nt = t.overrideProxy;
ot = t.source;
rt = t.lastHost;
at = t.source_ver;
z = t.root;
Y = z.$("tmp").$("api_settings");
X = z.$("tmp").$("server_settings");
K = z.$("livechat").$("settings").$("cached$bool");
U = z.$("connection");
Z = U.$("server_retired$bool");
J = U.$("server_ready$bool");
J.bindValue(d);
Z.bindValue(l);
G = z.$("livechat").$("ui").$("mockup$bool").getValue();
if (G) U.$("status$string").update("reattached"); else {
z.$("livechat").$("profile").bindValue(_);
U.$("status$string").bindValue(s);
U.$("socket_status$string").bindValue(B);
z.bindWrite(L);
U.$("reconnect$bool").bindValue($);
if (window.__z_sdk) V = !0; else {
V = !1;
"visibilityState" in document && "prerender" == document.visibilityState ? document.addEventListener("visibilitychange", e) : It.connect();
}
}
}
function s(t) {
xt = "reattached" == t;
xt && L();
xt && V === !1 && N();
if ("idle_disconnect" == t || "shutdown" == t || "error" == t) {
var e = z.$("livechat").$("account").$("status$string").getValue(), i = z.$("connection").$("backoff"), n = i.$("active$int").getValue() || 0, o = i.$("max_seconds$int").getValue();
"invalid_account_key" == e ? ut.warnBadEmbed() : "widget_v2" == ot && "shutdown" == t && n && o && g(o);
f();
}
B();
}
function _(t) {
t && (it() || _t.IS_POPOUT || t.mid$string && lt.setIdentity(t.mid$string));
}
function l(t) {
Q = t === !0;
}
function d(t) {
tt = t !== !1;
if (tt) {
jt = !1;
u();
}
}
function u() {
for (var t = 0, i = yt.length; t < i; t++) {
var n = yt[t];
e(n) && n();
}
yt = [];
}
function c(t) {
if (!tt || Q) {
U.update({
server_ready$bool: !1
});
yt.push(t);
if (!jt) {
jt = !0;
q.reconnect();
}
} else t();
}
function h(t) {
q && q.send(t);
}
function f(t) {
q && q.close();
H = !t;
q = null;
wt = "";
}
function p() {
window.clearTimeout(It.reconnectTimer);
f(!0);
It.connect();
}
function g(t) {
window.clearTimeout(It.reconnectTimer);
It.reconnectTimer = window.setTimeout(function() {
It.reconnect();
}, 1e3 * t);
}
function m() {
U.update({
status$string: "idle_disconnect"
});
}
function $(t) {
t && p();
}
function b(t) {
var e = st || new ct(t, "W", null, gt);
e.on("open", function() {
y(t, e);
});
return e;
}
function w() {
var t = x();
try {
et = $t.getGeoAccess(nt, t, 3, 2);
} catch (e) {
window.console && window.console.log("Unable to compute host list");
return;
}
v(mt);
}
function x() {
return rt || U.$("server$string").getValue() || "";
}
function v(t) {
function e() {
clearTimeout(o);
n.un("close", e);
v(t);
}
if (!q && !H) {
var i = et.getNextHost();
if (i) {
Ct++;
var n = b(i);
bt.push(n);
if (et.hasNext()) {
var o = setTimeout(e, t);
n.on("close", e);
}
}
}
}
function y(t, e) {
if (!G) if (q) e.close(); else {
U.update({
socket_status$string: null
});
wt = t;
dt.increment("conn", [ "tries:" + Ct ]);
Ct = 0;
dt.start("conn_open", e.starttime);
dt.end("conn_open", .25, [ "proxy:" + t ]);
q = e;
q.on("break", C);
q.on("message", j);
q.on("reopen", S);
q.on("resume", A);
q.on("error", function() {
var t = this.connect_attempts, e = this.recv_messages;
if (t > 3 && 0 == e) {
f(!0);
v(mt);
}
});
I();
}
}
function j(t) {
if (t) {
if (t.raw && t.raw.__messageID in St) {
var e = St[t.raw.__messageID];
delete St[t.raw.__messageID];
e(t);
}
var i = z;
if ("update" in t) {
if (/^livechat.account/.test(t.path)) {
var n = t.path.split(".");
n.splice(0, 2);
n = n.join(".");
(n ? X.$("account").descend(n) : X.$("account")).update(t.update);
ut.fullyExtend(t.update, Y.getValue("account"));
}
if (/^livechat/.test(t.path) && "account" in t.update) {
X.$("account").update(t.update.account);
ut.fullyExtend(t.update.account, Y.getValue("account"));
}
if (/^livechat.settings/.test(t.path)) {
var o = t.path.split(".");
o.splice(0, 2);
o = o.join(".");
(o ? X.$("settings").descend(o) : X.$("settings")).update(t.update);
ut.fullyExtend(t.update, Y.getValue("settings"));
}
t.path && (i = i.descend(t.path));
i.update(t.update);
It.fire("message", t);
}
}
}
function C() {
U.update({
socket_status$string: "break"
});
}
function A() {
U.update({
socket_status$string: "resume"
});
}
function S() {
U.update({
socket_status$string: "reconnect"
});
xt = !1;
I();
}
function I() {
if (_t.ACCOUNT_KEY) {
q || It.connect();
var t = lt.getIdentity(), e = it(), i = z.$("livechat").$("ui").getValue("mobile$bool") ? "mobile" : "desktop", o = z.$("livechat").$("settings").$("theme").getValue("name$string"), r = {
__type: "register",
accountKey: _t.ACCOUNT_KEY,
mID: t,
ua: window.navigator.userAgent,
dt: i,
theme: o,
cookie_law: e,
rev: n.git_commit,
source: ot,
source_ver: at
};
if (z.$("livechat").$("ui").$("popout$bool").getValue()) r.popout = !0; else {
r.title = document.title;
r.url = window.location.href;
r.ref = window.document.referrer;
}
var a = It._register;
if (a) for (var s in a) a.hasOwnProperty(s) && (r[s] = a[s]);
q.send(r);
}
}
function k() {
return !!K.getValue();
}
function B() {
var t = U.getValue("status$string"), e = U.getValue("socket_status$string");
window.clearTimeout(T.timer);
if ("error" != t) if ("break" == e) if ("idle_disconnect" == t) U.update({
message$string: "idle_disconnect"
}); else {
U.update({
message$string: "reconnecting"
});
T.timer = window.setTimeout(T, 6e4);
} else if (null === e && "registered" == t) U.update({
message$string: "resuming"
}); else if (o(t) && o(e)) {
var i = k() ? "fast_init" : "first_init";
U.update({
message$string: i
});
} else U.update({
message$string: null
}); else T.timer = window.setTimeout(T, 5e3);
}
function N() {
q && z.$("livechat").$("profile").write({
disconnect_timeout$int: R(q.rtt)
});
}
function T() {
U.update({
message$string: "disconnected"
});
}
function E() {
var t = q;
return t ? {
connect_attempts: t.connect_attempts,
connections: t.connections,
disconnects: t.disconnects,
timeout_server: t.timeout_server,
timeout_response_soft: t.timeout_response_soft,
timeout_response_hard: t.timeout_response_hard,
sent_bytes: t.sent_bytes,
recv_bytes: t.recv_bytes,
sent_messages: t.sent_messages,
recv_messages: t.recv_messages,
sent_frames: t.sent_frames,
recv_frames: t.recv_frames,
lost_frames: t.lost_frames,
ooo_frames: t.ooo_frames,
bytes_at_connect: t.bytes_at_connect,
rtt: t.rtt,
clock_skew: t.clock_skew,
reconnect_delay: t.reconnect_delay,
quality: t.quality,
host: t.host,
status: t.status,
zone: window.__$__GEO,
last_frame_time: t.last_frame_time,
local_time: +new Date()
} : {
status: "not connected"
};
}
function D() {
return wt;
}
function O() {
return +new Date() - (q ? q.clock_skew : 0);
}
function P(t) {
At += 1;
St[At] = t;
return At;
}
function L(t) {
if (t) {
var i = {};
i.path = t.path;
i.value = t.value;
e(t.func) && (i.__messageID = P(t.func));
vt.push(i);
}
if (q && xt) for (;vt.length; ) q.send(vt.shift());
}
function W(t) {
return t ? X.getValue(t) : X.getValue();
}
function R(t) {
function e(t) {
return t;
}
var i, n, o = 10 * pt.SECOND, r = 1 * pt.SECOND, a = 120 * pt.SECOND, s = 20 * pt.SECOND;
t = Math.round(t) || 0;
t = Math.max(r, Math.min(t, o));
i = (t - r) / (o - r);
n = s + e(i) * (a - s);
return Math.floor(n / 1e3);
}
function F(t) {
st = t;
}
function M() {
J.unbindValue(d);
Z.unbindValue(l);
z.$("livechat").$("profile").unbindValue(_);
U.$("status$string").unbindValue(s);
U.$("socket_status$string").unbindValue(B);
U.$("reconnect$bool").unbindValue($);
f();
bt.forEach(function(t) {
t.close();
t.fire("close");
});
T.timer = clearTimeout(T.timer);
bt = [], wt = "", xt = !1, vt = [], yt = [], jt = !1, Ct = 0, At = 0, St = {}, V = H = z = U = q = G = Y = X = K = Z = Q = J = tt = et = it = nt = ot = rt = at = st = null;
}
var V, H, z, U, q, G, Y, X, K, Z, Q, J, tt, et, it, nt, ot, rt, at, st, _t = i(42), lt = i(44), dt = i(59), ut = i(48), ct = i(61), ht = i(66), ft = i(67), pt = i(71), gt = {
FLUSH_DELAY_MS: 0,
RECONNECT_DELAY_MS: 1e4
}, mt = 3e3, $t = new ft(ht, '{"CLUSTERS":{"US":["us08","us10","us12","us14","us16","us18","us20","us22","us24","us26","us28","us30","us32","us34","us36","us38","us40","us42","us44","us46"],"DE":["de04","de06","de08","de10","de12","ie02","ie04","ie06","ie08","ie10","ie12","ie14","ie16","de14","de16","de18","de20","ie18","ie20","ie22","ie24","de22","de24","de26","de28"],"SG":["sg06","sg08","sg10","sg12","sg14","sg16","sg18","sg20"],"JP":["jp02","jp04","jp06","jp08"],"AU":["au02","au04"],"BR":["br02","br04","br06","br08","br10","br12"]},"FALLBACKS":{"US":["DE"],"DE":["US"],"SG":["US"],"JP":["US"],"AU":["SG","US"],"BR":["US"]},"NEAR_MAP":{"AL":"DE","AD":"DE","AM":"DE","AT":"DE","BY":"DE","BE":"DE","BA":"DE","BG":"DE","CH":"DE","CY":"DE","CZ":"DE","DE":"DE","DK":"DE","EE":"DE","ES":"DE","EU":"DE","FO":"DE","FI":"DE","FR":"DE","GB":"DE","GE":"DE","GI":"DE","GR":"DE","HU":"DE","HR":"DE","IE":"DE","IM":"DE","IS":"DE","IT":"DE","LT":"DE","LU":"DE","LV":"DE","MC":"DE","MK":"DE","MT":"DE","NO":"DE","NL":"DE","PK":"DE","PO":"DE","PT":"DE","RO":"DE","SA":"DE","SE":"DE","SI":"DE","SK":"DE","SM":"DE","TR":"DE","UA":"DE","VA":"DE","ZA":"DE","NG":"DE","MA":"DE","AP":"SG","BD":"SG","BN":"SG","CN":"SG","ID":"SG","IN":"SG","LA":"SG","KH":"SG","LK":"SG","MM":"SG","MY":"SG","SG":"SG","TH":"SG","VN":"SG","AU":"AU","NZ":"AU","HK":"JP","KR":"JP","JP":"JP","PH":"US","RU":"JP","TW":"JP","AR":"BR","BO":"BR","BR":"BR","CL":"BR","PE":"BR","PY":"BR","UY":"BR","DEFAULT":"US"}}'), bt = [], wt = "", xt = !1, vt = [], yt = [], jt = !1, Ct = 0, At = 0, St = {}, It = r.extend({
init: t,
send: h,
connect: w,
reconnect: p,
disconnect: m,
getConnectionStats: E,
getHost: D,
getServerTime: O,
getServerSettings: W,
reconnectIfServerRetired: c,
registerCallback: P,
getDCTimeoutValue: R,
setSocket: F,
reset: M
});
a(It, "meshim_widget_controllers_ConnectionController");
return It;
}();
}).call(e, i(9), i(1), i(10), i(6), i(4));
}, function(t, e, i) {
(function(e, n, o, r) {
t.exports = function() {
function t() {
d = new c();
d.setTags(l());
d.bindToConnectionStatus = a;
d.flush = _;
}
function a(t) {
t.bindValue(s);
}
function s(t) {
if ("registered" == t || "reattached" == t || "cookie_law" == t) {
u = !0;
d.flush();
} else u = !1;
}
function _() {
if (u && this.queue.length) {
f.root.$("livechat").$("ui").$("mockup$bool").getValue() || e(d.send) && d.send({
__type: "instrumentation",
metrics: this.queue
});
this.queue = [];
}
}
function l() {
var t = [];
t.push("browser:" + n.browser);
var e, i;
if (h.isMobileBrowser) {
e = h.isMobileTablet ? "tablet" : "mobile";
i = h.isAndroid ? "android" : h.isIOS ? "ios" : h.isWP ? "wp" : "other";
} else {
e = "desktop";
i = n.isWindows ? "win" : n.isMac ? "mac" : "other";
}
t.push("device:" + e);
t.push("platform:" + i);
t.push("rev:" + o.git_commit);
return t;
}
var d, u, c = i(60), h = i(52), f = i(40);
t();
r(d, "meshim_widget_controllers_InstrumentationController");
return d;
}();
}).call(e, i(9), i(7), i(1), i(4));
}, function(t, e, i) {
(function(e, i, n, o) {
t.exports = function() {
function t() {
var t = +new Date(), e = t - c, i = Math.abs(e - l);
i > d && a();
c = t;
}
function r() {
for (var t = f.length; t--; ) {
for (var e = f[t], i = e.queue.length; i--; ) {
var n = e.queue[i];
"histogram" === n.method && e.queue.splice(i, 1);
}
e.start_ts = {};
}
}
function a() {
h = clearInterval(h);
u = !1;
r();
}
function s() {
this.ref_ts = null;
this.from_ref_ts = {};
this.start_ts = {};
this.tags = [];
this.queue = [];
f.push(this);
}
function _(t) {
}
var l = 15e3, d = .2 * l, u = !0, c = +new Date(), h = setInterval(t, l), f = [], p = s.prototype;
p.flush = function() {};
p.setTags = function(t) {
e(t) && (this.tags = t.concat());
};
p.addTag = function(t) {
i(t) && t && this.tags.push(t);
};
p.setRefTime = function(t) {
n(this.ref_ts) ? _("Global start time has already been set - ignoring") : n(t) ? this.ref_ts = t : _("Invalid ref time - ignoring");
};
p.fromRefTime = function(t, e, o) {
if (u) if (n(this.ref_ts)) if (i(t) && t) if (this.from_ref_ts[t]) _(t + " has already been tracked - ignoring"); else {
this.from_ref_ts[t] = !0;
var r = +new Date();
r < this.ref_ts ? a() : this._queueHistogram(t, (r - this.ref_ts) / 1e3, e, o);
} else _("Event name is not provided or invalid"); else _("Global start time has not been set - ignoring");
};
p.start = function(t, e) {
u && (i(t) && t ? t in this.start_ts ? _("Start time of " + t + " has already been set - ignoring") : this.start_ts[t] = n(e) ? e : +new Date() : _("Event name is not provided or invalid"));
};
p.end = function(t, e, n) {
if (u) if (i(t) && t) if (t in this.start_ts) {
var o = +new Date();
if (o < this.start_ts[t]) a(); else {
this._queueHistogram(t, (o - this.start_ts[t]) / 1e3, e, n);
delete this.start_ts[t];
}
} else _("Start time of " + t + " has not been set - ignoring"); else _("Event name is not provided or invalid");
};
p.restart = function(t, e) {
delete this.start_ts[t];
this.start(t, e);
};
p.timing = function(t, e, i) {
this._queue({
method: "timing",
name: t,
value: e,
tags: this.tags.concat(i || [])
});
};
p.increment = function(t, e) {
this._queue({
method: "increment",
name: t,
value: 1,
tags: this.tags.concat(e || [])
});
};
p._queueHistogram = function(t, i, o, r) {
if (e(o)) {
r = o;
o = void 0;
}
var a = {
method: "histogram",
name: t,
value: i,
tags: this.tags.concat(r || [])
};
n(o) && (a.sample_rate = o);
this._queue(a);
};
p._queue = function(t) {
this.queue.push(t);
this.flush();
};
o(s, "meshim_common_Instrumentation");
return s;
}();
}).call(e, i(21), i(19), i(23), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(i, n, o, r) {
if (!f) throw "No available transports";
this.provider = f;
this.options = r = r || {};
for (var a in m) m.hasOwnProperty(a) && (a in r || (r[a] = m[a]));
e.extend(this);
this.id = o || t.generateID();
this.host = i;
this.ns = n;
this.path = "/" + [ "s", this.ns, this.provider.protocol, this.id ].join("/");
this.url = this.host + this.path + "/";
this.status = "connecting";
this.connected = !1;
this.quality = 0;
this.rtt = r.INITIAL_RTT;
this.clock_skew = 0;
this.connect_attempts = 0;
this.connections = 0;
this.disconnects = 0;
this.sent_bytes = 0;
this.recv_bytes = 0;
this.sent_messages = 0;
this.recv_messages = 0;
this.sent_frames = 0;
this.recv_frames = 0;
this.lost_frames = 0;
this.ooo_frames = 0;
this.remote_seq = 0;
this.local_seq = 0;
this.timeout_server = 0;
this.timeout_response_soft = 0;
this.timeout_response_hard = 0;
this.bytes_at_connect = -1;
this.time_last_alive = -1;
this.time_last_open = -1;
this.starttime = +new Date();
this.uptime = 0;
this.connected_time = new s();
this.idle_time = new s();
this.last_frame_time = 0;
this.raw_clock_skew = 0;
this.smooth_skewed_transit_time_in = 0;
this.remote_smooth_skewed_transit_time_out = 0;
this.cur_conn_recv_messages = 0;
this.drained = !0;
this.buffer = [];
this.glitch_timer = this.reconnect_timer = null;
this.reconnect_delay = r.RECONNECT_DELAY_MS * (.2 * Math.random() + .8);
this.keep_alive_interval = 15e3;
this.data_packet_queue = new _(this);
this.connect();
var l = this;
this.onoffline = function() {
t.prototype.onoffline.call(l);
};
this.ononline = function() {
t.prototype.ononline.call(l);
};
e.window.on("offline", this.onoffline);
e.window.on("online", this.ononline);
}
function o() {
var t = y, e = new Date(), i = e.getUTCFullYear() - 2e3, n = e.getUTCMonth() + 1, o = e.getUTCDate(), r = e.getUTCHours(), a = e.getUTCMinutes(), s = e.getUTCSeconds(), _ = e.getUTCMilliseconds();
return t[i] + t[n] + t[o] + t[r] + t[a] + t[s] + t[_ >> 6] + t[63 & _];
}
function r(t) {
for (var e = "", i = y; t-- > 0; ) e += i.charAt(Math.floor(Math.random() * i.length));
return e;
}
function a(t, e, i) {
return Math.min(i, Math.max(e, t));
}
function s() {
this.count = 0;
this.sum = 0;
this.sq_sum = 0;
this.mean = 0;
this.stddev = 0;
}
function _(t) {
this.socket = t;
this.queue = [];
this.curFrame = null;
this.curIdx = 0;
this.last_work_finished_time = 0;
this.work_timer = null;
this.processing = !1;
}
var l = i(46), d = i(62), u = i(63), c = i(64), h = i(65), f = c || d || u || h, p = h, g = 45e3, m = {
INITIAL_RTT: 1e3,
RECONNECT_DELAY_MS: 3e4,
FAST_RECONNECT_MS: 100,
FLUSH_DELAY_MS: 75,
MAX_BLOCKING_TIME_MS: 40,
MAX_NO_WORK_TIME_MS: 15
};
t.available = function() {
return !!f;
};
t.generateID = function() {
return r(16);
};
t.prototype.connect = function(t) {
this.debug("connect(" + (t && "glitch" || "") + ")");
if (!this.reconnect_timer) {
var e = this, i = this.options;
this.connections && this.cur_conn_recv_messages || (this.provider = 1 & this.connect_attempts ? p : f);
this.response_timer = clearTimeout(this.response_timer);
this.timeout_timer = clearTimeout(this.timeout_timer);
if (this.socket) {
this.socket.onclose = this.socket.ondrain = this.socket.onerror = this.socket.onmessage = this.socket.onopen = null;
this.socket.abort("connect");
this.socket = null;
}
this.connected = !1;
this.cur_conn_recv_messages = 0;
if (t) {
this.reconnect_delay = i.RECONNECT_DELAY_MS * (.2 * Math.random() + .9);
this.glitch_timer = setTimeout(function() {
e.quality = 0;
e.glitch_timer = setTimeout(function() {
e.status = "reconnecting";
e.fire_break();
}, a(3 * e.rtt, 1e3, 5e3));
}, a(3 * this.rtt, 1e3, 5e3));
}
this.debug("reconnect_delay: " + this.reconnect_delay);
clearTimeout(this.reconnect_timer);
this.reconnect_timer = setTimeout(function() {
e.reconnect_timer = null;
e.reconnect_delay = Math.min(1.4 * e.reconnect_delay + 1e3, 6e4);
e.reconnect_delay *= .2 * Math.random() + .9;
e.connect();
}, this.reconnect_delay);
this.path = "/" + [ "s", this.ns, this.provider.protocol, this.id ].join("/");
this.url = this.host + this.path + "/";
this.debug("connecting: " + this.url);
this.socket = new this.provider(this.url);
this.transport = this.provider.protocol;
this.connect_attempts++;
this.socket.onopen = function() {
e.status = "connected";
e.glitch_timer = clearTimeout(e.glitch_timer);
e.reconnect_timer = clearTimeout(e.reconnect_timer);
e.connections++;
e.drained = !0;
e.connected = !0;
e.time_last_open = e.time_last_alive = +new Date();
e.uptime >= 0 && (e.uptime -= e.time_last_open);
1 == e.connections ? e.fire("open") : e.fire_resume();
e.flush();
e.keep_alive();
e.debug("connected");
e.bytes_at_connect == -1 && setTimeout(function() {
e.bytes_at_connect = e.recv_bytes;
}, 50);
};
this.socket.onmessage = function(t, i) {
e.onmessage(t, i);
};
this.socket.onclose = function(t) {
e._onclose(t);
};
this.socket.ondrain = function(t) {
e._ondrain(t);
};
this.socket.onerror = function(t) {
e._onerror(t);
};
}
};
t.prototype.reconnect = function() {
this.reconnect_timer = clearTimeout(this.reconnect_timer);
this.broken_reason = "FORCED_RECONNECT";
this.connect();
};
t.prototype.send = function(t, e) {
if ("disconnected" != this.status) {
"null" == this.buffer[0] && (this.buffer = []);
this.buffer.push(l.stringify(t));
this.schedule_flush();
e && this.response_timeout();
}
};
t.prototype.close = function(t) {
this.debug("close()");
this.flush_scheduled = clearTimeout(this.flush_scheduled);
this.keep_alive_timer = clearTimeout(this.keep_alive_timer);
this.reconnect_timer = clearTimeout(this.reconnect_timer);
this.response_timer = clearTimeout(this.response_timer);
this.timeout_timer = clearTimeout(this.timeout_timer);
this.broken_reason || (this.broken_reason = "CLOSE");
this.fire_break();
this.status = t ? "reconnecting" : "disconnected";
this.connected = !1;
this.quality = 0;
if (this.socket) {
this.socket.onclose = this.socket.ondrain = this.socket.onerror = this.socket.onmessage = this.socket.onopen = null;
this.socket.abort("close");
this.socket = null;
if (!t) {
e.window.un("offline", this.onoffline);
e.window.un("online", this.ononline);
}
}
};
t.prototype.hibernate = function() {};
t.prototype.onoffline = function() {
this.broken_reason = "OFFLINE";
this.debug("onoffline");
this.close(!0);
};
t.prototype.ononline = function() {
this.debug("ononline");
if ("disconnected" != this.status && !this.connected) {
this.reconnect_timer = clearTimeout(this.reconnect_timer);
this.connect();
}
};
t.prototype.schedule_flush = function() {
if ("disconnected" != this.status && !this.flush_scheduled && this.drained && this.connected) {
var t = this, e = this.options;
this.flush_scheduled = setTimeout(function() {
t.flush();
}, e.FLUSH_DELAY_MS);
}
};
t.prototype.flush = function() {
if ("disconnected" != this.status && this.buffer.length && this.drained && this.connected) {
var t = this.buffer;
this.sent_messages += t.length;
this.sent_frames++;
t = this.generate_frame(t.join("\n"));
this.drained = this.socket.send(t);
this.sent_bytes += t.length;
this.flush_scheduled = clearTimeout(this.flush_scheduled);
this.buffer = [];
this.keep_alive();
this.time_last_alive = +new Date();
}
};
t.prototype.keep_alive = function() {
if ("disconnected" != this.status) {
clearTimeout(this.keep_alive_timer);
var t = this;
this.keep_alive_timer = setTimeout(function() {
t.debug("pong!");
t.send(null);
}, this.keep_alive_interval);
}
};
t.prototype.response_timeout = function() {
if (!this.response_timer) {
var t = this, e = a(4 * this.rtt + this.options.FLUSH_DELAY_MS, 2e3, 2e4);
this.response_timer = setTimeout(function() {
t.timeout_response_soft++;
t.debug("response timeout, " + e + "ms");
t.fire_break("SOFT_RESPONSE_TIMEOUT");
t.response_timer = setTimeout(function() {
t.timeout_response_hard++;
t.debug("response timeout - reconnecting");
t.broken_reason = "HARD_RESPONSE_TIMEOUT";
t.connect(!0);
}, 2 * e);
}, e);
}
};
t.prototype.reset_server_timeout = function() {
clearTimeout(this.timeout_timer);
var t = this, e = 4 * this.keep_alive_interval + a(4 * t.rtt, 2e3, 2e4);
this.timeout_timer = setTimeout(function() {
t.timeout_server++;
t.debug("server " + e + "ms timeout, reconnecting");
t.broken_reason = "SERVER_TIMEOUT";
t.connect(!0);
}, e);
};
t.prototype.fire_break = function(t) {
this.broken || this.fire("break", t || this.broken_reason);
this.broken = !0;
this.broken_reason = "";
this.uptime < 0 && (this.uptime += +new Date());
};
t.prototype.fire_resume = function() {
this.broken_reason = "";
this.broken && this.fire("resume");
this.broken = !1;
this.uptime >= 0 && (this.uptime -= +new Date());
};
t.prototype.onmessage = function(t, e) {
this.recv_bytes += t.length;
t = t.split("\n");
if (t.length < 6) this.debug("Bad data: " + t.join("\n")); else {
var i = +new Date(), n = +t[0], o = +t[1], r = +t[2], a = (+t[3], t[4]);
this.calculate_clocks(e || +new Date(), n, o);
this.reset_server_timeout();
switch (a) {
case "a":
this.broken_reason = "ABORT";
this.close();
break;

case "d":
this.response_timer = clearTimeout(this.response_timer);
this.fire_resume();
this.check_sequence(r);
this.data_packet_queue.queueFrame(t, 5, i);
break;

case "e":
this.debug("server: Are you still there?");
this.send(null);
this.flush();
break;

case "n":
this.remote_seq = r;
this.keep_alive_interval = +t[5] || 15e3;
this.debug("keep_alive is " + this.keep_alive_interval + "ms");
this.connections > 1 && this.fire("reopen");
break;

case "p":
this.debug("ping!");
}
}
};
t.prototype._onclose = function(t) {
var e = this, i = this.options;
0 == this.connections && 0 == this.disconnects && this.fire("close");
this.debug("_onclose");
this.disconnects++;
this.broken_reason = "HANGUP";
if (this.connected) this.reconnect_timer = setTimeout(function() {
e.reconnect_timer = null;
e.connect(!0);
}, i.FAST_RECONNECT_MS); else if (!this.connections && 1 == this.connect_attempts) {
clearTimeout(this.reconnect_timer);
this.reconnect_timer = setTimeout(function() {
e.reconnect_timer = null;
e.connect();
}, 0);
}
this.connected = !1;
clearTimeout(this.keep_alive_timer);
this.time_last_alive > 0 && this.idle_time.add(+new Date() - this.time_last_alive);
this.time_last_open > 0 && this.connected_time.add(+new Date() - this.time_last_open);
this.time_last_alive = this.time_last_open = -1;
this.uptime < 0 && (this.uptime += +new Date());
};
t.prototype._ondrain = function() {
this.drained = !0;
this.flush();
};
t.prototype._onerror = function(t) {
this.debug("_error");
this.fire("error", t);
};
t.prototype.generate_frame = function(t, e) {
return [ +new Date(), this.smooth_skewed_transit_time_in, ++this.local_seq, this.remote_seq, e || "d", t ].join("\n");
};
var $ = .1, b = 50, w = 1e3, x = Math.pow(b, $), v = Math.pow(w, $) - x;
t.prototype.calculate_clocks = function(t, e, i) {
var n = t - e, o = Math.max(0, t - this.last_frame_time), r = 1 / (o / g + 1);
this.smooth_skewed_transit_time_in ? this.smooth_skewed_transit_time_in = r * this.smooth_skewed_transit_time_in + (1 - r) * n : this.smooth_skewed_transit_time_in = n;
this.remote_smooth_skewed_transit_time_out = i;
if (this.smooth_skewed_transit_time_in && this.remote_smooth_skewed_transit_time_out) {
this.rtt = this.smooth_skewed_transit_time_in + this.remote_smooth_skewed_transit_time_out;
this.quality = ~~(100 * (1 - (Math.pow(this.rtt, $) - x) / v));
this.quality = Math.min(100, Math.max(0, this.quality));
this.raw_clock_skew = n - this.rtt / 2;
this.clock_skew ? this.clock_skew = .9 * this.clock_skew + .1 * this.raw_clock_skew : this.clock_skew = this.raw_clock_skew;
}
this.time_last_alive = this.last_frame_time = t;
};
t.prototype.check_sequence = function(t) {
if (this.remote_seq + 1 == t) this.remote_seq = t; else if (this.remote_seq < t) {
var e = t - this.remote_seq + 1;
this.lost_frames += e;
this.fire("lost", e);
this.remote_seq = t;
} else {
this.ooo_frames++;
this.fire("out_of_order");
}
};
f && (t.prototype.transport = f.protocol);
t.prototype.debug = function() {};
var y = "+-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";
t.genDate = o;
t.genID = r;
s.prototype.add = function(t) {
this.count++;
this.sum += t;
this.sq_sum += t * t;
this.mean = this.sum / this.count;
this.stddev = Math.sqrt(this.sq_sum / this.count - this.mean * this.mean);
};
var j = _.prototype;
j.queueFrame = function(t, e, i) {
this.queue.push({
msgs: t,
start_idx: e,
receive_time: i
});
this.process();
};
j.process = function() {
var t = +new Date() - this.last_work_finished_time;
if (!(this.processing && t < this.socket.options.MAX_NO_WORK_TIME_MS)) {
this.work_timer = window.clearTimeout(this.work_timer);
this.processing = !0;
this.work();
}
};
j.work = function() {
for (var t, e, i, n = +new Date() + this.socket.options.MAX_BLOCKING_TIME_MS, o = !1, r = this.socket.recv_frames, a = this, s = 0; s < this.queue.length; s++) {
t = this.queue[s];
if (!("start_time" in t)) {
t.start_time = +new Date();
t.ticks = 0;
t.idx = t.start_idx;
}
t.ticks++;
e = t.msgs;
i = e.length;
for (;t.idx < i; ) {
var _, d = +new Date();
if (d > n) {
o = !0;
break;
}
this.socket.dispatch_delay = d - t.receive_time;
try {
_ = l.parse(e[t.idx]);
t.idx++;
} catch (u) {
this.socket.debug("Invalid json message: " + e[t.idx]);
continue;
}
this.socket.fire("message", _);
this.socket.recv_messages++;
this.socket.cur_conn_recv_messages++;
}
t.idx >= i && this.socket.recv_frames++;
if (o) break;
}
this.queue.splice(0, this.socket.recv_frames - r);
this.queue.length ? this.work_timer = window.setTimeout(function() {
a.work();
}, 0) : this.processing = !1;
this.last_work_finished_time = +new Date();
};
n(t, "jx_io_Socket");
return t;
}();
}).call(e, i(6), i(4));
}, function(t, e, i) {
(function(e, i) {
t.exports = function() {
function t(t) {
function i(t) {
a("extracting data");
!o && _.onopen && _.onopen();
o = t;
l += s.responseText.substr(d);
d = s.responseText.length;
l = l.split("\n\n");
for (var e = 0; e < l.length - 1; e++) _.onmessage && _.onmessage(l[e], o);
l = l[l.length - 1];
(d > 1048576 && !l.length || d > 4194304) && _.abort();
}
var o, s = this.xhr = new n(), _ = this, l = "", d = 0;
this.url = r + t;
s.open("GET", this.url + [ "c", +new Date() ].join("/"), !0);
s.onerror = function(t) {
_.abort(t);
};
if (e.isIE) {
s.onprogress = function() {
i(+new Date());
};
s.onload = function() {
_.abort("close");
};
} else s.onreadystatechange = function() {
switch (s.readyState) {
case 3:
i(+new Date());
break;

case 4:
_.abort("close");
}
};
a("CXHR connecting to: " + this.url);
s.send();
}
var n = e.isIE ? window.XDomainRequest : !e.isOpera && !e.isAndroid && window.XMLHttpRequest, o = n ? t : null, r = e.isIE ? "//" : "https://";
t.protocol = "cxhr";
t.prototype.send = function(t) {
function i() {
_.abort("send failed");
}
function o() {
_.xhr_sender = null;
clearTimeout(r);
_.ondrain && _.ondrain();
}
var r, a = this.url + [ "d", +new Date() ].join("/"), s = new n(), _ = this;
s.open("POST", a, !0);
s.send(t);
if (e.isIE) {
s.onerror = i;
s.onload = o;
} else s.onreadystatechange = function() {
if (4 == s.readyState) {
200 != s.status && i();
o();
}
};
r = setTimeout(i, 5e3);
this.xhr_sender = s;
return !1;
};
t.prototype.abort = function(t) {
if (!this._abort) {
this._abort = !0;
a(t);
this.xhr && this.xhr.abort();
this.xhr_sender && this.xhr_sender.abort();
this.onclose && this.onclose(t);
this.onerror = this.onload = this.onprogress = this.onreadystatechange = this.xhr = this.xhr_sender = null;
}
};
var a = function() {};
i(o, "jx_io_socket_ChunkedXHR");
return o;
}();
}).call(e, i(7), i(4));
}, function(t, e, i) {
(function(e, i) {
t.exports = function() {
function t(t) {
function e(t) {
!_ && a.onopen && a.onopen();
_ = +new Date();
t.origin == o && ("event-stream" == t.data ? s.onload = null : a.onmessage && a.onmessage(t.data, _));
}
var i, o, a = this, s = this.iframe = n("iframe");
this.url = "https://" + t;
s.src = this.src = i = this.url + [ "c", +new Date() ].join("/");
o = i.match(/https?:\/\/[^\/]+/)[0];
s.onload = function(t) {
a.abort(t);
};
document.body.insertBefore(s, document.body.firstChild);
r("SPM connecting to: " + this.url);
window.addEventListener("message", e, !1);
this.remove_listeners = function() {
window.removeEventListener("message", e, !1);
};
var _;
}
function n(t) {
var e = document.createElement(t), i = e.style;
i.position = "absolute";
i.width = i.height = 0;
i.overflow = "hidden";
return e;
}
var o = window.postMessage ? !e.isAndroid && t : null;
t.protocol = "spm";
t.prototype.send = function(t) {
this.iframe.contentWindow.postMessage(t, this.src);
return !0;
};
t.prototype.abort = function(t) {
if (!this._abort) {
this._abort = !0;
r(t);
this.iframe && document.body.removeChild(this.iframe);
this.onclose && this.onclose(t);
this.remove_listeners();
this.iframe = this.remove_listeners = null;
}
};
var r = function() {};
i(o, "jx_io_socket_StreamingPostMessage");
return o;
}();
}).call(e, i(7), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(t) {
var e = new i("wss://" + t + [ "c", +new Date() ].join("/")), n = this;
e.onclose = function(t) {
n.onclose && n.onclose(t);
};
e.onerror = function(t) {
n.onerror && n.onerror(t);
};
e.onmessage = function(t) {
n.onmessage && n.onmessage(t.data, +new Date());
};
e.onopen = function(t) {
n.onopen && n.onopen(t);
};
this.ws = e;
}
var i = window.WebSocket || window.MozWebSocket, n = i ? t : null;
t.prototype.abort = function() {
if (!this._aborted) {
this._aborted = !0;
var t = this.ws;
t.readyState == i.CONNECTING ? t.onopen = function() {
t.close();
} : t.close();
}
};
t.prototype.send = function(t) {
this.ws.send(t);
return !0;
};
t.protocol = "ws";
e(n, "jx_io_socket_WebSocket");
return n;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(t) {
var i = this, n = this.longpoll = new r((!0)), o = this.sender = new r((!0));
n.on("success", function(t) {
i.process_data(t);
});
n.on("error", function() {
i.abort("longpoll error");
});
o.on("success", function() {
i.ondrain && i.ondrain();
});
o.on("error", function() {
i.abort("sender error");
});
this.url = "https://" + t;
e.window.on("unload", this.unload = function() {
i.abort("unload");
});
this.longpoll.load(this.url + [ "c", +new Date() ].join("/"));
}
var o = t;
t.protocol = "xdds";
var r = i(11);
t.prototype.process_data = function(t) {
if (t && !this._abort) {
!this.ts && this.onopen && this.onopen();
this.ts = +new Date();
this.onmessage && this.onmessage(t, this.ts);
this.longpoll && this.longpoll.load(this.url + [ "p", +new Date() ].join("/"));
}
};
t.prototype.send = function(t) {
if (this._abort) return !1;
var e = this.url + [ "d", +new Date(), window.encodeURIComponent(t) ].join("/");
this.sender && this.sender.load(e);
return !1;
};
t.prototype.abort = function(t) {
if (!this._abort) {
this._abort = !0;
a("XDDS - abort: " + t);
e.window.un("unload", this.unload);
this.longpoll.destroy();
this.sender.destroy();
this.longpoll = this.sender = this.unload = null;
this.onclose && this.onclose(t);
window.CollectGarbage && window.CollectGarbage();
}
};
var a = function() {};
n(o, "jx_io_socket_XDomainDynScript");
return o;
}();
}).call(e, i(6), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var t = {
CLUSTERS: {
US: [ "us08", "us10", "us12", "us14", "us16", "us18", "us20", "us22", "us24", "us26", "us28", "us30", "us32", "us34", "us36", "us38", "us40", "us42", "us44", "us46" ],
DE: [ "de04", "de06", "de08", "de10", "de12", "ie02", "ie04", "ie06", "ie08", "ie10", "ie12", "ie14", "ie16", "de14", "de16", "de18", "de20", "ie18", "ie20", "ie22", "ie24", "de22", "de24", "de26", "de28" ],
SG: [ "sg06", "sg08", "sg10", "sg12", "sg14", "sg16", "sg18", "sg20" ],
JP: [ "jp02", "jp04", "jp06", "jp08" ],
AU: [ "au02", "au04" ],
BR: [ "br02", "br04", "br06", "br08", "br10", "br12" ]
},
FALLBACKS: {
US: [ "DE" ],
DE: [ "US" ],
SG: [ "US" ],
JP: [ "US" ],
AU: [ "SG", "US" ],
BR: [ "US" ]
},
NEAR_MAP: {
AL: "DE",
AD: "DE",
AM: "DE",
AT: "DE",
BY: "DE",
BE: "DE",
BA: "DE",
BG: "DE",
CH: "DE",
CY: "DE",
CZ: "DE",
DE: "DE",
DK: "DE",
EE: "DE",
ES: "DE",
EU: "DE",
FO: "DE",
FI: "DE",
FR: "DE",
GB: "DE",
GE: "DE",
GI: "DE",
GR: "DE",
HU: "DE",
HR: "DE",
IE: "DE",
IM: "DE",
IS: "DE",
IT: "DE",
LT: "DE",
LU: "DE",
LV: "DE",
MC: "DE",
MK: "DE",
MT: "DE",
NO: "DE",
NL: "DE",
PK: "DE",
PO: "DE",
PT: "DE",
RO: "DE",
SA: "DE",
SE: "DE",
SI: "DE",
SK: "DE",
SM: "DE",
TR: "DE",
UA: "DE",
VA: "DE",
ZA: "DE",
NG: "DE",
MA: "DE",
AP: "SG",
BD: "SG",
BN: "SG",
CN: "SG",
ID: "SG",
IN: "SG",
LA: "SG",
KH: "SG",
LK: "SG",
MM: "SG",
MY: "SG",
SG: "SG",
TH: "SG",
VN: "SG",
AU: "AU",
NZ: "AU",
HK: "JP",
KR: "JP",
JP: "JP",
PH: "US",
RU: "JP",
TW: "JP",
AR: "BR",
BO: "BR",
BR: "BR",
CL: "BR",
PE: "BR",
PY: "BR",
UY: "BR",
DEFAULT: "US"
}
};
e(t, "meshim_config_geo_WidgetMediatorsAccessDefinition");
return t;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(t) {
window.__$__GEO = t;
}
function n(t, e) {
this.clusters_config = t;
this.setGeoCode("geo" === a ? s : a);
try {
if (e.length <= 0) throw "SSI cluster definition not found";
if ("<" == e.charAt(0)) throw "SSI not processed";
this.clusters_config = JSON.parse(e);
} catch (i) {}
}
var o = i(68), r = i(57), a = 'US'.toUpperCase(), s = 'geo'.toUpperCase(), _ = ".zopim.com", l = [ ".zopim.net", ".zopim.org", ".zdch.at" ];
"<" == a.charAt(0) && (a = "geo");
"<" == s.charAt(0) && (s = "geo");
n.SUPPORTED_DOMAINS = l;
var d = n.prototype;
d.getGeoCode = function() {
return this.countryCode;
};
d.setGeoCode = function(e) {
if (e && "--" !== e) {
this.countryCode = e;
t(e);
}
};
d.updateClustersConfig = function(t) {
try {
r.extend(this.clusters_config, JSON.parse(t));
} catch (e) {
window.console && window.console.log("Unable to process update");
}
};
d.getGeoAccess = function(t, e, i, n, r, a) {
return new o(this.clusters_config, r || _, this.countryCode, t, e, i, n, a || l);
};
e(n, "meshim_common_GeoAccessFactory");
return n;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t(t, e, i, n, o, s, _, l) {
this.CLUSTERS = t.CLUSTERS;
this.WEIGHTS = t.WEIGHTS;
this.NEAR_MAP = t.NEAR_MAP;
this.FALLBACKS = t.FALLBACKS;
this.geo_code = i || "geo";
this.default_domain = e;
this.supported_domains = (l || []).concat(this.default_domain);
var d = r.map(this.supported_domains, a.escape);
this.supported_proxy_re = new RegExp("^[a-z][a-z0-9_-]*(.[a-z][a-z0-9_-]*)*(" + d.join("|") + ")(:\\d+)?$", "i");
this.cluster_hosts = [];
this.host_list = [];
this.host_index = 0;
this.last_connected_host = o && this.getValidatedHost(o);
this.override_proxy = n && this.getValidatedHost(n);
this.num_primary_hosts = s || 0;
this.num_fallback_hosts = _ || 0;
this.init();
}
var r = i(69), a = i(70), s = /^([a-z][a-z0-9_-]*)(:\d+)?$/i, _ = t.prototype;
_.init = function() {
var t = this.geo_code && this.geo_code in this.NEAR_MAP ? this.NEAR_MAP[this.geo_code] : this.NEAR_MAP.DEFAULT;
if (!t) throw "Error: no cluster code found for " + this.geo_code;
if (t in this.CLUSTERS) this._growClusterHosts(t, this.num_primary_hosts); else if (!this.override_proxy && !this.last_connected_host) throw "Error: " + t + " has no cluster definition";
if (t in this.FALLBACKS) for (var e = this.FALLBACKS[t], i = 0, n = e.length; i < n; i++) {
var o = e[i];
o in this.CLUSTERS && this._growClusterHosts(o, this.num_fallback_hosts);
}
this._makeHostList();
};
_._verifyHostInGeoConfig = function(t) {
var e = this;
return Object.keys(e.CLUSTERS).some(function(i) {
return e.CLUSTERS[i].some(function(i) {
return t === e.getValidatedHost(i);
});
});
};
_._growClusterHosts = function(t, e) {
var i = this.CLUSTERS[t], n = this.getWeights(t);
r.shuffle(i, n);
e && (i = i.slice(0, e));
this.cluster_hosts = this.cluster_hosts.concat(i);
};
_.getWeights = function(t) {
if (!(t in this.CLUSTERS)) return [];
var i, n = this.CLUSTERS[t], o = n.length, r = new Array(o);
if (this.WEIGHTS && this.WEIGHTS[t]) {
var a = this.WEIGHTS[t];
for (i = o; i--; ) {
var s = n[i];
r[i] = e(a[s]) ? a[s] : 1;
}
} else for (i = o; i--; ) r[i] = 1;
return r;
};
_.getValidatedHost = function(t, e) {
if (t) {
if (!e && s.test(t)) return this._expandSimpleHost(t);
if (this.supported_proxy_re.test(t)) return t;
}
return !1;
};
_._expandSimpleHost = function(t) {
return t.replace(s, "$1" + this.default_domain + "$2");
};
_._makeHostList = function() {
var t = this, e = r.map(this.cluster_hosts, function(e) {
return t._expandSimpleHost(e);
}), i = [];
this.override_proxy && i.push(this.override_proxy);
this.last_connected_host && this.last_connected_host !== this.override_proxy && this._verifyHostInGeoConfig(this.last_connected_host) && i.push(this.last_connected_host);
e = e.filter(function(t) {
return n(t, i) === -1;
});
this.host_list = i.concat(e);
this.host_index = 0;
};
_.getHostList = function() {
return this.host_list;
};
_.getNextHost = function() {
return this.host_index >= this.host_list.length ? "" : this.host_list[this.host_index++];
};
_.hasNext = function() {
return this.host_index < this.host_list.length;
};
_.rewind = function() {
this.host_index = 0;
};
_.pushHostToLast = function(t) {
var e, i = this.getValidatedHost(t), o = n(i, this.host_list);
if (o !== -1) {
e = this.host_list.splice(o, 1);
this.host_list = this.host_list.concat(e);
}
};
o(t, "meshim_common_GeoAccess");
return t;
}();
}).call(e, i(23), i(24), i(4));
}, function(t, e, i) {
(function(e, i, n) {
t.exports = function() {
function t(t, e) {
return e ? a(t, e) : o(t);
}
function o(t) {
for (var e, i, n = t.length; n > 1; ) {
e = Math.floor(n-- * Math.random());
i = t[e];
t[e] = t[n];
t[n] = i;
}
return t;
}
function r(t, e) {
if (!t || t.length <= 0) return -1;
if (!e) return Math.floor(Math.random() * t.length);
e = s(t, e);
var i, n = 0;
for (i = e.length; i--; ) n += e[i];
var o = Math.random() * n, r = 0, a = e.length;
for (i = 0; i < a - 1; i++) {
r += e[i];
if (o <= r) return i;
}
return i;
}
function a(t, e) {
var i, n, o, r, a, _ = t.concat();
e = s(t, e);
t.length = 0;
a = 0;
for (i = e.length; i--; ) a += e[i];
o = Math.random() * a;
r = 0;
i = 0;
for (;_.length; ) {
r += e[i];
if (o <= r) {
a -= e[i];
n = _.splice(i, 1)[0];
e.splice(i, 1);
t.push(n);
o = Math.random() * a;
r = 0;
i = 0;
} else i++;
}
return t;
}
function s(t, n) {
if (e(n)) {
if (n.length === t.length) return n.concat();
throw new window.Error("Invalid weights array: length does not match");
}
if (i(n)) return _(t, n);
throw new window.Error("Invalid weights supplied");
}
function _(t, n, o) {
var r, a, s;
if (!e(t)) throw new TypeError(" arr is not an array");
var _ = Object(t), l = _.length >>> 0;
if (!i(n)) throw new TypeError(n + " is not a function");
arguments.length > 2 && (r = o);
a = new Array(l);
s = 0;
for (;s < l; ) {
var d, u;
if (s in _) {
d = _[s];
u = n.call(r, d, s, _);
a[s] = u;
}
s++;
}
return a;
}
var l = {
shuffle: t,
random_index: r,
map: _
};
n(l, "meshim_common_ArrayUtils");
return l;
}();
}).call(e, i(21), i(9), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var t = "[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+([a-z0-9][a-z0-9-]*[a-z0-9])", i = "(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)", n = {
email: new RegExp("^" + t + "$", "i"),
ip_token: new RegExp("^" + i + "$"),
ip: new RegExp("^(?:" + i + "\\.){3}" + i + "$"),
tld: /^(AERO|ARPA|ASIA|A[CDEFGILMNOQRSTUWXZ]|BIZ|B[ABDEFGHIJMNORSTVWYZ]|CAT|COM|COOP|C[ACDFGHIKLMNORUVXYZ]|D[EJKMOZ]|EDU|E[CEGRSTU]|F[IJKMOR]|GOV|G[ABDEFGHILMNPQRSTUWY]|H[KMNRTU]|INFO|INT|I[DELMNOQRST]|JOBS|J[EMOP]|K[EGHIMNPRWYZ]|L[ABCIKRSTUVY]||MIL|MOBI|MUSEUM|M[ACDEGHKLMNOPQRSTUVWXYZ]|NAME|NET|N[ACEFGILOPRUZ]|ORG|OM|PRO|P[AEFGHKLMNRSTWY]|QA|R[EOSUW]|S[ABCDEGHIJKLMNORTUVYZ]|TEL|TRAVEL|T[CDFGHJKLMNOPRTVWZ]|U[AGKSYZ]|V[ACEGINU]|W[FS]|XN|Y[ET]|Z[AMW])$/i,
search: {
email: new RegExp("(^|\\s+)" + t, "ig"),
hurl: /(^|\s+)(?:(?:https?|ftps?):\/\/)(?:\S+)/gi,
url: /(^|\s+)(?:[\w-]+\.)+(\w{2,})(?::[0-9]+)?(?:\/\S*)?/g,
phone_number: /(?:^|\s+)(?:(?:\+?\d{1,3}|\(\d{1,3}\))([-.\s])?)?\d{3,10}(?:([-.\s])\d{3,10})?/gi
},
file_upload: /uploaded.+\n.+https?:\/\/v2uploads\.zopim\.(com|io)\//i,
escape: function(t) {
return t.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
}
};
e(n, "meshim_common_Regex");
return n;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var t = {};
t.SECOND = 1e3;
t.MINUTE = 60 * t.SECOND;
t.HOUR = 60 * t.MINUTE;
t.DAY = 24 * t.HOUR;
t.WEEK = 7 * t.DAY;
e(t, "meshim_common_Time");
return t;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var t = i(73), n = i(76), o = i(77), r = i(78), a = {
base: t,
simple: n,
classic: o,
zendesk: r
};
e(a, "meshim_widget_Themes");
return a;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var t = i(42), n = i(74), o = {};
o._super = null;
o.defaults = {
colors: {
primary$string: "#000000",
banner$string: "#000000",
bubble$string: "#000000"
}
};
o.overrides = {
avatars: {
concierge$string: t.IMAGES_URL + "/avatar_simple_agent.png",
agent$string: t.IMAGES_URL + "/avatar_simple_agent.png",
visitor$string: t.IMAGES_URL + "/avatar_simple_visitor.png"
},
chat_button: {
display_status$bool: !1,
use_bubble$bool: !1
},
chat_window: {
profile_card: {
display_avatar$bool: !0
},
use_banner$bool: !0
}
};
o.generate = function(t) {
var e = "Verdana, Geneva, sans-serif", i = t.custom_fonts && t.custom_fonts.font_family$string || "", o = {
fontFamily: e,
customFontFamily: i ? i + ", " + e : e,
fontSizeXS: "10px",
fontSizeS: "11px",
fontSize: "12px",
fontSizeL: "14px",
fontSizeXL: "16px",
fontSizeXXL: "18px",
marginXS: "3px",
marginS: "5px",
margin: "10px",
marginL: "15px",
marginXL: "20px",
paddingS: "3px",
padding: "6px",
paddingL: "8px",
paddingXL: "10px",
borderWidth: "1px",
borderStyle: "solid",
borderColor: n.black,
radiusS: "3px",
radius: "5px",
headColor: n.white,
headBg: n.black,
headLowContrastColor: n.grey,
contentColor: n.black,
contentHeaderColor: n.black,
contentBg: n.white,
contentBlockBg: n.grey,
contentBlockRadius: "$$radius",
placeholderColor: n.grey,
inputMenuBg: n.white,
errorColor: "#CC0000",
dividerColor: n.grey,
inputColor: n.black,
inputBg: "$$inputMenuBg",
inputBorderWidth: "$$borderWidth",
inputBorderStyle: "$$borderStyle",
inputBorderColor: "$$borderColor",
inputPadding: "$$padding",
inputRadius: "$$radius",
inputShadow: "",
inputFocusColor: "",
inputFocusBg: "",
inputFocusBorderColor: "",
inputFocusShadow: "",
inputPlaceholderColor: "$$placeholderColor",
inputPlaceholderFontStyle: "italic",
inputInvalidColor: "",
inputInvalidBg: "",
inputInvalidBorderColor: "$$errorColor",
inputInvalidShadow: "",
buttonColor: n.white,
buttonBg: n.black,
buttonBorderWidth: "$$borderWidth",
buttonBorderStyle: "$$borderStyle",
buttonBorderColor: "",
buttonPadding: "$$padding",
buttonPaddingHorizontal: "$$paddingS",
buttonRadius: "$$radiusS",
buttonShadow: "",
buttonFontWeight: "bold",
buttonHoverColor: "",
buttonHoverBg: "",
buttonHoverBorderColor: "",
buttonHoverShadow: "",
buttonActiveColor: "",
buttonActiveBg: "",
buttonActiveBorderColor: "",
buttonActiveShadow: "",
buttonSecColor: n.white,
buttonSecBg: n.grey,
buttonSecBorderColor: "",
buttonSecShadow: "",
buttonSecHoverColor: "",
buttonSecHoverBg: "",
buttonSecHoverBorderColor: "",
buttonSecHoverShadow: "",
buttonSecActiveColor: "",
buttonSecActiveBg: "",
buttonSecActiveBorderColor: "",
buttonSecActiveShadow: "",
buttonShortPadding: "$$paddingS",
formSubmittedBg: "$$contentBlockBg",
formSubmittedRadius: "$$radius",
formSubmittedBorderWidth: 0,
formSubmittedBorderStyle: "",
formSubmittedBorderColor: "",
errorMessageColor: "$$errorColor",
errorMessageFontWeight: "bold",
errorMessageFontStyle: "italic",
scrollableFrameInnerPaddingSmall: "$$margin",
scrollableFrameInnerPaddingMedium: "$$marginXL",
scrollableFrameInnerPaddingLarge: "$$marginXL",
scrollableFrameTopHeight: "",
scrollableFrameTopBackground: "",
scrollableFrameTopBackgroundColor: "",
scrollableFrameBottomHeight: "",
scrollableFrameBottomBackground: "",
scrollableFrameBottomBackgroundColor: "",
toastColor: n.white,
toastBg: n.black,
toastPadding: "$$paddingXL",
toastBorderWidth: "$$borderWidth",
toastBorderStyle: "$$borderStyle",
toastBorderColor: "$$borderColor",
toastRadius: "$$radius",
toastShadow: "",
avatarBorderWidth: 0,
avatarBorderStyle: "$$borderStyle",
avatarBorderColor: "$$borderColor",
avatarRadius: "$$radiusS",
avatarShadow: "",
profileCardAvatarBorderWidth: "",
profileCardAvatarBorderStyle: "",
profileCardAvatarBorderColor: "",
profileCardAvatarRadius: "",
profileCardAvatarShadow: "",
profileCardNameColor: n.black,
profileCardTitleColor: n.grey,
bottomHeight: "40px",
bottomHeightBottomPadding: "50px",
bottomBorderWidth: "",
bottomBorderStyle: "$$borderStyle",
bottomBorderColor: "$$borderColor",
bottomNoteBorderWidth: 0,
bottomNoteBorderStyle: "$$borderStyle",
bottomNoteBorderColor: "$$borderColor",
brandingLinkColor: "$$actionBarColor",
chatMotifHill: "",
chatMotifBubble: "",
facebook: "#3B5998",
facebookActive: "#637BAD",
twitter: "#00ACEE",
twitterActive: "#7EB2D4",
google: "#DD4B39",
googleActive: "#E0736F",
externalIconColor: "$$placeholderColor",
authButtonBg: "",
authButtonBorderColor: "",
authButtonShadow: "",
chatRatingsEmoticonColor: "#999",
chatRatingsEmoticonActive: "#DDD",
chatRatingsEmoticonHover: "#EEE",
chatRatingsThumbLight: "#999",
chatRatingsThumbDark: "#666",
chatRatingsThumbActive: "#EEE",
chatRatingsThumbBGHover: "#DDD",
chatButtonMinWidth: "180px",
chatButtonMaxWidth: "300px",
chatButtonHeight: "30px",
chatButtonColor: "$$headColor",
chatButtonBg: "$$headBg",
chatButtonBorderWidth: "$$borderWidth",
chatButtonBorderStyle: "$$borderStyle",
chatButtonBorderColor: "$$dividerColor",
chatButtonRadius: "$$radius",
chatButtonShadow: "",
chatButtonPadding: "$$paddingXL",
chatButtonPaddingFavicon: "$$chatButtonPadding",
chatButtonFontWeight: "bold",
chatButtonStatusFontWeight: "bold",
faviconWidth: "36px",
faviconColor: "$$chatButtonColor",
faviconOnlineColor: "",
faviconOfflineColor: "",
faviconBg: "$$chatButtonBg",
faviconDotsColor: "",
chatBubbleTitle: "",
chatBubbleText: "",
chatBubbleClose: "",
windowMiniWidth: "240px",
windowMiniHeight: "200px",
windowSmallWidth: "240px",
windowSmallHeight: "335px",
windowMediumWidth: "290px",
windowMediumHeight: "400px",
windowLargeWidth: "350px",
windowLargeHeight: "450px",
windowColor: "$$contentColor",
windowBg: "$$contentBg",
windowPadding: "",
windowRadius: "$$radius",
windowShadow: "",
windowContentBg: "$$contentBg",
windowContentBorderWidth: "$$borderWidth",
windowContentBorderStyle: "$$borderStyle",
windowContentBorderColor: "$$dividerColor",
menuColor: "$$contentColor",
menuBg: "$$inputMenuBg",
menuBorderWidth: "$$borderWidth",
menuBorderStyle: "$$borderStyle",
menuBorderColor: "$$dividerColor",
menuRadius: "$$radius",
menuShadow: "$$windowShadow",
menuHeaderColor: "$$placeholderColor",
menuItemPadding: "3px 20px",
menuItemHoverBg: n.grey,
titleBarHeight: "24px",
titleBarPaddingBefore: "60px",
titleBarPaddingAfter: "60px",
titleBarFontSize: "$$fontSizeS",
titleBarColor: "$$headLowContrastColor",
titleBarBg: "$$headBg",
titleBarBorderWidth: "",
titleBarBorderStyle: "$$borderStyle",
titleBarBorderColor: "$$borderColor",
titleBarFontWeight: "bold",
titleBarTextAlign: "center",
actionBarWidth: "100%",
actionBarHeight: "24px",
actionBarColor: n.grey,
actionBarColorDiabled: "#AAA",
actionBarBg: "$$windowContentBg",
actionBarBorderWidth: "",
actionBarBorderStyle: "$$borderStyle",
actionBarBorderColor: "$$borderColor",
actionBarPadding: "10px",
actionBarHoverColor: "",
chatPanelProfileCardContainerHeight: "50px",
chatPanelProfileCardContainerBackground: "",
chatPanelProfileCardContainerBorderWidth: "",
chatPanelProfileCardContainerBorderStyle: "$$borderStyle",
chatPanelProfileCardContainerBorderColor: "$$borderColor",
chatPanelProfileCardAvatarBorderWidth: "",
chatPanelProfileCardAvatarBorderStyle: "",
chatPanelProfileCardAvatarBorderColor: "",
chatPanelProfileCardAvatarRadius: "",
chatPanelProfileCardAvatarShadow: "",
chatLogMargin: "$$margin",
chatLogVisitorNameColor: "$$contentHeaderColor",
chatLogVisitorBubbleBg: "",
chatLogVisitorBubbleBorderWidth: "$$borderWidth",
chatLogVisitorBubbleBorderStyle: "$$borderStyle",
chatLogVisitorBubbleBorderColor: "$$borderColor",
chatLogAgentNameColor: "$$contentHeaderColor",
chatLogAgentBubbleBg: "",
chatLogAgentBubbleBorderWidth: "$$borderWidth",
chatLogAgentBubbleBorderStyle: "$$borderStyle",
chatLogAgentBubbleBorderColor: "$$borderColor",
chatLogAvatarBorderWidth: "",
chatLogAvatarBorderStyle: "",
chatLogAvatarBorderColor: "",
chatLogAvatarRadius: "",
chatLogAvatarShadow: "",
chatLogSystemMsgColor: "$$placeholderColor",
chatLogSystemMsgBg: "",
chatLogSystemMsgBorderWidth: 0,
chatLogSystemMsgBorderStyle: "$$borderStyle",
chatLogSystemMsgBorderColor: "$$borderColor",
chatLogSystemMsgPadding: "",
chatLogFileProgressBg: "$$headBg",
chatTextAreaBorderWidth: "",
chatTextAreaBorderStyle: "$$borderStyle",
chatTextAreaBorderColor: "$$borderColor",
chatTextAreaPadding: "10px 10px 0",
chatTextAreaInputFontSize: "",
chatTextAreaInputMinHeight: "42px",
chatTextAreaInputMaxHeight: "64px",
chatTextAreaInputLineHeight: "",
chatTextAreaInputColor: "",
chatTextAreaInputBg: "",
chatTextAreaInputBorderWidth: "",
chatTextAreaInputBorderStyle: "",
chatTextAreaInputBorderColor: "",
chatTextAreaInputPadding: "",
chatTextAreaInputRadius: "",
chatTextAreaInputShadow: "",
chatTextAreaInputFocusColor: "",
chatTextAreaInputFocusBg: "",
chatTextAreaInputFocusBorderColor: "",
chatTextAreaInputFocusShadow: "",
chatTextAreaSubmitMargin: "6px",
chatTextAreaSubmitPadding: "5px 10px",
chatTextAreaDropColor: "",
chatTextAreaDropBg: "",
chatTextAreaDropBorderWidth: "",
chatTextAreaDropBorderStyle: "",
chatTextAreaDropBorderColor: "",
agentBubbleBg: "",
visitorBubbleBg: "",
badgeBg: "",
badgeBorderWidth: "",
badgeBorderStyle: "$$borderStyle",
badgeBorderColor: "$$borderColor",
badgeContentColor: "$$headColor",
badgeContentBg: "",
badgeContentBorderWidth: "$$borderWidth",
badgeContentBorderStyle: "$$borderStyle",
badgeContentBorderColor: "$$borderColor",
badgeFormHeight: "36px",
badgeFormBg: "",
badgeFormBorderWidth: "$$borderWidth",
badgeFormBorderStyle: "$$borderStyle",
badgeFormBorderColor: "$$borderColor",
badgeInputColor: "",
badgeInputBorderWidth: "",
badgeInputBorderStyle: "",
badgeInputBorderColor: "",
badgeInputPadding: "$$paddingXL",
badgeInputRadius: "$$radius",
badgeInputShadow: "",
badgeInputFocusColor: "",
badgeInputFocusBg: "",
badgeInputFocusBorderColor: "",
badgeInputFocusShadow: "",
badgeInputPlaceholderColor: "",
badgeIconColor: ""
}, r = {
windowRadius: 0
}, a = {
fontSizeXS: "12px",
fontSizeS: "13px",
fontSize: "14px",
fontSizeL: "16px",
fontSizeXL: "18px",
fontSizeXXL: "20px",
mobileMaxWidthS: "360px",
mobileMaxWidth: "480px",
mobileMaxWidthL: "640px",
inputPadding: "$$paddingXL",
buttonPadding: "$$paddingXL",
menuItemPadding: "14px",
titleBarHeight: "44px",
actionBarWidth: "$$titleBarHeight",
actionBarHeight: "$$titleBarHeight",
menuRadius: 0,
brandingLinkColor: n.grey
};
return {
standard: o,
popout: r,
mobile: a
};
};
e(o, "meshim_widget_themes_Base");
return o;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var t = i(75), n = {
white: "#FFF",
black: "#000",
grey: "#808080"
};
n.clampLuminance = function(t, e, i) {
t = n.getChromaObj(t);
if (t) {
e < 0 && (e = 0);
i > 1 && (i = 1);
var o = t.luminance(), r = o < e ? e : o > i ? i : o;
return o === r ? t : n.getColorAtLuminance(t, r);
}
};
n.lighten = function(e, i, o) {
return t.interpolate(e, n.white, i, o || "rgb");
};
n.darken = function(e, i, o) {
return t.interpolate(e, n.black, i, o || "rgb");
};
var o = 100;
n.getColorAtLuminance = function(t, e) {
if (!(e < 0 || e > 1)) {
t = n.getChromaObj(t);
if (t) {
var i = 0;
if (t.luminance() >= e) for (;;) {
i++;
if (t.luminance() <= e + .05 || i >= o) return t;
t = n.darken(t, .05);
} else for (;;) {
i++;
if (t.luminance() >= e - .05 || i >= o) return t;
t = n.lighten(t, .05);
}
}
}
};
n.getColorAtContrast = function(e, i, r) {
if (!(r < 1)) {
e = n.getChromaObj(e);
i = n.getChromaObj(i);
if (e && i) {
var a = 0;
if (t.contrast(e, i) >= r) for (;;) {
a++;
if (t.contrast(e, i) <= r + .5 || a >= o) return i;
i = i.luminance() >= e.luminance() ? n.darken(i, .05) : n.lighten(i, .05);
} else for (var s = t.contrast(e, n.white), _ = t.contrast(e, n.black); ;) {
a++;
if (t.contrast(e, i) >= r - .5 || a >= o) return i;
if (i.luminance() >= e.luminance()) if (s >= r - .5) i = n.lighten(i, .05); else {
if (!(_ >= r - .5)) return s > _ ? n.getChromaObj(n.white) : n.getChromaObj(n.black);
i = n.darken(i, .05);
} else if (_ >= r - .5) i = n.darken(i, .05); else {
if (!(s >= r - .5)) return s > _ ? n.getChromaObj(n.white) : n.getChromaObj(n.black);
i = n.lighten(i, .05);
}
}
}
}
};
n.getContrastColor = function(t, e, i, o, r, a, s) {
t = n.getChromaObj(t);
e = n.getChromaObj(e);
i = n.getChromaObj(i);
if (t && e && i) {
var _ = t.luminance();
return "bright" === r ? _ < o ? e : n.getColorAtContrast(t, i, s ? s : 2.5) : "dark" === r ? _ > o ? i : n.getColorAtContrast(t, e, a ? a : 4.5) : void 0;
}
};
n.isHexColor = function(t) {
return !("string" != typeof t || !/^#[0-9A-F]{3}([0-9A-F]{3})?$/i.test(t));
};
n.getChromaObj = function(e) {
return n.isHexColor(e) ? t.hex(e) : e instanceof t.constructor && e;
};
n.rgbaColor = function(t, e) {
t = n.getChromaObj(t);
if (t) {
if ("undefined" == typeof e) e = 1; else {
e = parseFloat(e);
(isNaN(e) || e > 1) && (e = 1);
e < 0 && (e = 0);
}
return "rgba(" + n.toRGB(t).join(",") + "," + e + ")";
}
};
n.toRGB = function(t) {
t = n.getChromaObj(t);
if (t) {
var e = t.rgb();
e[0] = parseInt(e[0], 10);
e[1] = parseInt(e[1], 10);
e[2] = parseInt(e[2], 10);
return e;
}
};
e(n, "meshim_widget_utils_Color");
return n;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var t = {}, i = {};
(function() {
var e, n, o, r, a, s, _, l, d, u, c, h, f, p, g, m, $, b, w, x, v, y, j, C, A, S, I, k, B, N, T, E, D, O, P, L, W, R, F, M, V, H, z, U;
O = "undefined" != typeof t && null !== t ? t : this;
u = null != (F = O.chroma) ? F : O.chroma = {};
"undefined" != typeof i && null !== i && (i.exports = u);
e = function() {
function t(t, e, i, n) {
var o, r, a;
o = this;
null == t && null == e && null == i && null == n && (t = [ 255, 0, 255 ]);
if ("array" === P(t) && 3 === t.length) {
null == n && (n = e);
a = t, t = a[0], e = a[1], i = a[2];
}
"string" === P(t) ? n = "hex" : null == n && (n = "rgb");
"rgb" === n ? o._rgb = [ t, e, i ] : "hsl" === n ? o._rgb = $(t, e, i) : "hsv" === n ? o._rgb = b(t, e, i) : "hex" === n ? o._rgb = g(t) : "lab" === n ? o._rgb = x(t, e, i) : "lch" === n ? o._rgb = j(t, e, i) : "hsi" === n && (o._rgb = m(t, e, i));
r = c(o._rgb);
}
t.prototype.rgb = function() {
return this._rgb;
};
t.prototype.hex = function() {
return I(this._rgb);
};
t.prototype.toString = function() {
return this.hex();
};
t.prototype.hsl = function() {
return B(this._rgb);
};
t.prototype.hsv = function() {
return N(this._rgb);
};
t.prototype.lab = function() {
return T(this._rgb);
};
t.prototype.lch = function() {
return E(this._rgb);
};
t.prototype.hsi = function() {
return k(this._rgb);
};
t.prototype.luminance = function() {
return A(this._rgb);
};
t.prototype.name = function() {
var t, e;
t = this.hex();
for (e in u.colors) if (u.colors.hasOwnProperty(e) && t === u.colors[e]) return e;
return t;
};
t.prototype.interpolate = function(e, i, n) {
var o, r, a, s, _, l, d, u, c, h, f, p, g;
u = this;
null == n && (n = "rgb");
"string" === P(i) && (i = new t(i));
if ("hsl" === n || "hsv" === n || "lch" === n || "hsi" === n) {
if ("hsl" === n) {
p = u.hsl();
g = i.hsl();
} else if ("hsv" === n) {
p = u.hsv();
g = i.hsv();
} else if ("hsi" === n) {
p = u.hsi();
g = i.hsi();
} else if ("lch" === n) {
p = u.lch();
g = i.lch();
}
if ("h" === n.substr(0, 1)) {
a = p[0], h = p[1], l = p[2];
s = g[0], f = g[1], d = g[2];
} else {
l = p[0], h = p[1], a = p[2];
d = g[0], f = g[1], s = g[2];
}
if (isNaN(a) || isNaN(s)) if (isNaN(a)) if (isNaN(s)) r = void 0; else {
r = s;
1 !== l && 0 !== l || (c = f);
} else {
r = a;
1 !== d && 0 !== d || (c = h);
} else {
o = s > a && s - a > 180 ? s - (a + 360) : s < a && a - s > 180 ? s + 360 - a : s - a;
r = a + e * o;
}
null == c && (c = h + e * (f - h));
_ = l + e * (d - l);
return "h" === n.substr(0, 1) ? new t(r, c, _, n) : new t(_, c, r, n);
}
if ("rgb" === n) {
p = u._rgb;
g = i._rgb;
return new t(p[0] + e * (g[0] - p[0]), p[1] + e * (g[1] - p[1]), p[2] + e * (g[2] - p[2]), n);
}
if ("lab" === n) {
p = u.lab();
g = i.lab();
return new t(p[0] + e * (g[0] - p[0]), p[1] + e * (g[1] - p[1]), p[2] + e * (g[2] - p[2]), n);
}
throw "color mode " + n + " is not supported";
};
t.prototype.darken = function(t) {
var e, i;
null == t && (t = 20);
i = this;
e = i.lch();
e[0] -= t;
return u.lch(e);
};
t.prototype.darker = function(t) {
return this.darken(t);
};
t.prototype.brighten = function(t) {
null == t && (t = 20);
return this.darken(-t);
};
t.prototype.brighter = function(t) {
return this.brighten(t);
};
t.prototype.saturate = function(t) {
var e, i;
null == t && (t = 20);
i = this;
e = i.lch();
e[1] += t;
return u.lch(e);
};
t.prototype.desaturate = function(t) {
null == t && (t = 20);
return this.saturate(-t);
};
return t;
}();
g = function(t) {
var e, i, n, o, r;
if (t.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/)) {
4 !== t.length && 7 !== t.length || (t = t.substr(1));
if (3 === t.length) {
t = t.split("");
t = t[0] + t[0] + t[1] + t[1] + t[2] + t[2];
}
r = parseInt(t, 16);
n = r >> 16;
i = r >> 8 & 255;
e = 255 & r;
return [ n, i, e ];
}
if (o = p(t)) return o;
throw "unknown color: " + t;
};
p = function(t) {
var e, i, n, o;
if (null != u.colors && u.colors[t]) return g(u.colors[t]);
if (n = t.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)) return n.slice(1, 4);
if (n = t.match(/rgb\(\s*(\-?\d+)%,\s*(\-?\d+)%\s*,\s*(\-?\d+)%\s*\)/)) {
o = n.slice(1, 4);
for (i in o) o.hasOwnProperty(i) && (o[i] = Math.round(2.55 * o[i]));
return o;
}
if (n = t.match(/hsl\(\s*(\-?\d+),\s*(\-?\d+)%\s*,\s*(\-?\d+)%\s*\)/)) {
e = n.slice(1, 4);
e[1] *= .01;
e[2] *= .01;
return $(e);
}
};
I = function() {
var t, e, i, n, o, r;
r = L(arguments), i = r[0], e = r[1], t = r[2];
o = i << 16 | e << 8 | t;
n = "000000" + o.toString(16);
return "#" + n.substr(n.length - 6);
};
b = function() {
var t, e, i, n, o, r, a, s, _, l, d, u, c, h, f, p, g, m;
u = L(arguments), n = u[0], _ = u[1], d = u[2];
d *= 255;
if (0 === _) s = i = t = d; else {
360 === n && (n = 0);
n > 360 && (n -= 360);
n < 0 && (n += 360);
n /= 60;
o = Math.floor(n);
e = n - o;
r = d * (1 - _);
a = d * (1 - _ * e);
l = d * (1 - _ * (1 - e));
switch (o) {
case 0:
c = [ d, l, r ], s = c[0], i = c[1], t = c[2];
break;

case 1:
h = [ a, d, r ], s = h[0], i = h[1], t = h[2];
break;

case 2:
f = [ r, d, l ], s = f[0], i = f[1], t = f[2];
break;

case 3:
p = [ r, a, d ], s = p[0], i = p[1], t = p[2];
break;

case 4:
g = [ l, r, d ], s = g[0], i = g[1], t = g[2];
break;

case 5:
m = [ d, r, a ], s = m[0], i = m[1], t = m[2];
}
}
s = Math.round(s);
i = Math.round(i);
t = Math.round(t);
return [ s, i, t ];
};
N = function() {
var t, e, i, n, o, r, a, s, _, l;
l = L(arguments), a = l[0], i = l[1], t = l[2];
r = Math.min(a, i, t);
o = Math.max(a, i, t);
e = o - r;
_ = o / 255;
if (0 === o) {
n = void 0;
s = 0;
} else {
s = e / o;
a === o && (n = (i - t) / e);
i === o && (n = 2 + (t - a) / e);
t === o && (n = 4 + (a - i) / e);
n *= 60;
n < 0 && (n += 360);
}
return [ n, s, _ ];
};
$ = function() {
var t, e, i, n, o, r, a, s, _, l, d, u, c, h;
c = L(arguments), n = c[0], s = c[1], r = c[2];
if (0 === s) a = i = t = 255 * r; else {
d = [ 0, 0, 0 ];
e = [ 0, 0, 0 ];
l = r < .5 ? r * (1 + s) : r + s - r * s;
_ = 2 * r - l;
n /= 360;
d[0] = n + 1 / 3;
d[1] = n;
d[2] = n - 1 / 3;
for (o = u = 0; u <= 2; o = ++u) {
d[o] < 0 && (d[o] += 1);
d[o] > 1 && (d[o] -= 1);
6 * d[o] < 1 ? e[o] = _ + 6 * (l - _) * d[o] : 2 * d[o] < 1 ? e[o] = l : 3 * d[o] < 2 ? e[o] = _ + (l - _) * (2 / 3 - d[o]) * 6 : e[o] = _;
}
h = [ Math.round(255 * e[0]), Math.round(255 * e[1]), Math.round(255 * e[2]) ], 
a = h[0], i = h[1], t = h[2];
}
return [ a, i, t ];
};
B = function(t, e, i) {
var n, o, r, a, s, _;
void 0 !== t && 3 === t.length && (_ = t, t = _[0], e = _[1], i = _[2]);
t /= 255;
e /= 255;
i /= 255;
a = Math.min(t, e, i);
r = Math.max(t, e, i);
o = (r + a) / 2;
if (r === a) {
s = 0;
n = void 0;
} else s = o < .5 ? (r - a) / (r + a) : (r - a) / (2 - r - a);
t === r ? n = (e - i) / (r - a) : e === r ? n = 2 + (i - t) / (r - a) : i === r && (n = 4 + (t - e) / (r - a));
n *= 60;
n < 0 && (n += 360);
return [ n, s, o ];
};
o = 18;
s = .95047;
_ = 1;
l = 1.08883;
x = function(t, e, i) {
var n, o, r, a, d, u, c;
void 0 !== t && 3 === t.length && (u = t, t = u[0], e = u[1], i = u[2]);
void 0 !== t && 3 === t.length && (c = t, t = c[0], e = c[1], i = c[2]);
a = (t + 16) / 116;
r = a + e / 500;
d = a - i / 200;
r = v(r) * s;
a = v(a) * _;
d = v(d) * l;
o = R(3.2404542 * r - 1.5371385 * a - .4985314 * d);
n = R(-.969266 * r + 1.8760108 * a + .041556 * d);
i = R(.0556434 * r - .2040259 * a + 1.0572252 * d);
return [ C(o, 0, 255), C(n, 0, 255), C(i, 0, 255) ];
};
T = function() {
var t, e, i, n, o, r, a;
a = L(arguments), i = a[0], e = a[1], t = a[2];
i = D(i);
e = D(e);
t = D(t);
n = W((.4124564 * i + .3575761 * e + .1804375 * t) / s);
o = W((.2126729 * i + .7151522 * e + .072175 * t) / _);
r = W((.0193339 * i + .119192 * e + .9503041 * t) / l);
return [ 116 * o - 16, 500 * (n - o), 200 * (o - r) ];
};
y = function() {
var t, e, i, n;
n = L(arguments), i = n[0], t = n[1], e = n[2];
e = e * Math.PI / 180;
return [ i, Math.cos(e) * t, Math.sin(e) * t ];
};
j = function(t, e, i) {
var n, o, r, a, s, _, l;
_ = y(t, e, i), n = _[0], o = _[1], r = _[2];
l = x(n, o, r), s = l[0], a = l[1], r = l[2];
return [ C(s, 0, 255), C(a, 0, 255), C(r, 0, 255) ];
};
v = function(t) {
return t > .206893034 ? t * t * t : (t - 4 / 29) / 7.787037;
};
W = function(t) {
return t > .008856 ? Math.pow(t, 1 / 3) : 7.787037 * t + 4 / 29;
};
R = function(t) {
return Math.round(255 * (t <= .00304 ? 12.92 * t : 1.055 * Math.pow(t, 1 / 2.4) - .055));
};
D = function(t) {
return (t /= 255) <= .04045 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4);
};
w = function() {
var t, e, i, n, o, r;
r = L(arguments), o = r[0], t = r[1], e = r[2];
i = Math.sqrt(t * t + e * e);
n = Math.atan2(e, t) / Math.PI * 180;
return [ o, i, n ];
};
E = function() {
var t, e, i, n, o, r, a;
r = L(arguments), o = r[0], i = r[1], e = r[2];
a = T(o, i, e), n = a[0], t = a[1], e = a[2];
return w(n, t, e);
};
k = function() {
var t, e, i, n, o, r, a, s, _;
_ = L(arguments), a = _[0], i = _[1], e = _[2];
t = 2 * Math.PI;
a /= 255;
i /= 255;
e /= 255;
r = Math.min(a, i, e);
o = (a + i + e) / 3;
s = 1 - r / o;
if (0 === s) n = 0; else {
n = (a - i + (a - e)) / 2;
n /= Math.sqrt((a - i) * (a - i) + (a - e) * (i - e));
n = Math.acos(n);
e > i && (n = t - n);
n /= t;
}
return [ 360 * n, s, o ];
};
m = function(t, e, i) {
var n, o, s, _;
_ = L(arguments), t = _[0], e = _[1], i = _[2];
t /= 360;
if (t < 1 / 3) {
n = (1 - e) / 3;
s = (1 + e * f(a * t) / f(r - a * t)) / 3;
o = 1 - (n + s);
} else if (t < 2 / 3) {
t -= 1 / 3;
s = (1 - e) / 3;
o = (1 + e * f(a * t) / f(r - a * t)) / 3;
n = 1 - (s + o);
} else {
t -= 2 / 3;
o = (1 - e) / 3;
n = (1 + e * f(a * t) / f(r - a * t)) / 3;
s = 1 - (o + n);
}
s = C(i * s * 3);
o = C(i * o * 3);
n = C(i * n * 3);
return [ 255 * s, 255 * o, 255 * n ];
};
c = function(t) {
var e;
for (e in t) if (t.hasOwnProperty(e)) {
t[e] < 0 && (t[e] = 0);
t[e] > 255 && (t[e] = 255);
}
return t;
};
A = function(t, e, i) {
var n;
n = L(arguments), t = n[0], e = n[1], i = n[2];
t = S(t);
e = S(e);
i = S(i);
return .2126 * t + .7152 * e + .0722 * i;
};
S = function(t) {
t /= 255;
return t <= .03928 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4);
};
u.Color = e;
u.color = function(t, i, n, o) {
return new e(t, i, n, o);
};
u.hsl = function(t, i, n) {
return new e(t, i, n, "hsl");
};
u.hsv = function(t, i, n) {
return new e(t, i, n, "hsv");
};
u.rgb = function(t, i, n) {
return new e(t, i, n, "rgb");
};
u.hex = function(t) {
return new e(t);
};
u.css = function(t) {
return new e(t);
};
u.lab = function(t, i, n) {
return new e(t, i, n, "lab");
};
u.lch = function(t, i, n) {
return new e(t, i, n, "lch");
};
u.hsi = function(t, i, n) {
return new e(t, i, n, "hsi");
};
u.interpolate = function(t, i, n, o) {
if (null == t || null == i) return "#000";
"string" === P(t) && (t = new e(t));
"string" === P(i) && (i = new e(i));
return t.interpolate(n, i, o);
};
u.contrast = function(t, i) {
var n, o;
"string" === P(t) && (t = new e(t));
"string" === P(i) && (i = new e(i));
n = t.luminance();
o = i.luminance();
return n > o ? (n + .05) / (o + .05) : (o + .05) / (n + .05);
};
O = "undefined" != typeof t && null !== t ? t : this;
u = null != (M = O.chroma) ? M : O.chroma = {};
e = u.Color;
n = function() {
function t(t) {
var e, i, n;
null == t && (t = {});
e = this;
e.range(t.colors, t.positions);
e._mode = null != (i = t.mode) ? i : "rgb";
e._nacol = u.hex(null != (n = t.nacol) ? n : u.hex("#ccc"));
e._spread = 0;
e._fixed = !1;
e.domain([ 0, 1 ]);
}
t.prototype.range = function(t, i) {
var n, o, r, a, s, _, l, d;
r = this;
null == t && (t = [ "#ddd", "#222" ]);
null != t && "string" === P(t) && null != (null != (_ = u.brewer) ? _[t] : void 0) && (t = u.brewer[t].slice(0));
for (n = a = 0, l = t.length - 1; 0 <= l ? a <= l : a >= l; n = 0 <= l ? ++a : --a) {
o = t[n];
"string" === P(o) && (t[n] = new e(o));
}
r._colors = t;
if (null != i) r._pos = i; else {
r._pos = [];
for (n = s = 0, d = t.length - 1; 0 <= d ? s <= d : s >= d; n = 0 <= d ? ++s : --s) r._pos.push(n / (t.length - 1));
}
return r;
};
t.prototype.domain = function(t) {
var e;
null == t && (t = []);
e = this;
e._domain = t;
e._min = t[0];
e._max = t[t.length - 1];
2 === t.length ? e._numClasses = 0 : e._numClasses = t.length - 1;
return e;
};
t.prototype.get = function(t) {
var e, i, n, o;
o = this;
if (isNaN(t)) return o._nacol;
if (o._domain.length > 2) {
e = o.getClass(t);
i = e / (o._numClasses - 1);
} else {
i = n = (t - o._min) / (o._max - o._min);
i = Math.min(1, Math.max(0, i));
}
return o.fColor(i);
};
t.prototype.fColor = function(t) {
var e, i, n, o, r, a, s;
o = this;
i = o._colors;
for (n = a = 0, s = o._pos.length - 1; 0 <= s ? a <= s : a >= s; n = 0 <= s ? ++a : --a) {
r = o._pos[n];
if (t <= r) {
e = i[n];
break;
}
if (t >= r && n === o._pos.length - 1) {
e = i[n];
break;
}
if (t > r && t < o._pos[n + 1]) {
t = (t - r) / (o._pos[n + 1] - r);
e = u.interpolate(i[n], i[n + 1], t, o._mode);
break;
}
}
return e;
};
t.prototype.classifyValue = function(t) {
var e, i, n, o, r, a, s;
o = this;
e = o._domain;
s = t;
if (e.length > 2) {
a = e.length - 1;
i = o.getClass(t);
r = e[0] + (e[1] - e[0]) * (0 + .5 * o._spread);
n = e[a - 1] + (e[a] - e[a - 1]) * (1 - .5 * o._spread);
s = o._min + (e[i] + .5 * (e[i + 1] - e[i]) - r) / (n - r) * (o._max - o._min);
}
return s;
};
t.prototype.getClass = function(t) {
var e, i, n, o;
o = this;
e = o._domain;
if (null != e) {
n = e.length - 1;
i = 0;
for (;i < n && t >= e[i]; ) i++;
return i - 1;
}
return 0;
};
t.prototype.validValue = function(t) {
return !isNaN(t);
};
return t;
}();
u.ColorScale = n;
u.scale = function(t, e) {
var i, n, o;
i = new u.ColorScale();
i.range(t, e);
o = !1;
n = function(t) {
var e;
e = i.get(t);
return o && e[o] ? e[o]() : e;
};
n.domain = function(t, e, o, r) {
var a;
null == o && (o = "e");
if (!arguments.length) return i._domain;
if (null != e) {
a = u.analyze(t, r);
t = 0 === e ? [ a.min, a.max ] : u.limits(a, o, e);
}
i.domain(t);
return n;
};
n.mode = function(t) {
if (!arguments.length) return i._mode;
i._mode = t;
return n;
};
n.range = function(t, e) {
i.range(t, e);
return n;
};
n.out = function(t) {
o = t;
return n;
};
n.getColor = function(t) {
return n(t);
};
n.spread = function(t) {
if (!arguments.length) return i._spread;
i._spread = t;
return n;
};
return n;
};
null == (V = u.scales) && (u.scales = {});
u.scales.cool = function() {
return u.scale([ u.hsl(180, 1, .9), u.hsl(250, .7, .4) ]);
};
u.scales.hot = function() {
return u.scale([ "#000", "#f00", "#ff0", "#fff" ], [ 0, .25, .75, 1 ]).mode("rgb");
};
u.analyze = function(t, e, i) {
var n, o, r, a, s, _, l;
r = {
min: Number.MAX_VALUE,
max: Number.MAX_VALUE * -1,
sum: 0,
values: [],
count: 0
};
null == i && (i = function() {
return !0;
});
n = function(t) {
if (null != t && !isNaN(t)) {
r.values.push(t);
r.sum += t;
t < r.min && (r.min = t);
t > r.max && (r.max = t);
r.count += 1;
}
};
s = function(t, o) {
if (i(t, o)) return n(null != e && "function" === P(e) ? e(t) : null != e && "string" === P(e) || "number" === P(e) ? t[e] : t);
};
if ("array" === P(t)) for (_ = 0, l = t.length; _ < l; _++) {
a = t[_];
s(a);
} else for (o in t) if (t.hasOwnProperty(o)) {
a = t[o];
s(a, o);
}
r.domain = [ r.min, r.max ];
r.limits = function(t, e) {
return u.limits(r, t, e);
};
return r;
};
u.limits = function(t, e, i) {
var n, o, r, a, s, _, l, d, c, h, f, p, g, m, $, b, w, x, v, y, j, C, A, S, I, k, B, N, T, E, D, O, P, L, W, R, F, M, V, H, z, U, q, G, Y, X, K, Z, Q, J, tt, et, it, nt, ot, rt;
null == e && (e = "equal");
null == i && (i = 7);
null == t.values && (t = u.analyze(t));
g = t.min;
f = t.max;
A = t.sum;
k = t.values.sort(function(t, e) {
return t - e;
});
h = [];
if ("c" === e.substr(0, 1)) {
h.push(g);
h.push(f);
}
if ("e" === e.substr(0, 1)) {
h.push(g);
for (l = B = 1, Y = i - 1; 1 <= Y ? B <= Y : B >= Y; l = 1 <= Y ? ++B : --B) h.push(g + l / i * (f - g));
h.push(f);
} else if ("l" === e.substr(0, 1)) {
if (g <= 0) throw "Logarithmic scales are only possible for values > 0";
m = Math.LOG10E * Math.log(g);
p = Math.LOG10E * Math.log(f);
h.push(g);
for (l = N = 1, X = i - 1; 1 <= X ? N <= X : N >= X; l = 1 <= X ? ++N : --N) h.push(Math.pow(10, m + l / i * (p - m)));
h.push(f);
} else if ("q" === e.substr(0, 1)) {
h.push(g);
for (l = T = 1, K = i - 1; 1 <= K ? T <= K : T >= K; l = 1 <= K ? ++T : --T) {
v = k.length * l / i;
y = Math.floor(v);
if (y === v) h.push(k[y]); else {
j = v - y;
h.push(k[y] * j + k[y + 1] * (1 - j));
}
}
h.push(f);
} else if ("k" === e.substr(0, 1)) {
b = k.length;
n = new Array(b);
s = new Array(i);
C = !0;
w = 0;
r = null;
r = [];
r.push(g);
for (l = E = 1, Z = i - 1; 1 <= Z ? E <= Z : E >= Z; l = 1 <= Z ? ++E : --E) r.push(g + l / i * (f - g));
r.push(f);
for (;C; ) {
for (d = D = 0, Q = i - 1; 0 <= Q ? D <= Q : D >= Q; d = 0 <= Q ? ++D : --D) s[d] = 0;
for (l = O = 0, J = b - 1; 0 <= J ? O <= J : O >= J; l = 0 <= J ? ++O : --O) {
I = k[l];
$ = Number.MAX_VALUE;
for (d = P = 0, tt = i - 1; 0 <= tt ? P <= tt : P >= tt; d = 0 <= tt ? ++P : --P) {
_ = Math.abs(r[d] - I);
if (_ < $) {
$ = _;
o = d;
}
}
s[o]++;
n[l] = o;
}
x = new Array(i);
for (d = L = 0, F = i - 1; 0 <= F ? L <= F : L >= F; d = 0 <= F ? ++L : --L) x[d] = null;
for (l = W = 0, M = b - 1; 0 <= M ? W <= M : W >= M; l = 0 <= M ? ++W : --W) {
a = n[l];
null === x[a] ? x[a] = k[l] : x[a] += k[l];
}
for (d = R = 0, V = i - 1; 0 <= V ? R <= V : R >= V; d = 0 <= V ? ++R : --R) x[d] *= 1 / s[d];
C = !1;
for (d = et = 0, H = i - 1; 0 <= H ? et <= H : et >= H; d = 0 <= H ? ++et : --et) if (x[d] !== r[l]) {
C = !0;
break;
}
r = x;
w++;
w > 200 && (C = !1);
}
c = {};
for (d = it = 0, z = i - 1; 0 <= z ? it <= z : it >= z; d = 0 <= z ? ++it : --it) c[d] = [];
for (l = nt = 0, U = b - 1; 0 <= U ? nt <= U : nt >= U; l = 0 <= U ? ++nt : --nt) {
a = n[l];
c[a].push(k[l]);
}
S = [];
for (d = ot = 0, q = i - 1; 0 <= q ? ot <= q : ot >= q; d = 0 <= q ? ++ot : --ot) {
S.push(c[d][0]);
S.push(c[d][c[d].length - 1]);
}
S = S.sort(function(t, e) {
return t - e;
});
h.push(S[0]);
for (l = rt = 1, G = S.length - 1; rt <= G; l = rt += 2) isNaN(S[l]) || h.push(S[l]);
}
return h;
};
O = "undefined" != typeof t && null !== t ? t : this;
P = function() {
var t, e, i, n, o;
t = {};
o = "Boolean Number String Function Array Date RegExp Undefined Null".split(" ");
for (i = 0, n = o.length; i < n; i++) {
e = o[i];
t["[object " + e + "]"] = e.toLowerCase();
}
return function(e) {
var i;
i = Object.prototype.toString.call(e);
return t[i] || "object";
};
}();
null == (H = O.type) && (O.type = P);
Array.max = function(t) {
return Math.max.apply(Math, t);
};
Array.min = function(t) {
return Math.min.apply(Math, t);
};
C = function(t, e, i) {
null == e && (e = 0);
null == i && (i = 1);
t < e && (t = e);
t > i && (t = i);
return t;
};
L = function(t) {
return 3 === t.length ? t : t[0];
};
a = 2 * Math.PI;
r = Math.PI / 3;
f = Math.cos;
O = "undefined" != typeof t && null !== t ? t : this;
u = null != (z = O.chroma) ? z : O.chroma = {};
u.brewer = d = {
OrRd: [ "#fff7ec", "#fee8c8", "#fdd49e", "#fdbb84", "#fc8d59", "#ef6548", "#d7301f", "#b30000", "#7f0000" ],
PuBu: [ "#fff7fb", "#ece7f2", "#d0d1e6", "#a6bddb", "#74a9cf", "#3690c0", "#0570b0", "#045a8d", "#023858" ],
BuPu: [ "#f7fcfd", "#e0ecf4", "#bfd3e6", "#9ebcda", "#8c96c6", "#8c6bb1", "#88419d", "#810f7c", "#4d004b" ],
Oranges: [ "#fff5eb", "#fee6ce", "#fdd0a2", "#fdae6b", "#fd8d3c", "#f16913", "#d94801", "#a63603", "#7f2704" ],
BuGn: [ "#f7fcfd", "#e5f5f9", "#ccece6", "#99d8c9", "#66c2a4", "#41ae76", "#238b45", "#006d2c", "#00441b" ],
YlOrBr: [ "#ffffe5", "#fff7bc", "#fee391", "#fec44f", "#fe9929", "#ec7014", "#cc4c02", "#993404", "#662506" ],
YlGn: [ "#ffffe5", "#f7fcb9", "#d9f0a3", "#addd8e", "#78c679", "#41ab5d", "#238443", "#006837", "#004529" ],
Reds: [ "#fff5f0", "#fee0d2", "#fcbba1", "#fc9272", "#fb6a4a", "#ef3b2c", "#cb181d", "#a50f15", "#67000d" ],
RdPu: [ "#fff7f3", "#fde0dd", "#fcc5c0", "#fa9fb5", "#f768a1", "#dd3497", "#ae017e", "#7a0177", "#49006a" ],
Greens: [ "#f7fcf5", "#e5f5e0", "#c7e9c0", "#a1d99b", "#74c476", "#41ab5d", "#238b45", "#006d2c", "#00441b" ],
YlGnBu: [ "#ffffd9", "#edf8b1", "#c7e9b4", "#7fcdbb", "#41b6c4", "#1d91c0", "#225ea8", "#253494", "#081d58" ],
Purples: [ "#fcfbfd", "#efedf5", "#dadaeb", "#bcbddc", "#9e9ac8", "#807dba", "#6a51a3", "#54278f", "#3f007d" ],
GnBu: [ "#f7fcf0", "#e0f3db", "#ccebc5", "#a8ddb5", "#7bccc4", "#4eb3d3", "#2b8cbe", "#0868ac", "#084081" ],
Greys: [ "#ffffff", "#f0f0f0", "#d9d9d9", "#bdbdbd", "#969696", "#737373", "#525252", "#252525", "#000000" ],
YlOrRd: [ "#ffffcc", "#ffeda0", "#fed976", "#feb24c", "#fd8d3c", "#fc4e2a", "#e31a1c", "#bd0026", "#800026" ],
PuRd: [ "#f7f4f9", "#e7e1ef", "#d4b9da", "#c994c7", "#df65b0", "#e7298a", "#ce1256", "#980043", "#67001f" ],
Blues: [ "#f7fbff", "#deebf7", "#c6dbef", "#9ecae1", "#6baed6", "#4292c6", "#2171b5", "#08519c", "#08306b" ],
PuBuGn: [ "#fff7fb", "#ece2f0", "#d0d1e6", "#a6bddb", "#67a9cf", "#3690c0", "#02818a", "#016c59", "#014636" ],
Spectral: [ "#9e0142", "#d53e4f", "#f46d43", "#fdae61", "#fee08b", "#ffffbf", "#e6f598", "#abdda4", "#66c2a5", "#3288bd", "#5e4fa2" ],
RdYlGn: [ "#a50026", "#d73027", "#f46d43", "#fdae61", "#fee08b", "#ffffbf", "#d9ef8b", "#a6d96a", "#66bd63", "#1a9850", "#006837" ],
RdBu: [ "#67001f", "#b2182b", "#d6604d", "#f4a582", "#fddbc7", "#f7f7f7", "#d1e5f0", "#92c5de", "#4393c3", "#2166ac", "#053061" ],
PiYG: [ "#8e0152", "#c51b7d", "#de77ae", "#f1b6da", "#fde0ef", "#f7f7f7", "#e6f5d0", "#b8e186", "#7fbc41", "#4d9221", "#276419" ],
PRGn: [ "#40004b", "#762a83", "#9970ab", "#c2a5cf", "#e7d4e8", "#f7f7f7", "#d9f0d3", "#a6dba0", "#5aae61", "#1b7837", "#00441b" ],
RdYlBu: [ "#a50026", "#d73027", "#f46d43", "#fdae61", "#fee090", "#ffffbf", "#e0f3f8", "#abd9e9", "#74add1", "#4575b4", "#313695" ],
BrBG: [ "#543005", "#8c510a", "#bf812d", "#dfc27d", "#f6e8c3", "#f5f5f5", "#c7eae5", "#80cdc1", "#35978f", "#01665e", "#003c30" ],
RdGy: [ "#67001f", "#b2182b", "#d6604d", "#f4a582", "#fddbc7", "#ffffff", "#e0e0e0", "#bababa", "#878787", "#4d4d4d", "#1a1a1a" ],
PuOr: [ "#7f3b08", "#b35806", "#e08214", "#fdb863", "#fee0b6", "#f7f7f7", "#d8daeb", "#b2abd2", "#8073ac", "#542788", "#2d004b" ],
Set2: [ "#66c2a5", "#fc8d62", "#8da0cb", "#e78ac3", "#a6d854", "#ffd92f", "#e5c494", "#b3b3b3" ],
Accent: [ "#7fc97f", "#beaed4", "#fdc086", "#ffff99", "#386cb0", "#f0027f", "#bf5b17", "#666666" ],
Set1: [ "#e41a1c", "#377eb8", "#4daf4a", "#984ea3", "#ff7f00", "#ffff33", "#a65628", "#f781bf", "#999999" ],
Set3: [ "#8dd3c7", "#ffffb3", "#bebada", "#fb8072", "#80b1d3", "#fdb462", "#b3de69", "#fccde5", "#d9d9d9", "#bc80bd", "#ccebc5", "#ffed6f" ],
Dark2: [ "#1b9e77", "#d95f02", "#7570b3", "#e7298a", "#66a61e", "#e6ab02", "#a6761d", "#666666" ],
Paired: [ "#a6cee3", "#1f78b4", "#b2df8a", "#33a02c", "#fb9a99", "#e31a1c", "#fdbf6f", "#ff7f00", "#cab2d6", "#6a3d9a", "#ffff99", "#b15928" ],
Pastel2: [ "#b3e2cd", "#fdcdac", "#cbd5e8", "#f4cae4", "#e6f5c9", "#fff2ae", "#f1e2cc", "#cccccc" ],
Pastel1: [ "#fbb4ae", "#b3cde3", "#ccebc5", "#decbe4", "#fed9a6", "#ffffcc", "#e5d8bd", "#fddaec", "#f2f2f2" ]
};
O = "undefined" != typeof t && null !== t ? t : this;
u = null != (U = O.chroma) ? U : O.chroma = {};
u.colors = h = {
indigo: "#4b0082",
gold: "#ffd700",
hotpink: "#ff69b4",
firebrick: "#b22222",
indianred: "#cd5c5c",
yellow: "#ffff00",
mistyrose: "#ffe4e1",
darkolivegreen: "#556b2f",
olive: "#808000",
darkseagreen: "#8fbc8f",
pink: "#ffc0cb",
tomato: "#ff6347",
lightcoral: "#f08080",
orangered: "#ff4500",
navajowhite: "#ffdead",
lime: "#00ff00",
palegreen: "#98fb98",
darkslategrey: "#2f4f4f",
greenyellow: "#adff2f",
burlywood: "#deb887",
seashell: "#fff5ee",
mediumspringgreen: "#00fa9a",
fuchsia: "#ff00ff",
papayawhip: "#ffefd5",
blanchedalmond: "#ffebcd",
chartreuse: "#7fff00",
dimgray: "#696969",
black: "#000000",
peachpuff: "#ffdab9",
springgreen: "#00ff7f",
aquamarine: "#7fffd4",
white: "#ffffff",
orange: "#ffa500",
lightsalmon: "#ffa07a",
darkslategray: "#2f4f4f",
brown: "#a52a2a",
ivory: "#fffff0",
dodgerblue: "#1e90ff",
peru: "#cd853f",
lawngreen: "#7cfc00",
chocolate: "#d2691e",
crimson: "#dc143c",
forestgreen: "#228b22",
darkgrey: "#a9a9a9",
lightseagreen: "#20b2aa",
cyan: "#00ffff",
mintcream: "#f5fffa",
silver: "#c0c0c0",
antiquewhite: "#faebd7",
mediumorchid: "#ba55d3",
skyblue: "#87ceeb",
gray: "#808080",
darkturquoise: "#00ced1",
goldenrod: "#daa520",
darkgreen: "#006400",
floralwhite: "#fffaf0",
darkviolet: "#9400d3",
darkgray: "#a9a9a9",
moccasin: "#ffe4b5",
saddlebrown: "#8b4513",
grey: "#808080",
darkslateblue: "#483d8b",
lightskyblue: "#87cefa",
lightpink: "#ffb6c1",
mediumvioletred: "#c71585",
slategrey: "#708090",
red: "#ff0000",
deeppink: "#ff1493",
limegreen: "#32cd32",
darkmagenta: "#8b008b",
palegoldenrod: "#eee8aa",
plum: "#dda0dd",
turquoise: "#40e0d0",
lightgrey: "#d3d3d3",
lightgoldenrodyellow: "#fafad2",
darkgoldenrod: "#b8860b",
lavender: "#e6e6fa",
maroon: "#800000",
yellowgreen: "#9acd32",
sandybrown: "#f4a460",
thistle: "#d8bfd8",
violet: "#ee82ee",
navy: "#000080",
magenta: "#ff00ff",
dimgrey: "#696969",
tan: "#d2b48c",
rosybrown: "#bc8f8f",
olivedrab: "#6b8e23",
blue: "#0000ff",
lightblue: "#add8e6",
ghostwhite: "#f8f8ff",
honeydew: "#f0fff0",
cornflowerblue: "#6495ed",
slateblue: "#6a5acd",
linen: "#faf0e6",
darkblue: "#00008b",
powderblue: "#b0e0e6",
seagreen: "#2e8b57",
darkkhaki: "#bdb76b",
snow: "#fffafa",
sienna: "#a0522d",
mediumblue: "#0000cd",
royalblue: "#4169e1",
lightcyan: "#e0ffff",
green: "#008000",
mediumpurple: "#9370db",
midnightblue: "#191970",
cornsilk: "#fff8dc",
paleturquoise: "#afeeee",
bisque: "#ffe4c4",
slategray: "#708090",
darkcyan: "#008b8b",
khaki: "#f0e68c",
wheat: "#f5deb3",
teal: "#008080",
darkorchid: "#9932cc",
deepskyblue: "#00bfff",
salmon: "#fa8072",
darkred: "#8b0000",
steelblue: "#4682b4",
palevioletred: "#db7093",
lightslategray: "#778899",
aliceblue: "#f0f8ff",
lightslategrey: "#778899",
lightgreen: "#90ee90",
orchid: "#da70d6",
gainsboro: "#dcdcdc",
mediumseagreen: "#3cb371",
lightgray: "#d3d3d3",
mediumturquoise: "#48d1cc",
lemonchiffon: "#fffacd",
cadetblue: "#5f9ea0",
lightyellow: "#ffffe0",
lavenderblush: "#fff0f5",
coral: "#ff7f50",
purple: "#800080",
aqua: "#00ffff",
whitesmoke: "#f5f5f5",
mediumslateblue: "#7b68ee",
darkorange: "#ff8c00",
mediumaquamarine: "#66cdaa",
darksalmon: "#e9967a",
beige: "#f5f5dc",
blueviolet: "#8a2be2",
azure: "#f0ffff",
lightsteelblue: "#b0c4de",
oldlace: "#fdf5e6"
};
}).call(this);
var n = t.chroma;
n.Color.prototype.lighten = function(t) {
return this.brighten(t);
};
e(n, "meshim_common_Chroma");
return n;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var t = i(75), n = i(74), o = i(73), r = {};
r._super = o;
r.defaults = {
colors: {
primary$string: "#555555",
banner$string: "#EEEEEE",
bubble$string: "#E59341"
}
};
r.generate = function(e) {
function i(e) {
var i = {}, o = e.luminance(), r = e.darken(10), a = e.lighten(10), s = t.interpolate(e, n.black, .5, "rgb"), _ = t.interpolate(e, n.black, .7, "rgb");
i.color = new t.ColorScale({
colors: [ n.white, n.white, s.darken(10), s, s ],
positions: [ 0, p - .001, p + .001, g, 1 ],
mode: "rgb"
}).get(o).hex();
i.bg = new t.ColorScale({
colors: [ e, e, e.darken(10) ],
positions: [ 0, g, 1 ],
mode: "rgb"
}).get(o).hex();
i.iconColor = new t.ColorScale({
colors: [ e, e, _, _.lighten(10) ],
positions: [ 0, p - .001, p + .001, 1 ],
mode: "rgb"
}).get(o).hex();
i.borderColor = new t.ColorScale({
colors: [ r, r, e.darken(20) ],
positions: [ 0, g, 1 ],
mode: "rgb"
}).get(o).hex();
i.hoverBg = new t.ColorScale({
colors: [ a, e, e.darken(5) ],
positions: [ 0, g, 1 ],
mode: "rgb"
}).get(o).hex();
return i;
}
function o(e, i) {
var o = {}, r = e.luminance(), a = t.interpolate(e, n.black, i ? .7 : .5, "rgb"), s = i ? t.color(n.white) : t.interpolate(e, n.white, .5, "rgb");
o.color = new t.ColorScale({
colors: [ s, s.lighten(50), a, a.lighten(10) ],
positions: [ 0, w - .001, w + .001, 1 ],
mode: "rgb"
}).get(r).hex();
o.bg = e.hex();
return o;
}
var r = "#444", a = "#666", s = "#999", _ = "#AAA", l = "#DDD", d = "#EEE", u = "#FBFBFB", c = t.hex(e.colors.primary$string), h = c.luminance(), f = t.hex(e.colors.banner$string || e.colors.primary$string), p = 120 / 255, g = 200 / 255, m = i(c), $ = i(c.lighten(15)), b = i(f), w = 120 / 255, x = 220 / 255, v = o(c), y = o(f, !0), j = {
borderColor: l,
headColor: v.color,
headBg: c,
contentColor: r,
contentBlockBg: d,
placeholderColor: _,
inputColor: a,
inputBorderColor: l,
inputFocusBorderColor: n.clampLuminance(c, .2, .4).hex(),
buttonColor: m.color,
buttonBg: m.bg,
buttonBorderColor: m.borderColor,
buttonHoverBg: m.hoverBg,
buttonShadow: "0px 1px 2px rgba(0,0,0,0.1), inset 0px 1px 0px rgba(255,255,255,0.25)",
buttonSecColor: $.color,
buttonSecBg: $.bg,
buttonSecBorderColor: $.borderColor,
buttonSecHoverBg: $.hoverBg,
scrollableFrameTopHeight: "5px",
scrollableFrameTopBackground: "gradient top rgba(0,0,0,0.05) rgba(0,0,0,0)",
scrollableFrameTopBackgroundColor: "transparent",
scrollableFrameBottomHeight: "5px",
scrollableFrameBottomBackground: "gradient top rgba(0,0,0,0) rgba(0,0,0,0.05)",
scrollableFrameBottomBackgroundColor: "transparent",
toastColor: a,
toastBg: "rgba(255, 255, 255, 0.9)",
toastBorderColor: l,
toastShadow: "$$windowShadow",
avatarBorderColor: l,
profileCardAvatarBorderWidth: 0,
profileCardAvatarShadow: "0px 1px 2px rgba(0,0,0,0.2)",
profileCardNameColor: n.clampLuminance(c, 0, .2).hex(),
profileCardTitleColor: _,
bottomBorderWidth: "1px 0 0",
bottomBorderColor: d,
chatMotifHill: d,
chatMotifBubble: "#BBB",
chatButtonColor: m.color,
chatButtonBg: c.hex(),
chatButtonBorderWidth: h > g ? "" : 0,
chatButtonBorderColor: h > g ? l : "",
faviconBg: new t.ColorScale({
colors: [ c.lighten(15), c.lighten(5), c.darken(5), c.darken(5) ],
positions: [ 0, .05, .0501, 1 ],
mode: "rgb"
}).get(h).hex(),
windowColor: a,
windowPadding: "3px",
windowShadow: "0px 0px 3px 2px rgba(0,0,0,0.1)",
windowContentBorderWidth: "0 1px",
windowContentBorderColor: l,
menuBorderColor: l,
menuItemHoverBg: d,
titleBarColor: v.color,
titleBarBg: v.bg,
titleBarBorderWidth: h > x ? "1px" : 0,
titleBarBorderColor: h > x ? l : "",
titleBarIconsColor: "",
actionBarColor: s,
actionBarBorderWidth: "0 1px 1px 1px",
actionBarBorderColor: l,
actionBarHoverColor: a,
chatPanelProfileCardContainerBorderWidth: "0 0 1px",
chatPanelProfileCardContainerBorderColor: d,
chatLogVisitorBubbleBg: u,
chatLogVisitorBubbleBorderColor: d,
chatLogAgentBubbleBg: t.interpolate(n.clampLuminance(c, .4, .8), n.white, .8, "rgb").hex(),
chatLogAgentBubbleBorderColor: t.interpolate(n.clampLuminance(c, .4, .8), n.white, .4, "rgb").hex(),
chatLogAvatarBorderWidth: "$$borderWidth",
chatLogFileProgressBg: v.bg,
chatTextAreaBorderWidth: "1px 0 0",
chatTextAreaBorderColor: d,
chatTextAreaInputShadow: "inset 0px 1px 3px rgba(0,0,0,0.1)",
chatTextAreaInputFocusShadow: "inset 0px 1px 3px " + t.interpolate(n.clampLuminance(c, .2, .4), n.white, .5, "rgb").hex(),
chatTextAreaDropColor: r,
chatTextAreaDropBg: d,
chatTextAreaDropBorderWidth: "1px",
chatTextAreaDropBorderStyle: "dashed",
chatTextAreaDropBorderColor: r,
badgeBg: y.bg,
badgeBorderWidth: 0,
badgeContentColor: y.color,
badgeContentBg: y.bg,
badgeContentBorderWidth: 0,
badgeFormBg: n.white,
badgeFormBorderWidth: "1px 0",
badgeFormBorderColor: l,
badgeIconColor: b.iconColor
}, C = {
authButtonBg: "$$inputBg",
authButtonBorderColor: "$$inputBorderColor",
authButtonShadow: "none",
bottomBorderWidth: 0,
menuBg: d,
menuHeaderColor: s,
menuItemHoverBg: l,
menuRadius: "0 0 10px 10px",
menuShadow: "none",
actionBarColor: v.color,
actionBarBg: c.darken(10).hex(),
actionBarBorderWidth: 0,
actionBarHoverColor: v.color,
chatPanelProfileCardContainerBorderColor: l,
chatTextAreaBorderColor: l,
chatTextAreaInputShadow: "none",
chatTextAreaInputBorderWidth: 0,
chatTextAreaInputRadius: 0,
chatTextAreaInputFocusShadow: "none",
brandingLinkColor: s
};
return {
standard: j,
mobile: C
};
};
e(r, "meshim_widget_themes_Simple");
return r;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var t = i(75), n = i(74), o = i(76), r = {};
r._super = o;
r.defaults = {
colors: {
bubble$string: "#e59341"
}
};
r.overrides = {
chat_button: {
display_status$bool: !0,
use_bubble$bool: !0
},
chat_window: {
profile_card: {
display_avatar$bool: !1
},
use_banner$bool: !1
},
message_type$string: "basic"
};
r.generate = function(e) {
var i = n.clampLuminance(t.hex(e.colors.primary$string), 0, .8), o = n.clampLuminance(t.hex(e.colors.bubble$string), 0, .8), r = n.clampLuminance(n.darken(i, .2, "rgb"), 0, .8), a = n.clampLuminance(n.lighten(i, .2, "rgb"), 0, .8), s = "gradient top " + n.rgbaColor(i, 1) + " " + n.rgbaColor(r, 1), _ = n.clampLuminance(n.darken(o, .2, "rgb"), 0, .8), l = n.clampLuminance(n.lighten(o, .2, "rgb"), 0, .8), d = n.getColorAtContrast(i, n.white, 5), u = n.getContrastColor(o, n.white, n.black, .7, "bright", 3, 5);
i = i.hex();
o = o.hex();
r = r.hex();
a = a.hex();
_ = _.hex();
l = l.hex();
d = d.hex();
u = u.hex();
var c = "#DDD", h = "#666", f = "#f7f7f7", p = {
contentBg: f,
actionBarBg: f,
actionBarBorderColor: c,
titleBarBg: s,
titleBarBorderWidth: 0,
inputRadius: 0,
inputBorderColor: c,
inputFocusBorderColor: l,
inputFocusShadow: "none",
chatTextAreaInputFocusShadow: "none",
windowContentBorderColor: c,
menuRadius: 0,
menuBorderColor: c,
buttonColor: u,
buttonBg: o,
buttonHoverBg: o,
buttonBorderColor: _,
buttonSecBg: l,
buttonSecHoverBg: l,
buttonSecBorderColor: o,
formSubmittedBg: n.white,
formSubmittedRadius: "0px",
formSubmittedBorderWidth: "1px",
chatLogVisitorNameColor: h,
chatLogAgentNameColor: _,
chatLogSystemMsgBg: n.white,
chatLogSystemMsgBorderWidth: "1px",
chatLogSystemMsgPadding: "5px 0",
chatLogSystemMsgBorderColor: c,
chatLogFileProgressBg: s,
chatButtonMinWidth: "190px",
chatButtonBg: s,
chatButtonShadow: "inset 0 1px 0px 0 rgba(0,0,0,0.4), inset 0 2px 0px 0 rgba(255,255,255,0.7)",
chatButtonFontWeight: "normal",
chatButtonStatusFontWeight: "bold",
chatButtonPaddingFavicon: 0,
chatButtonBorderWidth: 0,
faviconBg: "transparent",
faviconColor: o.toUpperCase() == i.toUpperCase() ? "$$chatButtonColor" : o,
faviconDotsColor: i,
chatBubbleTitleColor: u,
chatBubbleTextColor: u,
chatBubbleCloseColor: u,
chatBubbleCloseShadow: "0px -1px 0px #999",
chatBubbleCloseHoverBg: "rgba(0, 0, 0, 0.1)"
}, g = {
actionBarColor: d,
actionBarBg: "transparent",
actionBarBorderColor: "transparent"
};
return {
standard: p,
mobile: g
};
};
e(r, "meshim_widget_themes_Classic");
return r;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var t = i(76), n = {};
n._super = t;
n.defaults = {
colors: {
primary$string: "#85ae19"
},
branding: {
type$string: "icon_font_zendesk"
}
};
n.overrides = {
chat_window: {
use_banner$bool: !1,
title_bar: {
hide_popout$bool: !0
}
},
branding: {
type$string: "icon_font_zendesk"
}
};
n.generate = function() {
var t = {
fontFamily: '"Helvetica Neue", Helvetica, Arial, sans-serif',
fontSizeXS: "11px",
fontSizeS: "12px",
fontSize: "13px",
buttonPadding: "5px"
}, e = {};
return {
standard: t,
mobile: e
};
};
e(n, "meshim_widget_themes_Zendesk");
return n;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var t = {
popout: {
name$string: "simple"
},
mobile: {
name$string: "simple",
chat_button: {
display_status$bool: !1
}
},
mobile_overlay: {
chat_window: {
use_banner$bool: !1,
title_bar: {
hide_popout$bool: !0
}
}
}
};
e(t, "meshim_widget_themes_Overrides");
return t;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
t.exports = function() {
function t(i, a, s, w, x) {
function v() {
et.currentChild && et.currentChild.hasClass("stack_child_no_menu") && F.update("");
}
function y() {
if (!U && et) {
var t = et.currentChild;
if (t) {
Q.wrapper.setPosition("absolute");
switch (B) {
case "bl":
case "bm":
case "br":
Q.wrapper.setTop("").setBottom(0);
break;

case "tl":
case "tm":
case "tr":
Q.wrapper.setTop(0).setBottom("");
}
switch (B) {
case "bl":
case "tl":
Q.wrapper.setLeft(0).setRight("");
break;

case "br":
case "tr":
Q.wrapper.setLeft("").setRight(0);
}
var i, n;
if (t.hasClass("stack_child_mini")) {
i = e.getVariable("windowMiniWidth");
n = e.getVariable("windowMiniHeight");
} else {
i = e.getVariable("window" + Z.slice(0, 1).toUpperCase() + Z.slice(1) + "Width");
n = e.getVariable("window" + Z.slice(0, 1).toUpperCase() + Z.slice(1) + "Height");
}
i = parseInt(i, 10);
n = parseInt(n, 10);
Q.setWidth(i + "px");
Q.setHeight(n + "px");
}
}
}
function j() {
if (!U) if (Y) Q.setTop("").setRight("").setBottom("").setLeft(""); else switch (B) {
case "br":
Q.setTop("").setLeft("").setMarginLeft("").setRight(X).setBottom(K);
break;

case "bm":
Q.setTop("").setRight("").setBottom(K).setLeft("50%").setMarginLeft(-Math.round(Q.__width / 2) + "px");
break;

case "bl":
Q.setTop("").setRight("").setMarginLeft("").setBottom(K).setLeft(X);
break;

case "tr":
Q.setBottom("").setLeft("").setMarginLeft("").setTop(K).setRight(X);
break;

case "tm":
Q.setRight("").setBottom("").setTop(K).setLeft("50%").setMarginLeft(-Math.round(Q.__width / 2) + "px");
break;

case "tl":
Q.setRight("").setBottom("").setMarginLeft("").setTop(K).setLeft(X);
}
}
function C() {
et.currentChild && (et.currentChild.hasClass("force_dock") ? j() : et.currentChild.getDraggableNode && Q.setDraggableNode(et.currentChild.getDraggableNode()));
}
function A() {
for (var t = e.getVariable("windowShadow"), i = 0, n = m.cssom_prefixes.length; i < n; i++) Q.setStyle(m.cssom_prefixes[i] + (m.cssom_prefixes[i] ? "B" : "b") + "oxShadow", t || "none");
}
function S() {
var t, i = e.getVariable("windowRadius"), n = [ "TopLeft", "TopRight", "BottomRight", "BottomLeft" ];
switch (B) {
case "br":
case "bm":
case "bl":
t = [ !0, !0, !1, !1 ];
break;

case "tr":
t = [ !1, !1, !0, !0 ];
break;

default:
t = [];
}
for (var o = 0, r = m.cssom_prefixes.length; o < r; o++) for (var a = 0, s = n.length; a < s; a++) Q.setStyle(m.cssom_prefixes[o] + (m.cssom_prefixes[o] ? "B" : "b") + "order" + n[a] + "Radius", t[a] && i ? i : "none");
}
function I(t) {
for (var e = t.target.jx_wrapper; e && e.parentNode && e.parentNode != Q; ) {
if (e == tt) return;
e = e.parentNode;
}
F.update("");
}
function k() {
(Q.wrapper || Q.defaultPlacement)[r.rtl() ? "addClass" : "removeClass"]("rtl");
if (!Q.wrapper) {
Q.dom.dir = r.rtl() ? "rtl" : "ltr";
Q.dom.lang = r.language;
}
}
if (!(this instanceof t)) return new t(i, a, s, w, x);
if (!t.__jx__jcss_generated) {
e.generate(this, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var B, N = c.root.$("livechat"), T = N.$("ui"), E = T.$("chat_window"), D = T.$("theme_loaded$bool"), O = N.$("settings").$("theme").$("chat_window").$("h_offset$int"), P = N.$("settings").$("theme").$("chat_window").$("v_offset$int"), L = E.$("display$bool"), W = E.$("force_resize$bool"), R = E.$("main_stack_name$string"), F = E.$("menu_stack_name$string"), M = T.$("popout$bool"), V = T.$("mobile$bool"), H = T.$("tablet$bool"), z = T.$("mockup$bool"), U = M.getValue(), q = V.getValue(), G = H.getValue(), Y = z.getValue(), X = 10, K = 0, Z = "", Q = this;
x || (x = {});
if (U) {
d.call(this, i, a, s, w, x);
$.popout(this);
this.defaultPlacement = new l(this, null, null, null, {
className: "meshim_widget_Widget"
});
this.on = d.prototype.on;
this.fire = d.prototype.fire;
q && this.defaultPlacement.setPosition("relative");
} else {
_.call(this, i, a, s, w, x);
Q.content.addClass("meshim_widget_Widget");
Q.wrapper.addClass(Q.__jx__fqname);
Q.ibody.style.overflow = "hidden";
b.bind(this.iwin);
var J = Q.setDraggableNode;
Q.setDraggableNode = function(t) {
J.call(this, t);
if (t) {
n.isFF && (t.style.cursor = "-moz-grab");
n.isWebKit && (t.style.cursor = "-webkit-grab");
}
};
Q.on("startdrag", function() {
var t = Q.getDraggableNode();
if (t) {
n.isFF && (t.style.cursor = "-moz-grabbing");
n.isWebKit && (t.style.cursor = "-webkit-grabbing");
}
});
Q.on("enddrag", function() {
var t = Q.getDraggableNode();
if (t) {
n.isFF && (t.style.cursor = "-moz-grab");
n.isWebKit && (t.style.cursor = "-webkit-grab");
}
});
this.autobind(O, "value", function(t) {
t = parseInt(t, 10);
if (!isNaN(t) && t >= 0) {
X = t;
j();
}
});
this.autobind(P, "value", function(t) {
t = parseInt(t, 10);
if (!isNaN(t) && t >= 0) {
K = t;
j();
}
});
$.windowPosition(Q.wrapper, null, function(t) {
B = t;
j();
S();
});
$.windowSize(Q.wrapper, null, function(t) {
Z = t;
y();
});
}
if (!U) {
this.dom.className = "zopim";
this.iframe.setStyle("display", "block");
}
Y && Q.setPosition("relative");
q && this.addClass("mobile");
G && this.addClass("tablet");
(Q.content || Q).on("click", function() {
u.resetUnreadCount();
});
new p(this.defaultPlacement);
new g(this.defaultPlacement);
var tt = this.menu_stack = new f(this.defaultPlacement);
this.autobind(F, "value", function(t) {
tt.setName(t);
});
var et = this.main_stack = new h(this.defaultPlacement);
this.autobind(R, "value", function() {
et.setName(R.getValue());
});
et.on("indexChange", v);
v();
this.autobind(L, "value", function(t) {
Q.setVisible(t ? "block" : "none");
y();
});
Q.autobind(W, "value", y);
Q.autobind(D, "value", y);
et.on("indexChange", y);
Q.on("show", y);
if (Y) Q.setDraggableNode(); else if (!U) {
Q.setDraggableNode();
this.main_stack.on("indexChange", C);
C();
}
Q.autobind(D, "value", function(t) {
if (t) {
A();
S();
}
});
(Q.content || Q).allowGhostClick = !0;
(Q.content || Q).on("click", I);
U && o.window.on("click", I);
Q.onDestruction(function() {
(Q.content || Q).un("click", I);
U && o.window.un("click", I);
});
if (r && r.onLanguage) {
r.onLanguage(k);
k();
}
}
var _ = i(81), l = i(84), d = i(17), u = i(85), c = i(40), h = i(86), f = i(263), p = i(293), g = i(295), m = i(48), $ = i(95), b = i(298);
t.prototype = a(_.prototype);
t.__jx__jcss = {
"**self": {
position: "relative",
color: "$$windowColor"
},
"&.br, &.bm, &.bl": {},
"&.tr, &.tm, &.tl": {},
"&.popout": {
padding: 0,
margin: "0 auto",
"width, height": "100%",
maxWidth: "650px",
background: "$$windowBg"
},
"&.mobile": {
maxWidth: "none",
width: "100%",
height: "auto",
minHeight: "100%"
},
"&.tablet": {
maxWidth: "$$mobileMaxWidthL"
}
};
s(t, "meshim_widget_components_ChatWindow");
return t;
}();
}).call(e, i(30), i(7), i(6), i(22), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__jx_ui_FloatingFrame = i(82);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = [ e.__$$__jx_ui_FloatingFrame, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], h = c[0].call(this, a, s, null, n.mangleIDs(s, c[3]), c[4]), f = h || this;
n.set(s, f);
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t(t) {
return new u(t, null, null, null, {
position: "absolute",
top: 0,
left: 0,
width: "100%",
height: "100%",
margin: 0,
padding: 0
});
}
function e(e, i) {
if (!e || !e.button) {
f.raise(e, 2);
C || (C = t(document.body));
C.style.zIndex = f.style.zIndex - 1;
C.style.display = "block";
I = !1;
e || (e = h.event);
if (e) {
x = e.clientX;
v = e.clientY;
y = f.getWidth();
j = f.getHeight();
$ = i;
A = document.onmousemove;
S = document.onmouseup;
p.onmousemove = n;
document.onmousemove = o;
p.onmouseup = document.onmouseup = a;
p.onselectstart = function() {
return !1;
};
e.preventDefault && e.preventDefault();
f.fire("jx:activate");
return !1;
}
}
}
function n(t) {
if (!I) {
f.fire("startdrag");
I = !0;
}
t || (t = window.event);
t || (t = h.event);
if (!(d.isIE < 9) || t.button) {
b = t.clientX - x;
w = t.clientY - v;
if ($) {
f.setWidth(s(y + b));
f.setHeight(s(j + w));
} else {
f.move(b, w);
f.fire("jx:drag");
r.tick();
}
return !1;
}
a();
}
function o(t) {
if (!I) {
f.fire("startdrag");
I = !0;
}
t || (t = window.event);
t || (t = h.event);
if (!(d.isIE < 9) || t.button) {
b = t.clientX - x;
w = t.clientY - v;
if (d.isIE) {
b -= _(document.body.currentStyle.borderLeftWidth);
w -= _(document.body.currentStyle.borderTopWidth);
}
if ($) {
f.setWidth(s(y + b - f.dom.offsetLeft));
f.setHeight(s(j + w - f.dom.offsetTop));
} else f.moveTo(b, w);
f.fire("jx:drag");
return !1;
}
a();
}
function a() {
C.style.display = "none";
document.onmousemove = A;
document.onmouseup = S;
p.onmousemove = null;
p.onmouseup = null;
p.onselectstart = null;
if (I) {
f.fire("enddrag");
I = !1;
}
}
function s(t) {
return Math.max(Math.min(t, window.innerWidth), c) || c;
}
function _(t) {
return parseInt(t, 10) || 0;
}
var l, d = i(7), u = i(17), c = 50, h = f.iwin, p = f.idoc;
f.on("mousedown", f.raise);
p.onmousedown = e;
var g, m = 0;
f.setResizableNode = function(t) {
t && t.dom && (t = t.dom);
g && (g.onmousedown = null);
if (t) {
t.onmousedown = function(t) {
if (0 === m) {
m = 1;
setTimeout(function() {
m = 0;
}, 300);
e(t, !0);
} else f.fitToContents(f, 1e3, 1e3);
};
g = t;
}
};
f.getDraggableNode = function() {
return l;
};
f.setDraggableNode = function(t) {
t && t.dom && (t = t.dom);
if (t) {
f.setBounds([ 0, 0, 0, 0 ]);
l = t;
p.onmousedown = null;
t.onmousedown = e;
t.style.cursor = "move";
} else {
if (l) {
l.onmousedown = null;
l.style.cursor = "default";
l = null;
}
p.onmousedown = null;
}
};
var $, b, w, x, v, y, j, C, A, S, I = !1;
}();
for (var g in p) p.hasOwnProperty(g) && (f[g] = p[g]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = a(e.__$$__jx_ui_FloatingFrame.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_FloatingFrame;
t.__jx__jcss = {};
s(t, "jx_ui_DraggableFrame");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(12), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
t.exports = function() {
function t(i, n, o, r, a) {
if (!(this instanceof t)) return new t(i, n, o, r, a);
var s = this;
this._onAutoResize = function() {
s.onAutoResize();
};
_.call(this, i, n, o, null, a);
_.prototype.setMargin.call(this, "0");
_.prototype.setPadding.call(this, "0");
_.prototype.setBorder.call(this, "0");
_.prototype.setBackground.call(this, "transparent");
_.prototype.setOverflow.call(this, "hidden");
_.prototype.setPosition.call(this, "fixed");
this.appendToParent();
this.iframe = new l(this, null, null, null, {
tagName: "iframe",
position: "relative",
width: "100%",
height: "100%",
minWidth: "100%",
minHeight: "100%",
maxWidth: "100%",
maxHeight: "100%",
border: "0",
margin: "0",
padding: "0",
background: "transparent",
overflow: "hidden",
display: "block"
});
this.iwin = this.iframe.iwin;
this.idoc = this.iframe.idoc;
this.ibody = this.iframe.ibody;
this.ihead = this.iframe.ihead;
this.content = new d(this.iframe.defaultPlacement);
this.content.setOverflow("hidden");
this.wrapper = new _(this.content, null, null, null, {
display: "inline-block"
});
this.wrapper.__jx__fqname = this.__jx__fqname;
this.wrapper.__jx__fqname_chain = this.__jx__fqname_chain;
if (e.bugs.noBoxSizing) {
this.wrapper.style.display = "inline";
this.wrapper.style.zoom = "1";
}
this.setAttributes(a);
this.defaultPlacement = this.wrapper;
this.addChildren(r);
if (e.isIE < 9) {
this.on("hide", function() {
s.iframe.setDisplay("none");
});
this.on("show", function() {
s.iframe.setDisplay("block");
});
}
this.raise();
}
var s, _ = i(17), l = i(83), d = i(84), u = 16e6;
!function() {
for (var t = [ "", "WebKit" ], e = "MutationObserver", i = 0; i < t.length; i++) t[i] + e in window && (s = window[t[i] + e]);
}();
t.prototype = n(_.prototype);
t.prototype.fire = function(t, e) {
_.prototype.fire.call(this, t, e);
this.iframe && this.iframe.fire(t, e);
this.wrapper && this.wrapper.fire(t, e);
};
t.prototype.on = function(t, e) {
"init" == t ? _.prototype.on.call(this, t, e) : this.wrapper && this.wrapper.on(t, e);
};
t.prototype.raise = function(t) {
t = parseInt(t, 10) || 1;
this.setZIndex(u += t);
};
t.prototype.normalize = function() {
var t = this.getXY();
this.moveTo(t[0], t[1]).setMargin(0);
};
t.prototype.getXY = function() {
var t = this.dom.offsetLeft, i = this.dom.offsetTop;
if (e.isIE) if (e.isStrict) {
if (e.isIE6) {
t -= document.documentElement.scrollLeft;
i -= document.documentElement.scrollTop;
}
} else {
t -= document.body.scrollLeft;
i -= document.body.scrollTop;
} else if (e.isSafari) {
var n = o.getStyles(this.iframe.offsetParent);
t += parseInt(n.borderLeftWidth, 10);
i += parseInt(n.borderTopWidth, 10);
}
return [ t, i ];
};
t.prototype.fitToContents = function(t, e, i) {
t = t || this;
for (var n = 0, o = 0; t.defaultPlacement; ) t = t.defaultPlacement;
t.dom && (t = t.dom);
o = t.scrollWidth - t.clientWidth;
n = t.scrollHeight - t.clientHeight;
this.resizeBy(o, n, i || 0, e || 0);
};
t.prototype.destroy = function() {
this.setAutoResize(!1);
_.prototype.destroy.call(this);
this.iframe = this.iwin = this.idoc = this.ibody = this.ihead = this.content = null;
};
t.prototype.setBackground = function(t) {
return this.iframe && this.iframe.setBackground(t);
};
t.prototype.setBackgroundImage = function(t) {
return this.iframe && this.iframe.setBackgroundImage(t);
};
t.prototype.setBorder = function(t) {
return this.iframe && this.iframe.setBorder(t);
};
t.prototype.setBorderColor = function(t) {
return this.iframe && this.iframe.setBorderColor(t);
};
t.prototype.setBorderStyle = function(t) {
return this.iframe && this.iframe.setBorderStyle(t);
};
t.prototype.setBorderWidth = function(t) {
return this.iframe && this.iframe.setBorderWidth(t);
};
t.prototype.setCursor = function(t) {
return this.iframe && this.iframe.setCursor(t);
};
t.prototype.setOpacity = function(t) {
return this.iframe && this.iframe.setOpacity(t);
};
t.prototype.setSelectable = function(t) {
return this.iframe && this.iframe.setSelectable(t);
};
t.prototype.setColor = function(t) {
return this.content && this.content.setColor(t);
};
t.prototype.setPadding = function(t) {
return this.content && this.content.setPadding(t);
};
t.prototype.setFontFamily = function(t) {
return this.content && this.content.setFontFamily(t);
};
t.prototype.setFontSize = function(t) {
return this.content && this.content.setFontSize(t);
};
t.prototype.setFontWeight = function(t) {
return this.content && this.content.setFontWeight(t);
};
t.prototype.setTextAlign = function(t) {
return this.content && this.content.setTextAlign(t);
};
t.prototype.setLetterSpacing = function(t) {
return this.content && this.content.setLetterSpacing(t);
};
t.prototype.setLineHeight = function(t) {
return this.content && this.content.setLineHeight(t);
};
t.prototype.setOverflow = function(t) {
return this.content && this.content.setOverflow(t);
};
var c = 200;
t.prototype.getAutoResize = function() {
return this.autoResize;
};
t.prototype.setAutoResize = function(t) {
t = r(t);
this.autoResize = t;
if (this.wrapper) {
var e = this;
if (this.autoResize) {
if (s) {
this._autoResizer = new s(function() {
e.onAutoResize();
});
this._autoResizer.observe(this.wrapper.dom, {
childList: !0,
attributes: !0,
characterData: !0,
subtree: !0
});
} else {
this._autoResizer && window.clearInterval(this._autoResizer);
this._autoResizer = window.setInterval(this._onAutoResize, c);
}
this.onAutoResize();
} else if (this._autoResizer) if (s) {
this._autoResizer.disconnect();
this._autoResizer = null;
} else {
window.clearInterval(this._autoResizer);
this._autoResizer = null;
}
return this;
}
};
t.prototype.onAutoResize = function() {
if (e.bugs.noBoxSizing) {
this.style.width = "10px";
this.style.height = "10px";
}
var t = this.wrapper.getWidth(), i = this.wrapper.getHeight();
this.setWidth(t);
this.setHeight(i);
if (e.bugs.noBoxSizing) {
this.style.width = t + "px";
this.style.height = i + "px";
this.iframe.dom.className = this.iframe.dom.className;
}
};
a(t, "jx_ui_FloatingFrame");
return t;
}();
}).call(e, i(7), i(14), i(20), i(16), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
t.exports = function() {
function t(i, a, s, c, h) {
function f(t) {
$.parentNode.setAttribute("lang", t);
$.parentNode.setAttribute("dir", r.flip("ltr"));
}
if (!(this instanceof t)) return new t(i, a, s, c, h);
h || (h = {});
h.tagName || (h.tagName = "iframe");
this._top = this._bottom = this._left = this._right = this._width = this._height = NaN;
this._position = null;
this.pos = "";
this.offsetx = 0;
this.offsety = 0;
this._snaps = [ 0, 0, 0, 0 ];
this.useDisplay = !1;
this.doc = this.ownerDocument = i.ownerDocument;
this.parentNode = i;
this.attributes = h;
this.tagName = h.tagName;
this.isNew = !0;
this.dom = this.doc.createElement(this.tagName);
this.dom.jx_wrapper = this;
this.style = this.dom.style;
this.children = [];
this._autobinds = [];
d.call(this);
void 0 !== this.dom.seamless && (this.dom.seamless = !0);
this.dom.allowTransparency = "true";
this.dom.frameBorder = "0";
this.style.backgroundColor = "transparent";
this.style.verticalAlign = "text-bottom";
this.style.visibility = "hidden";
i.appendChild(i instanceof u ? this : this.dom);
a && e.set(a, this);
var p;
p = n.bugs.noBoxSizing ? "<html><head><style>html,body{height:100%;width:100%;background:none} *{border:0;padding:0;margin:0;}</style></head><body></body></html>" : "<!DOCTYPE html><html><head><style>html,body{height:100%;width:100%;} *{border:0;padding:0;margin:0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}</style></head><body></body></html>";
this.dom.src = "about:blank";
this.appendToParent(!0);
var g = this.iwin = this.dom.contentWindow, m = this.idoc = o.extend(g.document);
m.write(p);
m.close();
this.ihead = m.getElementsByTagName("head")[0];
var $ = this.ibody = o.extend(m.body);
r && r.onLanguage && r.onLanguage(f);
r && r.language && f(r.language);
$.style.position = "relative";
$.parentNode.style.overflowY = $.style.overflowY = "hidden";
var b, w;
if (n.bugs.noBoxSizing) {
b = new l($, null, null, null, {
position: "relative",
width: "100%",
height: "100%",
overflow: "hidden"
});
b.applyConstraints();
b.setPadding = function(t) {
$.style.padding = t;
};
} else {
b = new l($, null, null, null, {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
overflow: "hidden"
});
b.applyConstraints();
}
for (var x = "Background BackgroundImage Border BorderColor BorderStyle BorderWidth Color Cursor FontFamily FontSize FontWeight LetterSpacing LineHeight Opacity Padding Selectable TextAlign".split(" "); w = x.pop(); ) this["set" + w] = function(t) {
return function(e) {
b["set" + t](e);
return this;
};
}(w);
this.defaultPlacement = b;
this.addChildren(c);
this.style.visibility = "";
this.setStyle(s);
this.setAttributes(h);
_.bindIFrame(this);
}
var _ = i(30), l = i(17), d = i(25), u = i(18);
t.prototype = a(l.prototype);
t.prototype.destroy = function() {
_.unbindIFrame(this);
this.defaultPlacement && this.defaultPlacement.destroy();
l.prototype.destroy.call(this);
};
s(t, "jx_ui_IFrame");
return t;
}();
}).call(e, i(20), i(7), i(6), i(22), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r) {
t.exports = function() {
function t(i, o, r, s, _) {
if (!(this instanceof t)) return new t(i, o, r, s, _);
if (e.bugs.noBoxSizing) {
var l = this.table = new a(i, null, null, null, {
tagName: "table"
}), d = this.tbody = new a(l, null, null, null, {
tagName: "tbody"
}), u = this.tr = new a(d, null, null, null, {
tagName: "tr"
}), c = this.td = new a(u, null, null, null, {
tagName: "td"
}), h = this;
this.table.destroy = function() {
h.destroy();
};
this.table.empty = function() {
h.empty();
};
this.setPadding = function(t) {
this.td.setPadding(t);
return this;
};
this.show = function() {
this.table && this.table.show();
return this;
};
this.hide = function() {
this.table && this.table.hide();
return this;
};
a.call(this, c, o, r, s, _);
l.style.tableLayout = "fixed", l.style.borderCollapse = "collapse";
d.style.height = d.style.width = this.style.height = this.style.width = "100%";
l.setTop(0).setLeft(0).setWidth("100%").setHeight("100%").setPosition("absolute").applyConstraints();
this.style.position = "relative", this.style.overflow = "auto";
l.defaultPlacement = this;
} else {
this.setPadding = function(t) {
if (!n(t)) return this;
t = t.split(" ");
t[0] = parseInt(t[0], 10);
t[1] = parseInt(t[1], 10);
t[2] = parseInt(t[2], 10);
t[3] = parseInt(t[3], 10);
if (isNaN(t[0])) t[3] = t[2] = t[1] = t[0] = 0; else if (isNaN(t[3])) if (isNaN(t[1])) t[3] = t[2] = t[1] = t[0]; else if (isNaN(t[2])) {
t[3] = t[1];
t[2] = t[0];
} else t[3] = t[1];
this.setTop(parseInt(t[0], 10)).setRight(parseInt(t[1], 10)).setBottom(parseInt(t[2], 10)).setLeft(parseInt(t[3], 10));
return this;
};
a.call(this, i, o, r, s, _);
this.setStyle({
top: 0,
bottom: 0,
left: 0,
right: 0,
overflow: "auto",
position: "absolute"
});
}
this.setStyle(r);
this.setAttributes(_);
}
var a = i(17);
t.prototype = o(a.prototype);
t.prototype.destroy = function() {
a.prototype.destroy.call(this);
if (this.table) {
a.prototype.empty.call(this.table);
this.table.empty = null;
a.prototype.destroy.call(this.table);
this.table = this.tbody = this.tr = this.td = null;
}
};
r(t, "jx_ui_FullFrame");
return t;
}();
}).call(e, i(7), i(19), i(14), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t() {
m = O.throttle(r, 2e3);
$ = O.debounce(a, 100);
b = P.root.$("livechat");
w = b.$("channel");
x = w.$("chatting$bool");
j = w.$("log");
y = w.$("rating$string");
v = w.$("last_read");
S = b.$("profile").$("nick$string");
A = b.$("ui").$("chat_button").$("unread_count$int");
k = 0;
T = 0;
B = 0;
N = [];
w.on("value", function(t) {
null === t && (D = E = void 0);
});
S.on("value", function(t) {
if (t && t !== I) {
I && v.$(I).$("timestamp$int").un("value", l);
I = t;
v.$(t).$("timestamp$int").on("value", l);
}
});
x.on("value", d);
j.on("value", function(t) {
C = t;
});
j.on("keys", o);
}
function o(t) {
if (t && t.length && I) {
for (var e, i, n, o, r = 0, a = t.length; r < a; r++) {
e = C[t[r]];
if (e) {
i = e.timestamp$int;
n = e.type$string;
o = e.nick$string;
i > T && (T = i);
switch (n) {
case "chat.comment":
w.update({
last_comment_ts$int: i
});
break;

case "chat.rating":
w.update({
last_rating_ts$int: i
});
break;

case "chat.memberjoin":
case "chat.join":
L.isAgentNick(o) && u(i);
break;

case "chat.memberleave":
L.isAgentNick(o) ? c(i) : f(i);
break;

case "chat.mention":
case "chat.msg":
o != I && N.indexOf(i) === -1 && N.push(i);
_(i, o, t[r]);

default:
L.isAgentNick(o) && 0 === k && u(i);
}
}
}
$();
}
}
function r() {
x.getValue() && b.$("ui").$("chat").write({
read_ts$int: T
});
}
function a() {
for (;N[0] <= B; ) N.shift();
A.update(N.length);
}
function s() {
A.update(0);
N = [];
m();
}
function _(t, e, i) {
if (e != I) {
if (!E) {
E = t;
w.update({
first_account_msg_id$string: i,
first_account_msg_ts$int: t
});
}
} else if (!D) {
D = t;
w.update({
first_visitor_msg_ts$int: t
});
}
}
function l(t) {
if (!e(t, !0)) {
B = t;
T > 0 && $();
}
}
function d(t) {
if (t === !1) {
s();
w.getValue("served$bool") && p();
}
}
function u(t) {
k++;
h(t);
}
function c(t) {
k = Math.max(k - 1, 0);
h(t);
}
function h(t) {
if (0 === k) w.update({
last_agent_leave_ts$int: t
}); else {
1 === k && w.update({
served$bool: !0
});
w.getValue("last_agent_leave_ts$int") && w.update({
last_agent_leave_ts$int: null
});
}
}
function f() {
p();
}
function p() {
k = 0;
w.update({
served$bool: !1,
first_visitor_msg_ts$int: null,
first_account_msg_ts$int: null,
first_account_msg_id$string: null,
last_agent_leave_ts$int: null,
last_comment_ts$int: null,
last_rating_ts$int: null
});
D = E = void 0;
T = B = 0;
N = [];
}
function g() {
p();
I = void 0;
}
var m, $, b, w, x, v, y, j, C, A, S, I, k, B, N, T, E, D, O = i(55), P = i(40), L = i(48), W = {
init: t,
resetUnreadCount: s,
updateUnreadCount: $,
resetState: g
};
n(W, "meshim_widget_controllers_ChatLogListener");
return W;
}();
}).call(e, i(10), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__meshim_widget_widgets_ViewStack = i(87);
e.__$$__meshim_widget_components_chatWindow_NewChatForm = i(89);
e.__$$__meshim_widget_components_chatWindow_PreChatOfflineForm = i(131);
e.__$$__meshim_widget_components_chatWindow_ChatPanel = i(188);
e.__$$__meshim_widget_components_chatWindow_PostChatForm = i(249);
e.__$$__meshim_widget_components_chatWindow_CookieForm = i(254);
e.__$$__meshim_widget_components_chatWindow_CardForm = i(258);
e.__$$__meshim_widget_components_chatWindow_AgentList = i(259);
e.__$$__meshim_widget_components_chatWindow_AboutPanel = i(261);
e.__$$__meshim_widget_components_chatWindow_RatingPanel = i(262);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_ViewStack, "", "", [ [ e.__$$__meshim_widget_components_chatWindow_NewChatForm, "", "", [], {
name: "new_chat_form",
addClass: "stack_child_mini     stack_child_no_menu force_dock"
} ], [ e.__$$__meshim_widget_components_chatWindow_PreChatOfflineForm, "", "", [], {
name: "pre_chat_offline_form",
addClass: "stack_child_standard stack_child_no_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_ChatPanel, "", "", [], {
name: "chat_panel",
addClass: "stack_child_standard"
} ], [ e.__$$__meshim_widget_components_chatWindow_PostChatForm, "", "", [], {
name: "post_chat_form",
addClass: "stack_child_standard stack_child_no_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_CookieForm, "", "", [], {
name: "cookie_form",
addClass: "stack_child_standard stack_child_no_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_CardForm, "", "", [], {
name: "card_form",
addClass: "stack_child_standard stack_child_no_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_AgentList, "", "", [], {
name: "agent_list",
addClass: "stack_child_standard stack_child_no_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_AboutPanel, "", "", [], {
name: "about_panel",
addClass: "stack_child_standard stack_child_no_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_RatingPanel, "", "", [], {
name: "rating_panel",
addClass: "stack_child_standard stack_child_no_menu"
} ] ], {
"xmlns:ui": "jx.ui",
"xmlns:chatWindow": "meshim.widget.components.chatWindow",
"xmlns:widgets": "meshim.widget.widgets",
addClass: "main_stack",
onChildHide: "-1"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
var t = i(95);
t.popout(h);
t.mobile(h);
t.windowPosition(h, "ms_");
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__meshim_widget_widgets_ViewStack.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ViewStack;
t.__jx__jcss = {
"**self": {
overflow: "hidden",
boxShadow: "$$windowShadow"
},
"&.ms_br, &.ms_bm, &.ms_bl": {
"borderTopLeftRadius, borderTopRightRadius": "$$windowRadius"
},
"&.ms_tr, &.ms_tm, &.ms_tl": {
"borderBottomLeftRadius, borderBottomRightRadius": "$$windowRadius"
},
"&.popout": {
margin: "0 auto",
maxWidth: "650px",
minWidth: "240px",
minHeight: "335px",
height: "100%",
borderRadius: "0"
},
"&.mobile": {
"minWidth, minHeight": "0",
maxWidth: "none"
}
};
a(t, "meshim_widget_components_chatWindow_MainStack");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
var t = i(88), r = t;
t = function(i, n, o, a, s) {
if (!(this instanceof t)) return new t(i, n, o, a, s);
if (!t.__jx__jcss_generated) {
e.generate(this, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
s || (s = {});
r.call(this, i, n, o, a, s);
};
t.__jx__jcss = {
"**self": {
"width, height": "100%"
}
};
t.prototype = n(r.prototype);
t.prototype.__jx__super = r;
o(t, "meshim_widget_widgets_ViewStack");
return t;
}();
}).call(e, i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
t.exports = function() {
function t(e, i, n, o, r) {
if (!(this instanceof t)) return new t(e, i, n, o, r);
_.call(this, e, i, n, o, r);
this.index = void 0;
this.length = 0;
this.currentChild = null;
var a = this;
this._onChildHide = function() {
switch (a.onChildHide) {
case "next":
a.next(!0);
break;

case "prev":
a.prev(!0);
break;

case "first":
a.first(!0);
break;

case "last":
a.last(!0);
break;

default:
var t = parseInt(a.onChildHide, 10);
if (isNaN(t)) break;
a.setIndex(t, !0);
}
};
this.onDestruction(function() {
a.currentChild = null;
});
}
var _ = i(17);
t.prototype = e(_.prototype);
t.prototype.addChildren = function(t) {
var e = t && t.length;
if (t && e) for (var i = 0; i < e; i++) n(t[i]) && this.appendChild(t[i]);
};
t.prototype.appendChild = function(t) {
var e = !1;
if (n(t)) {
this.children.push(t);
t[4] && (e = o(t[4].forceInstantiate));
} else if (t.dom) {
_.prototype.appendChild.call(this, t);
t.setVisible("none");
} else this.dom.appendChild(t);
e && this.instantiateChild(t);
return t;
};
t.prototype.removeChild = function(t) {
try {
if (n(t)) ; else if (t.dom) {
this.dom.removeChild(t.dom);
t.parentNode = null;
} else this.dom.removeChild(t);
var e = r(t, this.children);
e != -1 && this.children.splice(e, 1);
} catch (i) {}
};
t.prototype.setIndex = function(t, e) {
t = parseInt(t, 10);
if (this.validIndex(t) && t != this.index) {
var i, o = this.currentChild;
if (!e && (o ? o.fire("beforeIndexChange", t) : 1) + this.fire("beforeIndexChange", t) < 2) return !1;
if (o) {
this.autounbind(o, "hide", this._onChildHide);
o.setVisible("none");
}
this.fire("indexChanging", t);
if (t == -1) {
this.currentChild = null;
this.index = t;
this.fire("indexChange", t);
return !0;
}
o = this.children[t];
if (n(o)) {
o = this.instantiateChild(o);
i = !0;
}
o.setVisible("block");
this.autobind(o, "hide", this._onChildHide);
this.currentChild = o;
this.index = t;
i && this.fire("instantiate", t);
this.fire("indexChange", t);
return !0;
}
};
t.prototype.instantiateChild = function(t) {
if (n(t)) {
var e = r(t, this.children);
if (e != -1) {
t = new t[0](this, t[1], t[2], t[3], t[4]);
this.children[e] = t;
this.children.pop();
return t;
}
}
};
t.prototype.validIndex = function(t) {
return null != t && t < this.getLength() && t >= -1;
};
t.prototype.next = function(t) {
return a(this.index, !0) ? this.setIndex(0, t) : this.setIndex(this.index + 1, t);
};
t.prototype.prev = function(t) {
return a(this.index, !0) ? this.setIndex(this.getLength() - 1, t) : this.setIndex(Math.max(this.index - 1, 0), t);
};
t.prototype.first = function(t) {
return this.setIndex(0, t);
};
t.prototype.last = function(t) {
return this.setIndex(this.getLength() - 1, t);
};
t.prototype.getName = function() {
return this.currentChild && this.currentChild.getName();
};
t.prototype.setName = function(t) {
if (!t) return this.setIndex(-1);
for (var e = 0, i = this.children.length; e < i; e++) if (n(this.children[e])) {
if (this.children[e][4] && this.children[e][4].name === t) return this.setIndex(e);
} else if (this.children[e].getName && this.children[e].getName() === t) return this.setIndex(e);
};
t.prototype.isFirst = function() {
return this.index <= 0;
};
t.prototype.isLast = function() {
return this.index >= this.getLength() - 1;
};
t.prototype.getLength = function() {
return this.children.length;
};
t.prototype.getChildren = function() {
return this.children;
};
t.prototype.getCurrentChild = function() {
return this.currentChild;
};
t.prototype.getIndex = function() {
return this.index;
};
t.prototype.getOnChildHide = function() {
return this.onChildHide;
};
t.prototype.setOnChildHide = function(t) {
this.onChildHide = t;
return this;
};
s(t, "jx_ui_ViewStack");
return t;
}();
}).call(e, i(14), i(21), i(16), i(24), i(10), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(90);
e.__$$__meshim_widget_widgets_AbsolutePaddingContainer = i(122);
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_components_chatWindow_newChatForm_Banner = i(123);
e.__$$__meshim_widget_components_chatWindow_newChatForm_Branding = i(125);
e.__$$__meshim_widget_widgets_IconFont = i(96);
e.__$$__jx_ui_Form = i(118);
e.__$$__meshim_widget_components_chatWindow_newChatForm_TextField = i(126);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = o(116), h = o(117), f = o(118), p = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__meshim_widget_widgets_AbsolutePaddingContainer, "", "", [ [ e.__$$__jx_ui_Widget, "content", "", [ [ e.__$$__meshim_widget_components_chatWindow_newChatForm_Banner, "banner", "", [], {
id: "banner",
addClass: "banner"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_chatWindow_newChatForm_Branding, "", "", [], {
addClass: "branding"
} ] ], {
addClass: "branding_container"
} ], [ e.__$$__meshim_widget_widgets_IconFont, "close", "", [], {
id: "close",
addClass: "close",
icon: "minimize",
title: c
} ] ], {
id: "content",
addClass: "content"
} ], [ e.__$$__jx_ui_Form, "form", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "submit", "", [], {
id: "submit",
icon: "send",
addClass: "send",
title: h
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_chatWindow_newChatForm_TextField, "input", "", [], {
id: "input",
addClass: "input",
autocomplete: "false",
placeholder: f,
tabIndex: "10"
} ] ], {
"class": "input_wrapper"
} ] ], {
id: "form",
addClass: "form",
noValidate: "true"
} ], [ e.__$$__jx_ui_Widget, "disabled_overlay", "", [], {
id: "disabled_overlay",
"class": "disabled_overlay",
visible: "none"
} ] ], {
absPaddingBottom: "badgeFormHeight"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:components": "meshim.widget.components",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatWindow": "meshim.widget.components.chatWindow",
"xmlns:newChatForm": "meshim.widget.components.chatWindow.newChatForm",
miniSize: "true",
titleBar: "none",
actionBar: "none",
addClass: "mini"
} ], g = p[0].call(this, a, s, null, n.mangleIDs(s, p[3]), p[4]), m = g || this;
n.set(s, m);
var $ = n.get(s + "__content"), b = n.get(s + "__banner"), w = n.get(s + "__close"), x = n.get(s + "__form"), v = n.get(s + "__submit"), y = n.get(s + "__input"), j = n.get(s + "__disabled_overlay");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var C = function() {
function t() {
d.rtl(m);
d.windowPosition(m);
l.hoverFix(m);
m.autobind(g, "value", function(t) {
r = t;
});
m.autobind(A, "value", function(t) {
a = t;
});
m.autobind(I, "value", function(t) {
b[t ? "addClass" : "removeClass"]("hide_branding");
});
m.autobind(k, "value", function(t) {
"image_only" == t ? b.addClass("image_only") : b.removeClass("image_only");
});
x.on("submit", function(t) {
t.preventDefault();
e();
});
v.on("click", function() {
e();
});
w.on("click", function(t) {
t.stopPropagation();
_.userHideBanner();
});
$.on("click", n);
j.on("click", n);
m.autobind(B, "value", function(t) {
if ("idle_disconnect" === t) {
x.setDisabled(!0);
j.show();
} else {
x.setDisabled(!1);
j.hide();
}
});
}
function e() {
if (!x.getDisabled()) {
var t = y.getValue().trim();
if (t) {
y.reset();
o(t);
} else y.focus();
}
}
function n() {
var t = y.getValue().trim();
t && f.update(t);
y.reset();
p.write({
button_clicked$bool: !0
});
o();
}
function o(t) {
_.setBannerUserHidden();
if (r && !a) {
C.update(t || "");
S.update(!0);
h.update("pre_chat_offline_form");
} else {
t && s.livechat.sendChatMsg({
msg: t
});
h.update("chat_panel");
}
}
var r, a, s = i(40), _ = i(109), l = i(48), d = i(95), u = s.root, c = u.$("livechat"), h = c.$("ui").$("chat_window").$("main_stack_name$string"), f = c.$("ui").$("chat_window").$("chat_panel").$("textarea").$("value$string"), p = c.$("ui").$("chat_button"), g = c.$("settings").$("forms").$("pre_chat_form").$("required$bool"), C = c.$("settings").$("forms").$("pre_chat_form").$("form").$("3").$("value_user$string"), A = c.$("ui").$("chat_window").$("pre_chat_form").$("submitted$bool"), S = c.$("ui").$("chat_window").$("pre_chat_form").$("form_populate$bool"), I = c.$("settings").$("branding").$("hide_branding$bool"), k = c.$("settings").$("banner").$("layout$string"), B = u.$("connection").$("status$string");
t();
}();
for (var A in C) C.hasOwnProperty(A) && (m[A] = C[A]);
m.fire && m.fire("init");
m.setStyle && m.setStyle(l);
m.setAttributes && m.setAttributes(u);
"function" == typeof m.addChildren ? m.addChildren(d) : n.addChildren(m, d);
if (m !== this) {
m.__jx__constructor = _;
m.__jx__native = !1;
}
return m;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {
".container": {
background: "$$badgeBg",
borderWidth: "$$badgeBorderWidth",
borderStyle: "$$badgeBorderStyle",
borderColor: "$$badgeBorderColor"
},
".content": {
width: "100%",
height: "100%",
overflow: "hidden",
color: "$$badgeContentColor",
background: "$$badgeContentBg",
borderWidth: "$$badgeContentBorderWidth",
borderStyle: "$$badgeContentBorderStyle",
borderColor: "$$badgeContentBorderColor"
},
".banner": {
width: "100%",
height: "100%",
position: "relative",
cursor: "pointer",
fontSize: "1.5em",
padding: "20px 10px 10px",
"&.hide_branding": {
paddingTop: "10px"
},
"&.image_only": {
padding: "0"
}
},
".branding_container": {
position: "absolute",
top: "6px",
left: 0,
width: "100%",
textAlign: "center",
cursor: "pointer",
".branding": {
cursor: "pointer"
}
},
".close": {
position: "absolute",
cursor: "pointer",
opacity: 0,
transition: "opacity 0.2s",
"top, right": 0,
padding: "9px 10px 2px 2px"
},
"&.rtl .close": {
left: "6px",
right: "auto",
padding: "3px 2px 2px 4px"
},
"&.hover, &:hover": {
".close": {
opacity: 1
}
},
".send": {
"float": "right",
fontSize: "$$fontSizeXXL",
padding: "5px",
margin: "5px",
color: "$$badgeIconColor",
opacity: "0.8",
cursor: "pointer",
"&:hover": {
opacity: "1"
},
"&.disabled": {
cursor: "default",
"&:hover": {
opacity: "0.8"
}
}
},
".form, .disabled_overlay": {
position: "absolute",
"bottom, left": "0",
width: "100%",
height: "$$badgeFormHeight"
},
".disabled_overlay": {
cursor: "pointer"
},
".form": {
overflow: "hidden",
"*zoom": 1,
background: "$$badgeFormBg",
borderWidth: "$$badgeFormBorderWidth",
borderStyle: "$$badgeFormBorderStyle",
borderColor: "$$badgeFormBorderColor",
"&.disabled": {
opacity: "0.5"
},
".input_wrapper": {
display: "block",
overflow: "hidden",
"*width": "165px",
".input": {
width: "100%",
height: "100%",
position: "relative",
"*width": "165px",
"*overflow": "hidden"
}
},
".button": {
"*width": "60px"
}
},
"&.ltr .form": {
".input": {
paddingRight: 0
},
".button": {
"float": "right"
}
},
"&.rtl .form": {
".input": {
paddingLeft: 0
},
".button": {
"float": "left"
}
},
"&.br, &.bm, &.bl": {
".content": {
"borderTopLeftRadius, borderTopRightRadius": "$$windowRadius"
}
},
"&.tr, &.tm, &.tl": {}
};
s(t, "meshim_widget_components_chatWindow_NewChatForm");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s, _) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_widgets_Branding = i(91);
t.exports = function() {
function t(s, _, d, u, c) {
if (!(this instanceof t)) return new t(s, _, d, u, c);
_ = _ || n.generateID();
var h = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "container_and_brand_wrapper", "", [ [ e.__$$__jx_ui_Widget, "$$defaultplacement$$", "", [], {
container: "default",
addClass: "container",
id: "$$defaultplacement$$"
} ], [ e.__$$__meshim_widget_widgets_Branding, "branding", "", [], {
id: "branding",
addClass: "chat_window_panel_branding",
hideOnDesktop: "true"
} ] ], {
id: "container_and_brand_wrapper",
addClass: "container_and_brand_wrapper"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], f = h[0].call(this, s, _, null, n.mangleIDs(_, h[3]), h[4]), p = f || this;
n.set(_, p);
var g = n.get(_ + "__container_and_brand_wrapper"), m = n.get(_ + "__$$defaultplacement$$"), $ = n.get(_ + "__branding");
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
p.defaultPlacement = m;
var b = function() {
function t() {
l.rtl(p);
p.autobind(y, "value", o);
e();
}
function e() {
var t;
if (v) {
t = "free_flow_with_fixed_titlebar_layout";
d.isStyleSupported("overflow-scrolling") && n();
} else t = w ? "free_flow_layout" : "full_frame_layout";
if (t !== e.lastClassName) {
p.removeClass(e.lastClassName);
p.addClass(t);
e.lastClassName = t;
}
}
function n() {
function t() {
g.setCSSStyle("webkitOverflowScrolling", "auto");
setTimeout(function() {
g.setCSSStyle("webkitOverflowScrolling", "touch");
}, 50);
}
p.autobind(b.$("chat_window").$("display$bool"), "value", function(e) {
e && t();
});
}
function o() {
var t;
t = s ? "cwp_mini" : w || x ? "cwp_full" : "cwp_" + y.getValue();
if (t !== o.lastClassName) {
p.removeClass(o.lastClassName);
p.addClass(t);
o.lastClassName = t;
}
}
var s, _ = i(40), l = i(95), d = i(48), u = i(99), c = i(112), h = i(113), f = i(114), m = _.root, b = m.$("livechat").$("ui"), w = b.getValue("mobile$bool"), x = b.getValue("popout$bool"), v = b.getValue("mobile_overlay$bool"), y = m.$("livechat").$("settings").$("theme").$("chat_window").$("size$string");
p.setTitleBar = function(t) {
if (!p.titleBar) {
var e = t.split(",");
if (r("none", e) == -1) {
p.titleBar = new u(p);
p.addClass("has_title_bar");
for (var i = 0, n = e.length; i < n; i++) switch (e[i]) {
case "hidePopout":
p.titleBar.setHidePopout(!0);
}
} else {
p.titleBar = !0;
p.removeClass("has_title_bar");
}
}
};
p.getDraggableNode = function() {
return p.titleBar instanceof u ? p.titleBar : null;
};
p.setActionBar = function(t) {
if (!p.actionBar) {
var e = t.split(",");
if (r("none", e) == -1) if (w) {
if (r("default", e) != -1) {
p.actionBar = new h(p);
p.actionBar.addClass("mobile_options_menu_icon");
}
} else {
p.addClass("has_action_bar_at_bottom");
r("default", e) != -1 ? p.actionBar = new f(p) : p.actionBar = new c(p);
} else {
p.actionBar = !0;
p.removeClass("has_action_bar_at_bottom");
}
}
};
p.setMiniSize = function(t) {
s = a(t);
o();
};
p.setHideBrandingMobile = function(t) {
t = a(t);
w && t ? $.addClass("hidden") : $.removeClass("hidden");
};
t();
}();
for (var w in b) b.hasOwnProperty(w) && (p[w] = b[w]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(d);
p.setAttributes && p.setAttributes(c);
"function" == typeof p.addChildren ? p.addChildren(u) : n.addChildren(p, u);
if (p !== this) {
p.__jx__constructor = l;
p.__jx__native = !1;
}
return p;
}
var l;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative",
margin: "$$chatWindowPanelMargin"
},
".container": {
position: "relative",
background: "$$windowContentBg",
borderWidth: "$$windowContentBorderWidth",
borderStyle: "$$windowContentBorderStyle",
borderColor: "$$windowContentBorderColor"
},
".mobile_options_menu_icon": {
position: "absolute",
zIndex: "102"
},
".chat_window_panel_branding": {
display: "block",
padding: "5px",
margin: "10px 0",
textAlign: "center",
"&.hidden": {
display: "none !important"
}
},
".container_and_brand_wrapper": {
"width, height": "100%"
},
"&.full_frame_layout": {
overflow: "hidden",
"width, height": "100%",
".container": {
"width, height": "100%",
overfow: "hidden"
}
},
"&.free_flow_layout": {
overflow: "auto",
"width, height": "auto",
".container": {
"width, height": "auto"
}
},
"&.free_flow_with_fixed_titlebar_layout": {
overflow: "hidden",
"width, height": "100%",
".container_and_brand_wrapper": {
overflow: "auto",
"-webkit-overflow-scrolling": "touch"
},
".container": {
"width, height": "auto"
}
},
"&.has_title_bar": {
paddingTop: "$$titleBarHeight"
},
"&.has_action_bar_at_bottom": {
paddingBottom: "$$actionBarHeight"
},
"&.cwp_small": {
width: "$$windowSmallWidth",
height: "$$windowSmallHeight"
},
"&.cwp_medium": {
width: "$$windowMediumWidth",
height: "$$windowMediumHeight"
},
"&.cwp_large": {
width: "$$windowLargeWidth",
height: "$$windowLargeHeight"
},
"&.cwp_full": {
"width, height": "100%"
},
"&.cwp_mini": {
width: "$$windowMiniWidth",
height: "$$windowMiniHeight"
},
"&.ltr": {
".mobile_options_menu_icon": {
"top, left": 0
}
},
"&.rtl": {
".mobile_options_menu_icon": {
"top, right": 0
}
}
};
_(t, "meshim_widget_widgets_ChatWindowPanel");
l = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(24), i(16), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__jx_ui_Widget = i(17);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], h = c[0].call(this, a, s, null, n.mangleIDs(s, c[3]), c[4]), f = h || this;
n.set(s, f);
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
f.autobind(g, "value", e);
f.autobind(p, "value", n);
f.autobind(m, "value", o);
}
function e() {
var t = g.getValue(), e = c[t];
if (e && !(a instanceof e)) {
a && a.destroy();
a = new e(f);
}
}
function n() {
var t = p.getValue();
t && s ? f.setDisplay("none") : t || !_ ? f.setDisplay("") : f.setDisplay("none");
}
function o(t) {
f.setVisibility(t ? "hidden" : "");
}
var a, s, _, l = i(40), d = i(92), u = i(98), c = {
icon_font_zopim: d,
icon_font_zendesk: u
}, h = l.root.$("livechat"), p = h.$("ui").$("mobile$bool"), g = h.$("settings").$("theme").$("branding").$("type$string"), m = h.$("settings").$("branding").$("hide_branding$bool");
f.setHideOnMobile = function(t) {
s = r(t);
n();
};
f.setHideOnDesktop = function(t) {
_ = r(t);
n();
};
t();
}();
for (var g in p) p.hasOwnProperty(g) && (f[g] = p[g]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = a(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
display: "inline-block",
color: "$$brandingLinkColor"
}
};
s(t, "meshim_widget_widgets_Branding");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(16), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_branding_Link = i(93);
e.__$$__meshim_widget_widgets_IconFont = i(96);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = [ e.__$$__meshim_widget_widgets_branding_Link, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "zendesk_2016"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], h = c[0].call(this, a, s, null, n.mangleIDs(s, c[3]), c[4]), f = h || this;
n.set(s, f);
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
f.autobind(d, "value", n);
f.autobind(u, "value", n);
if (r && r.onLanguage) {
r.onLanguage(e);
f.onDestruction(function() {
r.unLanguage(e);
});
}
e();
}
function e() {
n(), f.setTitle(_.branding.title_golion);
}
function n() {
var t = d.getValue() ? o().get("hostname") : window.location.hostname, e = {
utm_campaign: "Iref",
utm_source: t,
utm_medium: "widget",
utm_term: "new-widget",
utm_content: u.getValue(),
iref: u.getValue(),
lang: r.language
}, i = o.buildQuery(e);
f.setHref([ a.BRANDING_URL, "?", i ].join(""));
}
var o = i(28), a = i(42), s = i(40), _ = i(97), l = s.root.$("livechat"), d = l.$("ui").$("popout$bool"), u = l.$("account").$("key$string");
t();
}();
for (var g in p) p.hasOwnProperty(g) && (f[g] = p[g]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_branding_Link.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_branding_Link;
t.__jx__jcss = {
"**self": {
fontSize: "10px"
},
"&.mobile": {
fontSize: "11px"
},
".meshim_widget_widgets_IconFont": {
lineHeight: "inherit",
paddingTop: "2px",
paddingRight: "1px"
}
};
s(t, "meshim_widget_widgets_branding_ZopimGolion");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(22), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_html_a = i(94);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_html_a, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
target: "_blank"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
n.mobile(h);
r.getValue() && h.on("click", function(t) {
t.preventDefault();
window.open(h.getAttribute("href"));
});
}
var e = i(40), n = i(95), o = e.root.$("livechat"), r = o.$("ui").$("mobile$bool");
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_html_a.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_a;
t.__jx__jcss = {
"**self": {
color: "inherit",
textDecoration: "inherit"
},
"&.mobile": {}
};
a(t, "meshim_widget_widgets_branding_Link");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(e, i, n, r, a) {
if (!(this instanceof t)) return new t(e, i, n, r, a);
a || (a = {});
a.tagName = "a";
o.call(this, e, i, n, r, a);
}
var o = i(18);
t.prototype = e(o.prototype);
n(t, "jx_ui_html_a");
return t;
}();
}).call(e, i(14), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t() {
var t = _.root, i = t.$("livechat").$("ui").$("mobile$bool"), n = t.$("livechat").$("ui").$("popout$bool"), r = t.$("livechat").$("ui").$("mockup$bool"), s = t.$("livechat").$("ui").$("tablet$bool");
l.popout = a(n);
l.mockup = a(r);
l.tablet = a(s);
l.mobile = function(t) {
var e = i.getValue();
if (e) {
t.addClass("mobile");
t.removeClass("desktop");
} else {
t.addClass("desktop");
t.removeClass("mobile");
}
};
l.rtl = function(t) {
function i() {
e.unLanguage(n);
}
function n() {
if (e.rtl()) {
t.addClass("rtl");
t.removeClass("ltr");
} else {
t.addClass("ltr");
t.removeClass("rtl");
}
}
if (e && e.onLanguage) {
e.onLanguage(n);
n();
t.onDestruction(i);
} else t.addClass("ltr");
};
l.windowPosition = o(t.$("livechat").$("settings").$("theme").$("chat_window").$("position$string"));
l.windowPositionMobile = o(t.$("livechat").$("settings").$("theme").$("chat_window").$("position_mobile$string"));
l.windowSize = o(t.$("livechat").$("settings").$("theme").$("chat_window").$("size$string"));
l.buttonPosition = o(t.$("livechat").$("settings").$("theme").$("chat_button").$("position$string"));
}
function o(t, e) {
e = e || "";
return function(i, n, o) {
n = n || "";
i.autobind(t, "value", r(i, e + n, o));
};
}
function r(t, e, i) {
var n;
return function(o) {
if (n != o) {
n && t.removeClass(e + n);
n = o;
n && t.addClass(e + n);
"function" == typeof i && i(n);
}
};
}
function a(t, e) {
e = e || t.name.split("$")[0];
return function(i, n) {
i.autobind(t, "value", s(i, e, n));
};
}
function s(t, e, i) {
return function(n) {
t[n ? "addClass" : "removeClass"](e);
"function" == typeof i && i(n);
};
}
var _ = i(40), l = {};
_.afterInit(t);
n(l, "meshim_widget_utils_BindClass");
return l;
}();
}).call(e, i(22), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
t.exports = function() {
function t(r, a, s, _, l) {
if (!(this instanceof t)) return new t(r, a, s, _, l);
a = a || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
selectable: "false",
"class": "icon_font"
} ], u = d[0].call(this, r, a, null, n.mangleIDs(a, d[3]), d[4]), c = u || this;
n.set(a, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = function() {
var t = {
zopim: "&#xe000;",
message: "&#x1f4ac;",
tick: "&#x2714;",
cross: "&#x2716;",
popout: "&#x2197;",
popin: "&#x2199;",
minimize: "&#x2212;",
plus: "&#x002b;",
smiley: "&#x263a;",
happy: "&#xe001;",
happier: "&#xe002;",
sad: "&#xe003;",
thumbsup: "&#x1f44d;",
thumbsdown: "&#x1f44e;",
sadder: "&#xe004;",
brand: "&#xe005;",
brand_suffix: "&#xe006;",
brand_extended: "&#xe005;&#xe006;",
avatar_placeholder: "&#xe007;",
email: "&#x1f4e7;",
facebook: "&#xe008;",
twitter: "&#xe009;",
google: "&#xe00a;",
facebook_out: "&#xe00d;",
twitter_out: "&#xe00c;",
google_out: "&#xe00b;",
badge_default: "&#xe00e;",
warning_sign: "&#x26a0;",
arrow_left: "&#x2190;",
arrow_up: "&#x2191;",
arrow_down: "&#x2193;",
arrow_down_long: "&#x21e9;",
arrow_right: "&#x2192;",
pencil: "&#x270e;",
dustbin: "&#xe00f;",
sound_on: "&#x1f50a;",
sound_off: "&#x1f507;",
send: "&#x000BB;",
upload: "&#x21e7;",
exclamation: "&#x0021;",
brand_zendesk: "&#xe010;",
google_2016: "&#xe011;",
google_2016_out: "&#xe012;",
paperclip: "&#x1f4ce;",
picture: "&#x1f5bc;",
zendesk_2016: "&#xe013;",
zendesk_chat_2016: "&#xe014;"
};
c.setIcon = function(e) {
c.setHTML(t[e] || e || "");
};
c.setFont = function(t) {
c.setFontFamily(t || "");
};
}();
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(s);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
fontFamily: 'zopim, "Segoe UI Symbol", "Arial Unicode MS", "Lucida Sans Unicode", sans-serif',
speak: "none",
fontStyle: "normal",
fontWeight: "normal",
lineHeight: 1,
WebkitFontSmoothing: "antialiased"
},
"&:focus": {
outline: "none"
}
};
a(t, "meshim_widget_widgets_IconFont");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
var t, o = i(40), r = i(43), a = i(48), s = i(41), _ = e(4), l = e(5), d = "Zendesk Chat", u = e(6), c = e(7);
t = {
get: function(t) {
if (!t) return "";
var e, i;
if (t instanceof s) {
e = t.getValue();
i = a.descendsObj(r, t.path().slice(1).join("."));
} else {
e = o.root.$$(t).getValue();
i = a.descendsObj(r, t);
}
return (e && e.toString(10)) == (i && i.toString(10)) ? i : e || "";
},
status: {
online: e(8),
away: e(9),
offline: e(10)
},
error_message: {
text: e(11),
email: e(12),
textarea: e(13),
select: e(14),
radio: e(15),
checkbox: e(16),
checkbox_multiple: e(17),
department: e(18),
"default": e(19)
},
placeholder: {
phone: e(20)
},
end_chat_menu_message: e(21),
external_login: {
facebook: e(22),
twitter: e(23),
google: e(24)
},
chat_log: {
"chat.memberjoin": e(25),
"chat.memberleave": e(26),
"chat.changename": e(27),
"chat.visitorjoin": e(28),
"chat.visitorleave": e(29),
"chat.comment": e(30),
"chat.rating": {
good: e(31),
bad: e(32),
cancel: e(33)
}
},
chat_panel: {
name_is_typing: e(34),
names_are_typing: e(35),
agents_are_typing: e(36),
chattextarea_placeholder: e(37),
sendbutton_text: e(38),
new_message_below: e(39),
new_messages_below: e(40)
},
chat_button: {
unread_one: e(41),
unread_many: e(42),
mobile_greeting: {
online: e(43),
offline: e(44)
}
},
chat_notification: {
attachment: e(45)
},
connection_status: {
reconnecting: e(46),
idle_disconnect: e(47),
disconnected: e(48),
resuming: e(49),
fast_init: e(50)
},
cookie_law: {
disabled: e(51),
disabled_mobile: e(52),
request_use_cookies: e(53),
privacy_policy: e(54),
request_use_cookies_golion: l
},
popout_title: e(55),
popout_title_golion: d,
profile: {
unlink: e(56)
},
system_msg: {
queue: c
},
branding: {
title: e(57),
title_zendesk: "Zendesk",
title_golion: u
},
pre_chat_offline_form: {
button_message: e(58),
button_chat: e(59),
department_any: e(60),
department_any_required: e(61),
button_disabled: e(62),
operating_hours: {
closed: e(63),
period: e(64)
}
},
file_upload: {
error: {
size: e(65),
type: e(66),
disabled: e(67),
"default": e(68)
}
},
set_assignee: {
error: {
"default": e(69),
zendesk_agent_not_found: _
}
},
datetime: {
days: [ e(70), e(71), e(72), e(73), e(74), e(75), e(76) ],
weekday: e(77),
weekend: e(78),
everyday: e(79),
all_day: e(80)
}
};
n(t, "meshim_widget_utils_Strings");
return t;
}();
}).call(e, i(22), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_branding_Link = i(93);
e.__$$__meshim_widget_widgets_IconFont = i(96);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = [ e.__$$__meshim_widget_widgets_branding_Link, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "zendesk_2016"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], h = c[0].call(this, a, s, null, n.mangleIDs(s, c[3]), c[4]), f = h || this;
n.set(s, f);
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
if (r && r.onLanguage) {
r.onLanguage(e);
f.onDestruction(function() {
r.unLanguage(e);
});
}
e();
}
function e() {
n();
f.setTitle(o.branding.title_zendesk);
}
function n() {
f.setHref("https://www.zendesk.com/embeddables/?utm_source=webwidgetchat&utm_medium=poweredbyzendesk&utm_campaign=image");
}
var o = i(97);
t();
}();
for (var g in p) p.hasOwnProperty(g) && (f[g] = p[g]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_branding_Link.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_branding_Link;
t.__jx__jcss = {
"**self": {
fontSize: "10px"
},
"&.mobile": {
fontSize: "11px"
},
".meshim_widget_widgets_IconFont": {
lineHeight: "inherit",
paddingTop: "2px",
paddingRight: "1px"
}
};
s(t, "meshim_widget_widgets_branding_ZendeskGolion");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(22), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s, _, l) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_widgets_BorderOverlay = i(100);
e.__$$__jx_ui_Label = i(101);
e.__$$__meshim_widget_widgets_IconFont = i(96);
e.__$$__meshim_widget_widgets_titleBar_MinimizeButton = i(102);
t.exports = function() {
function t(_, l, u, c, h) {
if (!(this instanceof t)) return new t(_, l, u, c, h);
l = l || n.generateID();
var f = o(200), p = o(201), g = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_BorderOverlay, "", "", [], {} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Label, "title_text", "", [], {
id: "title_text",
addClass: "title_text"
} ], [ e.__$$__jx_ui_Label, "status_text", "", [], {
id: "status_text",
addClass: "status_text",
display: "none"
} ] ], {
addClass: "title"
} ], [ e.__$$__jx_ui_Widget, "icons", "", [ [ e.__$$__jx_ui_Widget, "popout_container", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "popout_button", "", [], {
id: "popout_button",
icon: "popout",
title: f
} ] ], {
id: "popout_container",
addClass: "button_container"
} ], [ e.__$$__jx_ui_Widget, "minimize_container", "", [ [ e.__$$__meshim_widget_widgets_titleBar_MinimizeButton, "minimize_button", "", [], {
id: "minimize_button"
} ] ], {
id: "minimize_container",
addClass: "button_container last_child",
title: p
} ] ], {
id: "icons",
addClass: "icons"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:titleBar": "meshim.widget.widgets.titleBar",
"class": "title_bar",
selectable: "false"
} ], m = g[0].call(this, _, l, null, n.mangleIDs(l, g[3]), g[4]), $ = m || this;
n.set(l, $);
var b = n.get(l + "__title_text"), w = n.get(l + "__status_text"), x = n.get(l + "__icons"), v = n.get(l + "__popout_container"), y = n.get(l + "__popout_button"), j = n.get(l + "__minimize_container"), C = n.get(l + "__minimize_button");
if (!t.__jx__jcss_generated) {
r.generate(_, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var A = function() {
function t() {
A.mobile($);
A.rtl($);
A.windowPosition($);
$.autobind(T, "value", function(t) {
d = t;
e();
n();
$[t ? "addClass" : "removeClass"]("title_bar_popout");
});
$.autobind(I, "value", function() {
b.setText(m.get(I));
});
E && $.autobind(k, "value", function(t) {
t && C.setMobile(!0);
});
$.autobind(B, "value", function() {
r = B.getValue();
o();
});
$.autobind(D, "value", function(t) {
u = t;
o();
});
$.autobind(N, "value", function(t) {
_ = t;
e();
});
$.autobind(O, "value", function(t) {
c = t;
n();
});
$.autobind(P, "value", function(t) {
h = t;
e();
});
x.on("mousedown", function(t) {
t.stopPropagation();
});
v.on("click", function() {
p.openPopout(!0);
g.userHideWindow();
});
j.on("click", function() {
g.userHideWindow();
});
}
function e() {
var t = _ && !l && !d && !h && !s.bugs.noBoxSizing;
y.setDisplay(t ? "" : "none");
}
function n() {
var t = c || d;
j.setDisplay(t ? "none" : "");
t ? v.addClass("last_child") : v.removeClass("last_child");
}
function o() {
r && w.setText(m.get(B.$$(u + "$string")));
}
var r, _, l, d, u, c, h, f = i(40), p = i(107), g = i(109), m = i(97), A = i(95), S = f.root.$("livechat"), I = S.$("settings").$("chat_window").$("title_bar").$("title$string"), k = S.$("ui").$("theme_loaded$bool"), B = S.$("settings").$("chat_window").$("title_bar").$("status_messages"), N = S.$("settings").$("popout").$("enabled$bool"), T = S.$("ui").$("popout$bool"), E = S.$("ui").$("mobile$bool").getValue(), D = S.$("account").$("status$string"), O = S.$("settings").$("theme").$("chat_window").$("title_bar").$("hide_minimize$bool"), P = S.$("settings").$("theme").$("chat_window").$("title_bar").$("hide_popout$bool");
$.setHidePopout = function(t) {
l = a(t);
e();
};
t();
}();
for (var S in A) A.hasOwnProperty(S) && ($[S] = A[S]);
$.fire && $.fire("init");
$.setStyle && $.setStyle(u);
$.setAttributes && $.setAttributes(h);
"function" == typeof $.addChildren ? $.addChildren(c) : n.addChildren($, c);
if ($ !== this) {
$.__jx__constructor = d;
$.__jx__native = !1;
}
return $;
}
var d;
t.prototype = _(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "absolute",
"top, left": 0,
width: "100%",
overflow: "hidden",
zIndex: 10,
height: "$$titleBarHeight",
color: "$$titleBarColor",
background: "$$titleBarBg",
"&.title_bar_popout": {
cursor: "default"
}
},
".border_overlay": {
borderWidth: "$$titleBarBorderWidth",
borderStyle: "$$titleBarBorderStyle",
borderColor: "$$titleBarBorderColor"
},
".title": {
whiteSpace: "nowrap",
overflow: "hidden",
textOverflow: "ellipsis",
cursor: "inherit",
textAlign: "$$titleBarTextAlign",
fontSize: "$$titleBarFontSize",
lineHeight: "$$titleBarHeight",
fontWeight: "$$titleBarFontWeight",
".title_text, .status_text": {
cursor: "inherit"
},
".title_text": {
display: [ "inline", "$$titleBarTitleDisplay" ]
},
".status_text": {
display: [ "none", "$$titleBarStatusDisplay" ]
}
},
"&.ltr .title": {
paddingLeft: "$$titleBarPaddingBefore",
paddingRight: "$$titleBarPaddingAfter"
},
"&.rtl .title": {
paddingLeft: "$$titleBarPaddingAfter",
paddingRight: "$$titleBarPaddingBefore"
},
".icons": {
position: "absolute",
cursor: "default",
color: "$$titleBarIconsColor",
fontSize: "$$fontSizeXS",
".icon_font": {
display: "inline-block",
textAlign: "center",
"paddingRight, paddingLeft": "6px",
lineHeight: "$$titleBarHeight",
"&:hover": {
"&": "$$titleBarItemHover"
}
},
".button_container": {
display: "inline-block",
verticalAlign: "middle",
cursor: "pointer",
paddingTop: "2px"
}
},
"&.ltr .icons": {
"top, right": 0,
".button_container": {
"&.last_child": {
paddingRight: "3px"
}
}
},
"&.rtl .icons": {
"top, left": 0,
".button_container": {
"&.last_child": {
paddingLeft: "3px"
}
}
},
"&.br, &.bm, &.bl": {
"borderTopLeftRadius, borderTopRightRadius": "$$windowRadius"
},
"&.tr, &.tm, &.tl": {},
"&.mobile": {
zIndex: 101,
borderRadius: "0",
".title": {
fontSize: "$$fontSizeXL"
},
"&.ltr .icons, &.rtl .icons": {
".button_container": {
padding: 0,
"&.last_child": {
padding: 0
}
}
}
}
};
l(t, "meshim_widget_widgets_TitleBar");
d = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(16), i(7), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
t.exports = function() {
function t(r, a, s, _, l) {
if (!(this instanceof t)) return new t(r, a, s, _, l);
a = a || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
addClass: "border_overlay"
} ], u = d[0].call(this, r, a, null, n.mangleIDs(a, d[3]), d[4]), c = u || this;
n.set(a, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(s);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "absolute",
"top, left": 0,
"width, height": "100%",
borderRadius: "inherit"
}
};
a(t, "meshim_widget_widgets_BorderOverlay");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(e, i, n, r, a) {
if (!(this instanceof t)) return new t(e, i, n, r, a);
a || (a = {});
a.tagName || (a.tagName = "label");
o.call(this, e, i, n, r, a);
null == a.selectable && this.setSelectable(!1);
}
var o = i(17);
t.prototype = e(o.prototype);
n(t, "jx_ui_Label");
return t;
}();
}).call(e, i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__jx_ui_html_table = i(103);
e.__$$__jx_ui_html_tbody = i(104);
e.__$$__jx_ui_html_tr = i(105);
e.__$$__jx_ui_html_td = i(106);
t.exports = function() {
function t(a, s, _, l, d) {
if (!(this instanceof t)) return new t(a, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_html_table, "", "", [ [ e.__$$__jx_ui_html_tbody, "", "", [ [ e.__$$__jx_ui_html_tr, "", "", [ [ e.__$$__jx_ui_html_td, "", "", [ [ e.__$$__jx_ui_Widget, "bar", "", [], {
id: "bar",
addClass: "bar"
} ] ], {
addClass: "td"
} ] ], {} ] ], {} ] ], {
addClass: "table"
} ], [ e.__$$__jx_ui_Widget, "", "", [], {
addClass: "overlay"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
selectable: "false"
} ], c = u[0].call(this, a, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__bar");
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
h.setColor = function(t) {
f.setBackground(t);
};
h.setBarWidth = function(t) {
f.setWidth(t);
};
h.setBarHeight = function(t) {
f.setHeight(t);
};
h.setMobile = function(t) {
if (r(t)) {
var e = parseInt(o.getVariable("titleBarHeight"), 10), i = e / 2.75, n = i / 8;
h.setWidth(e);
h.setHeight(e);
f.setWidth(i);
f.setHeight(n);
}
};
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = i;
h.__jx__native = !1;
}
return h;
}
var i;
t.prototype = a(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
width: "22px",
height: "22px",
position: "relative",
overflow: "hidden"
},
".bar": {
width: "10px",
height: "2px",
margin: "auto",
backgroundColor: [ "$$titleBarColor", "$$titleBarIconsColor" ]
},
".table": {
width: "100%",
height: "100%",
tableLayout: "fixed",
borderSpacing: "0",
borderCollapse: "collapse"
},
".td": {
verticalAlign: "middle"
},
".overlay": {
position: "absolute",
"top, left": "0",
"width, height": "100%",
backgroundColor: "transparent"
}
};
s(t, "meshim_widget_widgets_titleBar_MinimizeButton");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(16), i(14), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(e, i, n, r, a) {
if (!(this instanceof t)) return new t(e, i, n, r, a);
a || (a = {});
a.tagName = "table";
o.call(this, e, i, n, r, a);
}
var o = i(18);
t.prototype = e(o.prototype);
n(t, "jx_ui_html_table");
return t;
}();
}).call(e, i(14), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(e, i, n, r, a) {
if (!(this instanceof t)) return new t(e, i, n, r, a);
a || (a = {});
a.tagName = "tbody";
o.call(this, e, i, n, r, a);
}
var o = i(18);
t.prototype = e(o.prototype);
n(t, "jx_ui_html_tbody");
return t;
}();
}).call(e, i(14), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(e, i, n, r, a) {
if (!(this instanceof t)) return new t(e, i, n, r, a);
a || (a = {});
a.tagName = "tr";
o.call(this, e, i, n, r, a);
}
var o = i(18);
t.prototype = e(o.prototype);
n(t, "jx_ui_html_tr");
return t;
}();
}).call(e, i(14), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(e, i, n, r, a) {
if (!(this instanceof t)) return new t(e, i, n, r, a);
a || (a = {});
a.tagName = "td";
o.call(this, e, i, n, r, a);
}
var o = i(18);
t.prototype = e(o.prototype);
n(t, "jx_ui_html_td");
return t;
}();
}).call(e, i(14), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
var t = i(46), o = i(28), r = i(42), a = i(40), s = i(108), _ = i(52), l = {};
l.init = function() {
var i, n = a.root, d = n.$("connection").$("status$string"), u = n.$("livechat").$("ui").$("popout$bool"), c = n.$("livechat").$("ui").$("mobile$bool"), h = n.$("livechat").$("ui").$("mockup$bool"), f = n.$("livechat").$("account").$("key$string"), p = n.$("livechat").$("profile").$("mid$string"), g = n.$("livechat").$("settings").$("language").$("language$string"), m = c.getValue() ? "dialog=no,fullscreen=yes" : "width=400,height=500,menubar=no,toolbar=no,location=no,personalbar=no,status=no,resizable=yes,scrollbars=no";
l.openPopout = function(t) {
if (!e.bugs.noBoxSizing) {
var n = f.getValue() || r.ACCOUNT_KEY, o = c.getValue();
if (!h.getValue() && !u.getValue() && n && !_.isIEMobile) {
var a = l.getPopoutURL();
if (i && !i.closed && i.focus) {
if (!o && e.isChrome || _.isNativeAndroidMobile || _.isSafariIOSMobile) i.focus(); else {
i.close();
i = window.open(a, r.POPOUT_WINDOW_PREFIX + n + new Date(), m);
if (!i || i.closed) return;
}
return !0;
}
if (o || t) {
try {
i = window.open(a, r.POPOUT_WINDOW_PREFIX + n, m);
} catch (s) {}
if (_.isChromeIOSMobile) return !0;
if (!i || i.closed) return;
try {
i.focus();
} catch (s) {}
return !0;
}
}
}
};
l.getPopoutURL = function() {
var e = {
key: f.getValue() || r.ACCOUNT_KEY,
mid: p.getValue(),
lang: g.getValue(),
hostname: window.location.hostname,
api_calls: t.stringify(s.getPopoutAPICalls())
}, i = [ r.POPOUT_URL, "?", o.buildQuery(e) ], n = o.getHash("__zopim_widget_proxy");
n && i.push("#", o.buildQuery({
__zopim_widget_proxy: n
}));
return i.join("");
};
l.isReady = function() {
var t = d.getValue();
return "registered" == t || "reattached" == t || "cookie_law" == t;
};
};
n(l, "meshim_widget_controllers_PopoutController");
return l;
}();
}).call(e, i(7), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t() {
C = A = S = !1;
I = [];
k = [];
B = [];
N = [];
T = [];
E = [];
D = [];
P = {};
j = R.root;
j.$("connection").$("status$string").bindValue(r);
j.$("connection").$("message$string").bindValue(a);
O = j.$("tmp").$("api_settings");
L = j.$("tmp").$("server_settings");
}
function r(t) {
if ("reattached" == t) {
S = !0;
l();
} else if ("registered" == t || "cookie_law" == t) {
A = !0;
_();
}
}
function a(t) {
if ("fast_init" == t) {
C = !0;
s();
}
}
function s() {
h(I);
I.length = 0;
h(N);
}
function _() {
h(k);
k.length = 0;
h(T);
}
function l() {
h(B);
B.length = 0;
h(E);
}
function d(t, e) {
e && N.push(t);
C ? f(t) : e || I.push(t);
}
function u(t, e) {
e && T.push(t);
A ? f(t) : e || k.push(t);
}
function c(t, e) {
e && E.push(t);
S ? f(t) : e || B.push(t);
}
function h(t) {
if (t && e(t)) for (var i = 0; i < t.length; i++) f(t[i]);
}
function f(t) {
var e = z.call(arguments, 1);
try {
t.apply(null, e);
} catch (i) {
if (!window.console) return;
if (!n(window.console.log)) return;
var o = "Error in LiveChatAPI call", r = [];
i.name && r.push(i.name);
i.message && r.push(i.message);
r.length && (o += ": " + r.join(" - "));
window.console.log(o);
n(window.console.dir) && window.console.dir(i);
window.console.log(t.toString());
}
}
function p(t) {
return function() {
var e = Array.prototype.slice.call(arguments);
setTimeout(function() {
t.apply(null, e);
}, 0);
};
}
function g(t) {
return U.test(t);
}
function m(t) {
F.fullyExtend(P, t);
O && O.update(P);
}
function $(t) {
F.fullyDelete(P, t);
if (O) {
O.update(null);
O.update(P);
}
}
function b(t) {
return t ? L.getValue(t) : L.getValue();
}
function w(t, e) {
D.push([ t, e ]);
}
function x() {
return D;
}
function v() {
var t;
try {
t = M.parse(W().get("api_calls"));
} catch (i) {}
return e(t) ? t : [];
}
function y() {
return V;
}
var j, C, A, S, I, k, B, N, T, E, D, O, P, L, W = i(28), R = i(40), F = i(48), M = i(46), V = "Zendesk Chat", H = {
init: t,
callNow: f,
handleDelayed: h,
callOnFastInit: d,
callOnRegistered: u,
callOnReattached: c,
isHexColor: g,
getCallbackCaller: p,
saveAPISettings: m,
resetAPISettings: $,
getServerSettings: b,
savePopoutAPICalls: w,
getPopoutAPICalls: x,
parseAPIFromQuery: v,
getPrefix: y
}, z = Array.prototype.slice, U = /^#[0-9A-F]{6}$/i;
o(H, "meshim_widget_controllers_liveChatAPI_APIHelper");
return H;
}();
}).call(e, i(21), i(9), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
t.exports = function() {
function t() {
Y("UIController init");
se.mobile && se.popout && ie();
ee();
_();
le.userShowBadgeOrWindow = $;
le.userShowWindow = b;
le.userHideWindow = w;
le.userHideBanner = x;
le.userHideBubble = v;
le.userDismissMobileNotification = de;
le.userReplyMobileNotification = y;
le.showWindow = j;
le.hideWindow = C;
le.toggleWindow = A;
le.showBanner = S;
le.hideBanner = I;
le.showButton = k;
le.hideButton = B;
le.showMobileNotification = O;
le.hideMobileNotification = P;
le.disableMobileNotifications = L;
le.hideAll = N;
le.showBubble = T;
le.hideBubble = E;
le.resetBubble = D;
le.setWindowUserHidden = R;
le.setBannerUserHidden = F;
le.setBubbleUserHidden = M;
le.resetBubbleUserHidden = V;
le.setHideWhenOffline = H;
le.mobileNotificationsIgnoreChatButtonVisibility = W;
le.showMenu = z;
le.showProfileMenu = U;
le.getAPIState = q;
le.resetState = K;
}
function _() {
_t = !1;
Z = Qt.root;
Q = Z.$("livechat");
J = Q.$("settings");
tt = J.$("theme");
et = Q.$("ui");
it = et.$("chat_window");
nt = et.$("chat_button");
Ft = Q.$("profile").$("logged_in$bool");
Mt = Q.$("profile").$("auth").$("type$string");
Vt = J.$("login").$("allowed_types_count$int");
Ht = Q.$("settings").$("login").$("restrict_profile$bool");
Wt = it.$("menu_stack_name$string");
Rt = it.$("profile_menu").$("index$int");
ot = et.$("popout$bool");
rt = et.$("mobile$bool");
at = et.$("mockup$bool");
st = et.$("mobile_overlay$bool");
Xt = et.$("current_display$string");
Yt = et.$("previous_display$string");
G(ot, "popout", function() {
f();
h();
});
G(rt, "mobile", function() {
f();
h();
});
G(st, "mobile_overlay", h);
G(at, "mockup");
bt = Z.$("connection").$("message$string");
G(bt, "connection_message", h);
wt = Z.$("connection").$("status$string");
G(wt, "connection_status", function() {
n(se.connection_status) && se.connection_status && (/disconnect|shutdown/.test(se.connection_status) || te.fromRefTime("conn_status_" + se.connection_status, .25));
l();
h();
});
xt = Q.$("account").$("status$string");
G(xt, "account_status", function() {
f();
h();
});
vt = Q.$("channel").$("chatting$bool");
Dt = et.$("chat_window").$("pre_chat_form").$("submitted$bool");
G(vt, "chatting", function() {
l();
h();
});
yt = Q.$("channel").$("served$bool");
G(yt, "chat_served", h);
jt = J.$("behavior").$("do_not_display$bool");
Ct = J.$("banner").$("enabled$bool");
St = J.$("bubble").$("enabled$bool");
Bt = J.$("chat_button").$("hide_when_offline$bool");
Nt = it.$("user_hidden$bool");
Tt = it.$("user_hidden_banner$bool");
Et = it.$("user_hidden_bubble$bool");
At = tt.$("chat_window").$("use_banner$bool");
kt = nt.$("bubble").$("display$bool");
It = tt.$("chat_button").$("use_bubble$bool");
G(jt, "do_not_display", h);
G(Ct, "banner_enabled", h);
G(St, "bubble_enabled", h);
G(Bt, "hide_when_offline", h);
G(Nt, "chat_window_user_hidden", h);
G(Tt, "banner_user_hidden", h);
G(Et, "bubble_user_hidden", f);
G(At, "use_banner", h);
G(kt, "bubble_display", f);
G(It, "use_bubble", f);
Ot = Q.$("settings").$("forms").$("pre_chat_form").$("required$bool");
Ot.bindValue(d);
Dt.bindValue(d);
zt = nt.$("display$bool");
Ut = it.$("display$bool");
qt = it.$("main_stack_name$string");
Gt = et.$("chat_notification").$("display$bool");
zt.bindValue(u);
Ut.bindValue(u);
qt.bindValue(u);
Gt.bindValue(u);
Lt = Q.$("agents");
Lt.bindKeys(c);
_t = !0;
}
function l() {
if (se.chatting && se.connection_status == re.REATTACHED) {
Y("UIController: setting pre_chat_form_submitted to true");
Dt.update(!0);
}
}
function d() {
var t = Ot.getValue(), e = Dt.getValue(), i = t && !e;
if (i != Pt) {
Pt = i;
h();
}
}
function u() {
var t, e, i = zt.getValue(), n = Ut.getValue(), r = qt.getValue(), a = Gt.getValue();
t = o(i) && o(n) && o(a) ? ne.UNDEFINED : n ? r == oe.NEW_CHAT_FORM ? ne.BANNER : ne.WINDOW : i ? ne.BUTTON : a ? ne.NOTIFICATION : ne.NONE;
e = r;
if (t != Kt || e != Zt) {
Kt = t;
Zt = e;
h();
}
}
function c() {
if (!se.mockup) {
var t = xt.getValue(), e = Lt.getKeys().length, i = vt.getValue();
i && !e && t == ae.OFFLINE && Qt.livechat.endChat();
}
}
function h() {
function t() {
if (Pt) {
X(e, "pre_chat_form_required");
g([ oe.PRE_CHAT_OFFLINE_FORM ]);
} else {
X(e, "!pre_chat_form_required");
g([ oe.CHAT_PANEL, oe.AGENT_LIST, oe.CARD_FORM, oe.POST_CHAT_FORM, oe.ABOUT_PANEL, oe.COOKIE_FORM ]);
}
}
if (_t) if (ht) Y("UIController update: abort - display settings updating"); else if (ut) Y("UIController update: abort - api updating"); else if (ct) Y("UIController update: abort - user updating"); else if (lt) Y("UIController update: abort - updating loop"); else {
lt = !0;
var e = [];
if (se.account_status == ae.BANNED) {
X(e, ae.BANNED);
if (se.popout) {
X(e, "popout");
p(ne.WINDOW);
g([ oe.PRE_CHAT_OFFLINE_FORM ]);
} else {
X(e, "!popout");
p(ne.UNDEFINED);
}
} else if (_e.api_display && _e.api_stack) X(e, "api_display && api_stack"); else if (!se.do_not_display || se.popout || _e.api_display || se.chatting || Kt != ne.UNDEFINED) if (!se.mobile || se.mobile_overlay || se.popout) {
if (se.connection_status == re.COOKIE_LAW) {
X(e, "cookie_law");
if (_e.api_display) X(e, "api_display"); else if (Kt == ne.NONE) X(e, "none"); else if (se.popout) {
X(e, "popout");
p(ne.WINDOW);
} else {
X(e, "!popout");
if (Kt == ne.UNDEFINED) {
X(e, "undefined");
p(ne.BUTTON);
} else X(e, "!undefined");
}
g([ oe.COOKIE_FORM ]);
} else if (se.connection_status == re.REGISTERED || se.connection_status == re.REATTACHED || se.connection_message == re.FAST_INIT) {
X(e, "registered/reattached/fast_init");
if (se.chatting) {
X(e, "chatting");
if (_e.api_display) {
X(e, "api_display");
if (se.mobile_overlay && (Kt === ne.BUTTON || _e.mobile_notifications_ignore_chat_button_visibility && Kt !== ne.WINDOW) && gt) {
X(e, "overlay && (displaying button || ignoring chat button visibility && not displaying window) && has mobile notification");
p(ne.NOTIFICATION);
} else {
X(e, "!overlay || !displaying button && !(ignoring chat button visibility && not displaying window) || !has mobile notification");
if (Kt !== ne.NOTIFICATION || gt) X(e, "!displaying notification || has mobile notification"); else {
X(e, "displaying notification && !has mobile notification");
p(_e.api_display);
}
}
} else {
X(e, "!api_display");
if (se.mobile_overlay) {
X(e, "overlay");
if (se.chat_window_user_hidden) {
X(e, "user hidden");
if (gt) {
X(e, "has mobile notification");
p(ne.NOTIFICATION);
} else {
X(e, "!has mobile notification");
p(ne.BUTTON);
}
} else {
X(e, "!user hidden");
if (pt) {
X(e, "user_shown_window_before");
p(ne.WINDOW);
} else {
X(e, "!user_shown_window_before");
if (gt) {
X(e, "has mobile notification");
p(ne.NOTIFICATION);
} else {
X(e, "!has mobile notification");
p(ne.BUTTON);
}
}
}
} else {
X(e, "!overlay");
if (se.chat_window_user_hidden) {
X(e, "user hidden");
if (se.popout) {
X(e, "popout");
p(ne.WINDOW);
} else {
X(e, "!popout");
if (Kt == ne.UNDEFINED) {
X(e, "undefined");
p(ne.BUTTON);
} else X(e, "!undefined");
}
} else {
X(e, "!user hidden");
p(ne.WINDOW);
}
}
}
g(se.chat_served ? [ oe.CHAT_PANEL, oe.AGENT_LIST, oe.CARD_FORM, oe.ABOUT_PANEL, oe.RATING_PANEL, oe.COOKIE_FORM ] : [ oe.CHAT_PANEL, oe.AGENT_LIST, oe.CARD_FORM, oe.ABOUT_PANEL, oe.COOKIE_FORM ]);
} else if (se.account_status == ae.ONLINE || se.account_status == ae.AWAY) {
X(e, "online/away");
if (_e.api_display) {
X(e, "api_display");
t();
} else if (se.popout || Kt == ne.WINDOW) {
X(e, "popout/window");
if (se.popout) {
X(e, "popout");
p(ne.WINDOW);
} else X(e, "window");
t();
} else if (Kt == ne.NONE) X(e, "none"); else if (se.banner_enabled && se.use_banner) {
X(e, "show banner");
switch (Kt) {
case ne.UNDEFINED:
X(e, "none");
if (se.banner_user_hidden) {
X(e, "user hidden");
p(ne.BUTTON);
} else {
X(e, "!user hidden");
p(ne.BANNER);
}
break;

case ne.BUTTON:
X(e, "button");
if (se.banner_user_hidden) X(e, "user hidden"); else {
X(e, "!user hidden");
p(ne.BANNER);
}
break;

case ne.BANNER:
X(e, "banner");
}
} else {
X(e, "!show banner");
if (Kt === ne.BUTTON) X(e, "button"); else {
X(e, Kt);
p(ne.BUTTON);
}
}
} else if (se.account_status == ae.OFFLINE) {
X(e, ae.OFFLINE);
if (_e.api_display) X(e, "api_display"); else if (se.popout) {
X(e, "popout");
p(ne.WINDOW);
} else if (Kt == ne.NONE) X(e, "none"); else if (se.hide_when_offline) {
X(e, "hide when offline");
p(ne.UNDEFINED);
} else {
X(e, "!hide when offline");
if (Kt == ne.WINDOW) X(e, "window"); else {
X(e, "!window");
p(ne.BUTTON);
}
}
g([ oe.PRE_CHAT_OFFLINE_FORM ]);
}
}
} else {
X(e, "mobile");
if (_e.api_display) X(e, "api_display"); else {
X(e, "!api_display");
if (Kt == ne.NONE) X(e, "none"); else {
X(e, "!none");
if (se.do_not_display || se.account_status == ae.OFFLINE && se.hide_when_offline) {
X(e, "do_not_display || (account_status == offline && hide_when_offline)");
if (se.chatting) {
X(e, "chatting");
p(ne.BUTTON);
} else {
X(e, "!chatting");
p(ne.UNDEFINED);
}
} else {
X(e, "!(do_not_display || (account_status == offline && hide_when_offline))");
p(ne.BUTTON);
}
}
}
} else X(e, "do not display, !popout, !api_display");
Y("UIController update: " + (e.join(" > ") || "no path"));
lt = !1;
} else Y("UIController update: abort - binding not complete");
}
function f() {
if (_t) if (ft) Y("UIController Bubble update: abort - bubble settings updating"); else if (ut) Y("UIController Bubble update: abort - api updating"); else if (ct) Y("UIController Bubble update: abort - user updating"); else if (dt) Y("UIController Bubble update: abort - updating loop"); else {
dt = !0;
var t = [];
if (se.mobile || se.popout) {
X(t, "mobile || popout");
m(!1);
} else {
X(t, "!mobile && !popout");
if (se.use_bubble) {
X(t, "use_bubble");
if (_e.api_bubble) X(t, "bubble_api"); else {
X(t, "!bubble_api");
if (se.bubble_enabled) {
X(t, "bubble_enabled");
if (se.account_status == ae.ONLINE || se.account_status == ae.AWAY) {
X(t, "online || away");
if (se.bubble_user_hidden) {
X(t, "user_hidden_bubble");
m(!1);
} else {
X(t, "!user_hidden_bubble");
if (o(se.bubble_display)) {
X(t, "undefined");
m(!0);
} else X(t, "!undefined");
}
} else {
X(t, ae.OFFLINE);
m(void 0);
}
} else {
X(t, "!bubble_enabled");
m(!1);
}
}
} else {
X(t, "!use_bubble");
m(void 0);
}
}
Y("UIController Bubble update: " + (t.join(" > ") || "no path"));
dt = !1;
} else Y("UIController Bubble update: abort - binding not complete");
}
function p(t) {
Y("UIController setDisplay: " + t);
mt = Ut.getValue();
ht = !0;
var e = Xt.getValue();
if (e !== t) {
Yt.update(e);
Xt.update(t);
}
switch (t) {
case ne.UNDEFINED:
zt.update(void 0);
Ut.update(void 0);
Gt.update(void 0);
break;

case ne.NONE:
zt.update(!1);
Ut.update(!1);
Gt.update(!1);
break;

case ne.BUTTON:
zt.update(!0);
Ut.update(!1);
Gt.update(!1);
break;

case ne.BANNER:
if (qt.getValue() != oe.NEW_CHAT_FORM) {
$t = qt.getValue();
qt.update(oe.NEW_CHAT_FORM);
}
zt.update(!1);
Ut.update(!0);
Gt.update(!1);
break;

case ne.NOTIFICATION:
zt.update(!1);
Ut.update(!1);
Gt.update(!0);
break;

case ne.WINDOW:
if (qt.getValue() == oe.NEW_CHAT_FORM) {
g($t ? [ $t ] : [ oe.PRE_CHAT_OFFLINE_FORM, oe.CHAT_PANEL, oe.POST_CHAT_FORM, oe.COOKIE_FORM, oe.CARD_FORM, oe.AGENT_LIST, oe.RATING_PANEL ]);
$t = null;
}
zt.update(!1);
Gt.update(!1);
Ut.update(!0);
}
ut || (mt && t != ne.WINDOW ? le.fire("API:window:hide") : mt || t != ne.WINDOW || le.fire("API:window:show"));
ht = !1;
}
function g(t) {
t && t.length && r(Zt, t) == -1 && qt.update(t[0]);
}
function m(t) {
Y("UIController setBubble: " + t);
ft = !0;
kt.update(t);
ft = !1;
}
function $() {
if (!se.mobile) {
ct = !0;
var t = qt.getValue();
p(se.banner_enabled && t == oe.NEW_CHAT_FORM && se.use_banner ? ne.BANNER : ne.WINDOW);
_e.api_display = !1;
_e.api_stack = !1;
ct = !1;
h();
}
}
function b() {
if ((!se.mobile || se.mobile_overlay) && Kt != ne.WINDOW) {
ct = !0;
Nt.update(!1);
pt = !0;
p(ne.WINDOW);
_e.api_display = !1;
_e.api_stack = !1;
ct = !1;
h();
}
}
function w() {
if ((!se.mobile || se.mobile_overlay) && Kt != ne.BUTTON) {
ct = !0;
le.setWindowUserHidden();
p(se.do_not_display ? ne.NONE : ne.BUTTON);
_e.api_display = !1;
_e.api_stack = !1;
ct = !1;
h();
}
}
function x() {
if (!se.mobile && Kt != ne.BUTTON) {
ct = !0;
le.setBannerUserHidden();
p(se.do_not_display ? ne.NONE : ne.BUTTON);
_e.api_display = !1;
_e.api_stack = !1;
ct = !1;
h();
}
}
function v() {
if (!se.mobile) {
ct = !0;
le.setBubbleUserHidden();
m(!1);
_e.api_bubble = !1;
ct = !1;
f();
}
}
function y() {
gt = !1;
b();
}
function j() {
Y("API update: showWindow");
if (se.mobile && !se.mobile_overlay) Jt.openPopout(!0); else {
ut = !0;
gt && (gt = !1);
p(ne.WINDOW);
_e.api_display = ne.WINDOW;
ut = !1;
h();
}
}
function C() {
if (!se.mobile || se.mobile_overlay) {
Y("API update: hideWindow");
ut = !0;
if (se.do_not_display) {
p(ne.NONE);
_e.api_display = ne.NONE;
} else {
p(ne.BUTTON);
_e.api_display = ne.BUTTON;
}
ut = !1;
h();
}
}
function A() {
if (!se.mobile || se.mobile_overlay) {
Y("API update: toggleWindow");
Kt == ne.WINDOW ? le.hideWindow() : le.showWindow();
}
}
function S() {
if (!se.mobile && se.use_banner) {
Y("API update: showBanner");
ut = !0;
p(ne.BANNER);
_e.api_display = ne.BANNER;
_e.api_stack = ne.BANNER;
ut = !1;
h();
}
}
function I() {
if (!se.mobile) {
Y("API update: hideBanner");
ut = !0;
if (se.do_not_display) {
p(ne.NONE);
_e.api_display = ne.NONE;
} else {
p(ne.BUTTON);
_e.api_display = ne.BUTTON;
}
_e.api_stack = !1;
ut = !1;
h();
}
}
function k() {
Y("API update: showButton");
ut = !0;
p(ne.BUTTON);
_e.api_display = ne.BUTTON;
ut = !1;
h();
}
function B() {
Y("API update: hideButton");
ut = !0;
if (se.mobile) {
gt && (gt = !1);
_e.api_display = ne.NONE;
p(ne.NONE);
} else {
_e.api_display = ne.WINDOW;
p(ne.WINDOW);
}
ut = !1;
h();
}
function N() {
Y("API update: hideAll");
ut = !0;
p(ne.NONE);
_e.api_display = ne.NONE;
gt && (gt = !1);
ut = !1;
h();
}
function T() {
if (!se.mobile) {
Y("API update: showBubble");
ut = !0;
m(!0);
_e.api_bubble = !0;
ut = !1;
f();
}
}
function E() {
if (!se.mobile) {
Y("API update: hideBubble");
ut = !0;
m(!1);
_e.api_bubble = !0;
ut = !1;
f();
}
}
function D() {
if (!se.mobile) {
Y("API update: resetBubble");
ut = !0;
le.resetBubbleUserHidden();
m(!0);
_e.api_bubble = !0;
ut = !1;
f();
}
}
function O() {
if ((Kt === ne.BUTTON || _e.mobile_notifications_ignore_chat_button_visibility && Kt !== ne.WINDOW) && !_e.disable_mobile_notifications) {
gt = !0;
h();
}
}
function P() {
gt = !1;
h();
}
function L(t) {
o(t) && (t = !0);
_e.disable_mobile_notifications = t;
}
function W(t) {
o(t) && (t = !0);
_e.mobile_notifications_ignore_chat_button_visibility = t;
}
function R() {
Nt.update(!0);
}
function F() {
Tt.update(!0);
}
function M() {
Et.update(!0);
}
function V() {
Et.update(!1);
}
function H(t) {
Bt.update(t);
}
function z(t) {
Wt.update(t);
}
function U() {
if (!Ht.getValue()) {
le.showMenu("profile_menu");
Rt.update(Ft.getValue() ? Mt.getValue() ? 1 : 2 : se.mobile ? 2 : Vt.getValue() ? 0 : 2);
}
}
function q() {
return _e;
}
function G(t, e, i) {
t && a(t.bindValue) && t.bindValue(function(t) {
if (se[e] != t) {
se[e] = t;
a(i) && i();
}
});
}
function Y(t) {}
function X(t, e) {}
function K() {
pt = void 0;
gt = void 0;
_e = {
api_display: !1,
api_stack: !1,
api_bubble: !1
};
}
var Z, Q, J, tt, et, it, nt, ot, rt, at, st, _t, lt, dt, ut, ct, ht, ft, pt, gt, mt, $t, bt, wt, xt, vt, yt, jt, Ct, At, St, It, kt, Bt, Nt, Tt, Et, Dt, Ot, Pt, Lt, Wt, Rt, Ft, Mt, Vt, Ht, zt, Ut, qt, Gt, Yt, Xt, Kt, Zt, Qt = i(40), Jt = i(107), te = i(59), ee = i(110), ie = i(111), ne = {
UNDEFINED: "undefined",
NONE: "none",
BUTTON: "button",
BANNER: "banner",
WINDOW: "window",
NOTIFICATION: "notification"
}, oe = {
NEW_CHAT_FORM: "new_chat_form",
PRE_CHAT_OFFLINE_FORM: "pre_chat_offline_form",
CHAT_PANEL: "chat_panel",
POST_CHAT_FORM: "post_chat_form",
COOKIE_FORM: "cookie_form",
CARD_FORM: "card_form",
AGENT_LIST: "agent_list",
ABOUT_PANEL: "about_panel",
RATING_PANEL: "rating_panel"
}, re = {
COOKIE_LAW: "cookie_law",
REATTACHED: "reattached",
REGISTERED: "registered",
FAST_INIT: "fast_init"
}, ae = {
ONLINE: "online",
AWAY: "away",
OFFLINE: "offline",
BANNED: "banned"
}, se = {}, _e = {
api_display: !1,
api_stack: !1,
api_bubble: !1
}, le = e.extend({
init: t
}), de = P;
s(le, "meshim_widget_controllers_UIController");
return le;
}();
}).call(e, i(6), i(19), i(10), i(24), i(9), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t() {
if (!r) {
r = !0;
e && e.onLanguage && (o.prototype.setTitle = function(t) {
function i() {
o.setTitle(o._l10nTitleValue);
}
function n() {
e.unLanguage(i);
}
var o = this;
if (e && e.onLanguage && !this._l10nTitleBound) {
this._l10nTitleBound = !0;
e.onLanguage(i);
this.onDestruction(n);
}
this._l10nTitleValue = t;
this.dom.title = this._l10nTitleValue || "";
return this;
});
}
}
var o = i(18), r = !1;
n(t, "meshim_widget_utils_HackTitleLocalization");
return t;
}();
}).call(e, i(22), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t() {
function t(n) {
if (this.jx_wrapper) return t.call(this.jx_wrapper, n);
n.stopPropagation();
this.dom.addEventListener("touchend", i, !1);
this.doc.body.addEventListener("touchmove", e, !1);
this.startX = n.touches[0].clientX;
this.startY = n.touches[0].clientY;
}
function e(t) {
if (this.jx_wrapper) return e.call(this.jx_wrapper, t);
(Math.abs(t.touches[0].clientX - this.startX) > 10 || Math.abs(t.touches[0].clientY - this.startY) > 10) && r.call(this);
}
function i(t) {
if (this.jx_wrapper) return i.call(this.jx_wrapper, t);
t.stopPropagation();
r.call(this);
this.nativeHandlers.click(t);
"touchend" != t.type || this.allowGhostClick || a(this.startX, this.startY);
}
function r() {
if (this.jx_wrapper) return r.call(this.jx_wrapper);
this.dom.removeEventListener("touchend", i, !1);
this.doc.body.removeEventListener("touchmove", e, !1);
}
function a(t, e) {
u.push(t, e);
window.setTimeout(s, 2500);
}
function s() {
u.splice(0, 2);
}
function _(t) {
for (var e = 0; e < u.length; e += 2) {
var i = u[e], n = u[e + 1];
if (Math.abs(t.clientX - i) < 25 && Math.abs(t.clientY - n) < 25) {
t.stopPropagation();
t.preventDefault();
}
}
}
if (!n) {
n = !0;
var l = o.prototype.on, d = o.prototype.un;
o.prototype.on = function(e) {
if (!("click" != e || this.allCallbacks.click && this.allCallbacks.click.length)) {
this.dom.addEventListener("touchstart", t, !1);
this.dom.addEventListener("click", i, !1);
}
return l.apply(this, arguments);
};
o.prototype.un = function(e) {
var n = d.apply(this, arguments);
if (!("click" != e || this.allCallbacks.click && this.allCallbacks.click.length)) {
this.dom.removeEventListener("touchstart", t, !1);
this.dom.removeEventListener("click", i, !1);
}
return n;
};
n = !0;
var u = [];
window.document.addEventListener("click", _, !0);
}
}
var n, o = i(18);
e(t, "meshim_widget_utils_HackFastButtons");
return t;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_widgets_BorderOverlay = i(100);
e.__$$__meshim_widget_widgets_Branding = i(91);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_BorderOverlay, "", "", [], {} ], [ e.__$$__jx_ui_Widget, "$$defaultplacement$$", "", [], {
addClass: "actions",
container: "default",
id: "$$defaultplacement$$"
} ], [ e.__$$__meshim_widget_widgets_Branding, "", "", [], {
addClass: "branding",
hideOnMobile: "true"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"class": "action_bar",
selectable: "false"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
var f = n.get(a + "__$$defaultplacement$$");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
h.defaultPlacement = f;
var p = function() {
function t() {
e.mobile(h);
e.rtl(h);
}
var e = i(95);
t();
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "absolute",
"bottom, left": 0,
overflow: "hidden",
zIndex: 10,
width: "$$actionBarWidth",
height: "$$actionBarHeight",
color: "$$actionBarColor",
background: "$$actionBarBg",
"paddingLeft, paddingRight": "$$actionBarPadding"
},
".border_overlay": {
borderWidth: "$$actionBarBorderWidth",
borderStyle: "$$actionBarBorderStyle",
borderColor: "$$actionBarBorderColor"
},
".actions": {
"float": "left"
},
".branding": {
position: "relative",
"float": "right",
color: "$$actionBarColor",
lineHeight: "$$actionBarHeight",
".meshim_widget_widgets_IconFont": {
"*color": "$$actionBarColor",
"*lineHeight": "$$actionBarHeight",
"*textDecoration": "none"
},
"&:hover": {
color: "$$actionBarHoverColor"
}
},
"&.rtl": {
".actions": {
"float": "right"
},
".branding": {
"float": "left"
}
}
};
a(t, "meshim_widget_widgets_ActionBar");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__jx_ui_Label = i(101);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Label, "", "", [], {
text: "â‰¡"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.autobind(r, "value", e);
h.on("click", n);
}
function e(t) {
t ? h.addClass("isActive") : h.removeClass("isActive");
}
function n(t) {
t.stopPropagation();
r.update("settings_menu" === r.getValue() ? "" : "settings_menu");
}
var o = i(40), r = o.root.$("livechat").$("ui").$("chat_window").$("menu_stack_name$string");
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
"width, height": "$$titleBarHeight",
lineHeight: "$$titleBarHeight",
textAlign: "center",
color: "$$actionBarColor",
fontSize: "30px",
"&.isActive": {
backgroundColor: "$$actionBarBg"
}
}
};
a(t, "meshim_widget_widgets_MobileOptionsMenuIcon");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_ActionBar = i(112);
e.__$$__jx_ui_html_span = i(115);
e.__$$__jx_ui_Button = i(116);
e.__$$__meshim_widget_widgets_CookieLawNotice = i(119);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = o(202), h = o(203), f = [ e.__$$__meshim_widget_widgets_ActionBar, "", "", [ [ e.__$$__jx_ui_html_span, "default_actions", "", [ [ e.__$$__jx_ui_Button, "settings", "backgroundColor:transparent;", [ c ], {
id: "settings",
addClass: "settings",
tabIndex: "",
type: "button",
style: "backgroundColor:transparent;"
} ], [ e.__$$__jx_ui_html_span, "divider", "", [], {
id: "divider",
"class": "divider",
text: "â€¢"
} ], [ e.__$$__jx_ui_Button, "profile", "backgroundColor:transparent;", [ [ e.__$$__jx_ui_html_span, "logged_out", "", [ h ], {
id: "logged_out"
} ], [ e.__$$__jx_ui_html_span, "name", "", [], {
id: "name",
"class": "logged_in_name"
} ] ], {
id: "profile",
addClass: "profile",
tabIndex: "",
type: "button",
style: "backgroundColor:transparent;"
} ] ], {
id: "default_actions",
display: "none"
} ], [ e.__$$__meshim_widget_widgets_CookieLawNotice, "cookie_law", "", [], {
id: "cookie_law",
addClass: "cookie_law"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], p = f[0].call(this, a, s, null, n.mangleIDs(s, f[3]), f[4]), g = p || this;
n.set(s, g);
var m = n.get(s + "__default_actions"), $ = n.get(s + "__settings"), b = n.get(s + "__divider"), w = n.get(s + "__profile"), x = n.get(s + "__logged_out"), v = n.get(s + "__name"), y = n.get(s + "__cookie_law");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var j = function() {
function t() {
function t() {
if (s) {
_ && !j.isDefaultName(_) ? v.setText(c.replace("<name>", _)) : v.setText(h);
x.setDisplay("none");
v.setDisplay("");
} else {
x.setDisplay("");
v.setDisplay("none");
}
}
g.autobind(P, "value", function(t) {
u = t;
b.setDisplay(t ? "none" : "");
w.setDisplay(t ? "none" : "");
});
g.autobind(E, "value", function(t) {
l = t;
for (var e in A) A.hasOwnProperty(e) && A[e][(e == t ? "add" : "remove") + "Class"]("active");
});
g.autobind(I, "value", function(e) {
s = e;
t();
});
g.autobind(k, "value", function(e) {
_ = e || "";
t();
});
o && o.onLanguage && o.onLanguage(t);
$.on("click", function(t) {
t.stopPropagation();
C.isIEMobile ? E.update("settings_menu") : E.update("settings_menu" == l ? "" : "settings_menu");
O.getValue() && f.resetUnreadCount();
});
w.on("click", function(t) {
t.stopPropagation();
u || E.update("profile_menu" == l ? "" : "profile_menu");
});
g.autobind(D, "value", function(t) {
d && g.removeClass("action_bar_" + d);
d = t;
d && g.addClass("action_bar_" + d);
});
g.autobind(N, "value", e);
g.autobind(T, "value", e);
g.autobind(L, "value", a);
}
function e() {
N.getValue() ? T.getValue() ? r() : n() : r();
}
function n() {
if ("hidden" == B) {
y.setDisplay("");
m.setDisplay("none");
B = "visible";
}
}
function r() {
if ("visible" == B) {
y.setDisplay("none");
m.setDisplay("");
B = "hidden";
}
}
function a(t) {
var e = !!t;
w.setDisabled(e);
e && "profile_menu" == l && E.update("");
}
var s, _, l, d, u, c = o(204), h = o(205), f = i(85), p = i(40), j = i(48), C = i(52), A = {
settings_menu: $,
profile_menu: w
}, S = p.root.$("livechat"), I = S.$("profile").$("logged_in$bool"), k = S.$("profile").$("display_name$string"), B = "visible", N = S.$("settings").$("cookie_law").$("enabled$bool"), T = S.$("profile").$("allow_cookies$bool"), E = p.root.$("livechat").$("ui").$("chat_window").$("menu_stack_name$string"), D = S.$("settings").$("theme").$("chat_window").$("size$string"), O = S.$$("ui.popout$bool"), P = S.$("settings").$("login").$("restrict_profile$bool"), L = p.root.$("connection").$("message$string");
t();
}();
for (var C in j) j.hasOwnProperty(C) && (g[C] = j[C]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(u);
"function" == typeof g.addChildren ? g.addChildren(d) : n.addChildren(g, d);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_ActionBar.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ActionBar;
t.__jx__jcss = {
button: {
position: "relative",
verticalAlign: "top",
textAlign: "left",
"background, backgroundColor": "transparent",
border: "none",
lineHeight: "$$actionBarHeight"
},
"button, button *": {
cursor: "pointer",
"&.disabled": {
cursor: "default",
color: "$$actionBarColorDiabled"
}
},
".logged_in_name": {
display: "inline-block",
whiteSpace: "nowrap",
overflow: "hidden",
textOverflow: "ellipsis",
"*height": "1em",
"*verticalAlign": "top"
},
".divider": {
display: "inline-block",
fontSize: "0.8em",
lineHeight: "$$actionBarHeight",
margin: "0 5px",
cursor: "default",
opacity: .5
},
"button, .divider": {
color: "$$actionBarColor"
},
"button:hover": {
color: "$$actionBarHoverColor"
},
".cookie_law": {
position: "relative"
},
"&.action_bar_small  .logged_in_name": {
"maxWidth, *width": "120px"
},
"&.action_bar_medium .logged_in_name": {
"maxWidth, *width": "160px"
},
"&.action_bar_large  .logged_in_name": {
"maxWidth, *width": "180px"
}
};
s(t, "meshim_widget_widgets_actionBar_DefaultActionBar");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(e, i, n, r, a) {
if (!(this instanceof t)) return new t(e, i, n, r, a);
a || (a = {});
a.tagName = "span";
o.call(this, e, i, n, r, a);
}
var o = i(18);
t.prototype = e(o.prototype);
n(t, "jx_ui_html_span");
return t;
}();
}).call(e, i(14), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(e, i, n, r, a) {
if (!(this instanceof t)) return new t(e, i, n, r, a);
a || (a = {});
a.tagName || (a.tagName = "button");
o.call(this, e, i, n, r, a);
}
var o = i(117);
t.prototype = e(o.prototype);
n(t, "jx_ui_Button");
return t;
}();
}).call(e, i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
t.exports = function() {
function t(i, n, o, r, a) {
if (!(this instanceof t)) return new t(i, n, o, r, a);
a || (a = {});
a.tagName || (a.tagName = "input");
_.call(this, i, n, o, r, a);
if (e.engineIE <= 8 && a.type && a.tagName && "input" == a.tagName.toLowerCase()) {
var s = this.parentNode;
this.parentNode.removeChild(this.parentNode instanceof d ? this : this.dom);
this.dom = i.doc.createElement("<" + a.tagName + ' type="' + a.type + '" name="' + (a.name || "") + '"/>');
this.dom.jx_wrapper = this;
this.style = this.dom.style;
s.appendChild(s instanceof d ? this : this.dom);
this.setStyle(o);
this.setAttributes(a);
this.addClass(this.__jx__fqname);
}
a.initialValue && this.setValue(a.initialValue);
this.setAttribute("id", this.jx_id);
a.label && this.setLabel(a.label);
a.errorMessage && this.setErrorMessage(a.errorMessage);
this.on("blur", function() {
this.onAutoValidate();
});
}
var s = i(101), _ = i(17), l = i(118), d = i(18), u = /^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+([a-z0-9][a-z0-9-]*[a-z0-9])$/i, c = /^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i, h = {
required: 1,
pattern: 2,
maxlength: 4,
min: 8,
max: 16,
step: 32
}, f = {
button: 1,
checkbox: 1,
email: 7,
hidden: 0,
number: 57,
password: 3,
radio: 1,
range: 25,
reset: 0,
search: 7,
select: 1,
submit: 0,
tel: 7,
text: 63,
textarea: 1,
url: 7
};
t.prototype = n(_.prototype);
t.prototype.getLabel = function() {
return this.label && this.label.getText();
};
t.prototype.setLabel = function(t) {
t && this.createLabel(t);
this.label && this.label.setText(t);
return this;
};
t.prototype.createLabel = function(t) {
if (this.label instanceof d) return this;
if (!this.dom.parentNode) return this;
this.label = new s(this.parentNode, null, null, null, {
tagName: "label"
});
this.getNextSibling() != this.label && this.parentNode.insertBefore(this.label, this.getNextSibling());
this.label.setAttribute("for", this.jx_id || "");
this.label.addClass("label");
this.label.addClass(this.attributes.type || this.getInputType() || "");
this.label.setText(t || this.attributes.label || "");
this.defaultLabel = !0;
return this;
};
t.prototype.getLabelElement = function() {
return this.label;
};
t.prototype.setLabelElement = function(t) {
if (!(t instanceof d)) return this;
this.defaultLabel && this.label.destroy();
this.label = t;
this.label.setAttribute("for", this.jx_id || "");
this.defaultLabel = !1;
return this;
};
t.prototype.getErrorMessage = function() {
return this.errorMessage && this.errorMessage.getText();
};
t.prototype.setErrorMessage = function(t) {
t && this.createErrorMessage(t);
this.errorMessage && this.errorMessage.setText(t);
return this;
};
t.prototype.showErrorMessage = function() {
this.errorMessage && this.errorMessage.setVisible(!0).setDisplay("");
return this;
};
t.prototype.hideErrorMessage = function() {
this.errorMessage && this.errorMessage.setVisible(!1);
return this;
};
t.prototype.createErrorMessage = function(t) {
if (this.errorMessage instanceof d) return this;
if (!this.dom.parentNode) return this;
this.errorMessage = new s(this.parentNode, null, null, null, {
tagName: "label"
});
(this.label ? this.label.getNextSibling() : this.getNextSibling()) != this.errorMessage && this.parentNode.insertBefore(this.errorMessage, this.label ? this.label.getNextSibling() : this.getNextSibling());
this.errorMessage.setAttribute("for", this.jx_id || "");
this.errorMessage.addClass("error_message");
this.errorMessage.addClass(this.attributes.type || this.getInputType() || "");
this.setErrorMessage(t || this.attributes.errorMessage || "");
this.hideErrorMessage();
this.defaultErrorMessage = !0;
return this;
};
t.prototype.getErrorMessageElement = function() {
return this.errorMessage;
};
t.prototype.setErrorMessageElement = function(t) {
if (!(t instanceof d)) return this;
this.defaultErrorMessage && this.errorMessage.destroy();
this.errorMessage = t;
this.errorMessage.setAttribute("for", this.jx_id || "");
this.defaultErrorMessage = !1;
return this;
};
t.prototype.validate = function(t) {
var e = this.getInputType(), i = this.getValue(), n = f[e], o = this.dom, r = (!(n & h.required) || !o.required || "" !== (i || "").trim() && null != i) && (!(n & h.pattern) || !o.pattern || new RegExp(o.pattern).test(i)) && (!(n & h.maxlength) || !(o.maxLength && o.maxLength >= 0) || i.length <= o.maxLength) && (!(n & h.min) || !o.min || parseFloat(i) >= parseFloat(o.min)) && (!(n & h.max) || !o.max || parseFloat(i) <= parseFloat(o.max)) && ("email" != e || (o.required ? u.test(i) : "" === i || u.test(i))) && ("url" != e || (o.required ? c.test(i) : "" === i || c.test(i)));
!r && t && this.focus();
this.setValidity(r);
return r;
};
t.prototype.getValidity = function() {
return this.validity;
};
t.prototype.setValidity = function(t) {
this.validity = o(t);
this.validity ? (this.hideErrorMessage(), this.addClass("valid"), this.removeClass("invalid")) : (this.showErrorMessage(), 
this.removeClass("valid"), this.addClass("invalid"));
return this;
};
t.prototype.getAutoValidate = function() {
return this.autoValidate;
};
t.prototype.setAutoValidate = function(t) {
this.autoValidate = o(t);
return this;
};
t.prototype.onAutoValidate = function() {
if (this.autoValidate && !this.getDisabled() && !this.getReadOnly()) return this.validate();
};
t.prototype.reset = function() {
var t = this.getType();
if ("submit" == t || "reset" == t) return this;
this.setValue(this.getInitialValue() || "").setValidity(!0);
return this;
};
var p = "textarea button select".split(" ");
t.prototype.getInputType = function() {
return r(this.tagName, p) != -1 ? this.tagName : this.getType();
};
t.prototype.getType = function() {
return this.validationType || _.prototype.getType.call(this);
};
t.prototype.setType = function(t) {
this.validationType = t;
_.prototype.setType.call(this, t);
};
t.prototype.getInitialValue = function() {
return e.engineIE <= 8 ? this._initialValue : this.dom.getAttribute("value");
};
t.prototype.setInitialValue = function(t) {
e.engineIE <= 8 ? this._initialValue = t && (t.toString ? t.toString() : t) : this.setAttribute("value", t);
return this;
};
t.prototype.getRequired = function() {
return this.dom.required;
};
t.prototype.setRequired = function(t) {
this.dom.required = o(t);
return this;
};
t.prototype.getPattern = function() {
return this.dom.pattern;
};
t.prototype.setPattern = function(t) {
this.dom.pattern = t;
return this;
};
t.prototype.getMin = function() {
return this.dom.min;
};
t.prototype.setMin = function(t) {
this.dom.min = t;
return this;
};
t.prototype.getMax = function() {
return this.dom.max;
};
t.prototype.setMax = function(t) {
this.dom.max = t;
return this;
};
t.prototype.getMaxLength = function() {
return this.dom.maxLength;
};
t.prototype.setMaxLength = function(t) {
this.dom.maxLength = parseInt(t, 10);
return this;
};
t.prototype.getStep = function() {
return this.dom.step;
};
t.prototype.setStep = function(t) {
this.dom.step = t;
return this;
};
t.prototype.getMultiple = function() {
return this.dom.multiple;
};
t.prototype.setMultiple = function(t) {
this.dom.multiple = o(t);
return this;
};
t.prototype.getAutocomplete = t.prototype.getAutoComplete = l.prototype.getAutocomplete;
t.prototype.setAutocomplete = t.prototype.setAutoComplete = l.prototype.setAutocomplete;
t.prototype.select = function() {
this.dom.select && this.dom.select();
return this;
};
t.prototype.getForm = function() {
return this.dom.form && (this.dom.form.jx_wrapper || this.dom.form);
};
a(t, "jx_ui_Input");
return t;
}();
}).call(e, i(7), i(14), i(16), i(24), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t(e, i, n, o, a) {
if (!(this instanceof t)) return new t(e, i, n, o, a);
a || (a = {});
a.tagName || (a.tagName = "form");
a.method || (a.method = "post");
r.call(this, e, i, n, o, a);
this.on("submit", function(t) {
this.validate() || t.preventDefault();
});
this.on("reset", function(t) {
t.preventDefault();
this.reset();
});
}
var r = i(17);
t.prototype = e(r.prototype);
t.prototype.submit = function() {
this.dom.submit();
return this;
};
t.prototype.reset = function() {
for (var t = this.getElements(), e = 0; e < t.length; e++) t[e].reset && t[e].reset();
return this;
};
t.prototype.getElements = function() {
for (var t = [], e = 0, i = this.dom.elements.length; e < i; e++) t.push(this.dom.elements[e].jx_wrapper || this.dom.elements[e]);
return t;
};
t.prototype.getAutocomplete = t.prototype.getAutoComplete = function() {
return this.dom.autocomplete;
};
t.prototype.setAutocomplete = t.prototype.setAutoComplete = function(t) {
if (void 0 === this.dom.autocomplete) return this;
if ("on" === t || "off" === t) {
this.dom.autocomplete = t;
return this;
}
t = n(t);
this.dom.autocomplete = t ? "on" : "off";
return this;
};
t.prototype.getNoValidate = function() {
return this.dom.noValidate;
};
t.prototype.setNoValidate = function(t) {
this.dom.noValidate = n(t);
return this;
};
t.prototype.getMethod = function() {
return this.dom.method;
};
t.prototype.setMethod = function(t) {
this.dom.method = t;
return this;
};
o(t, "jx_ui_Form");
return t;
}();
}).call(e, i(14), i(16), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__jx_ui_html_div = i(120);
e.__$$__jx_ui_Localizer = i(121);
e.__$$__jx_ui_html_a = i(94);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = o(199), h = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_Localizer, "localizer", "", [ [ e.__$$__jx_ui_html_a, "", "", [], {
"class": "cookie_link"
} ] ], {
id: "localizer",
content: c
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], f = h[0].call(this, a, s, null, n.mangleIDs(s, h[3]), h[4]), p = f || this;
n.set(s, p);
var g = n.get(s + "__localizer");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t() {
g.on("click", function(t) {
t.target.jx_wrapper.hasClass("cookie_link") && n.update({
main_stack_name$string: "cookie_form"
});
});
}
var e = i(40), n = e.root.$$("livechat.ui.chat_window");
t();
}();
for (var $ in m) m.hasOwnProperty($) && (p[$] = m[$]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(u);
"function" == typeof p.addChildren ? p.addChildren(d) : n.addChildren(p, d);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = a(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
".cookie_link": {
textDecoration: "underline",
cursor: "pointer"
}
};
s(t, "meshim_widget_widgets_CookieLawNotice");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(e, i, n, r, a) {
if (!(this instanceof t)) return new t(e, i, n, r, a);
a || (a = {});
a.tagName = "div";
o.call(this, e, i, n, r, a);
}
var o = i(18);
t.prototype = e(o.prototype);
n(t, "jx_ui_html_div");
return t;
}();
}).call(e, i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r) {
t.exports = function() {
function t(i, n, o, r, a) {
if (!(this instanceof t)) return new t(i, n, o, r, a);
a || (a = {});
this.childConstructors = [];
this.childAttributes = [];
this.delimiter = "@";
s.call(this, i, n, o, r, a);
var _ = this;
this._updateContent = function() {
_.updateContent();
};
e && e.onLanguage && e.onLanguage(this._updateContent);
this.onDestruction(function() {
e && e.unLanguage && e.unLanguage(_._updateContent);
});
}
function a(t) {
return t.replace(/&#([0-9]{1,4});/g, function(t, e) {
return String.fromCharCode(e);
});
}
var s = i(17);
t.prototype = n(s.prototype);
t.prototype.appendChild = function(t) {
if (o(t)) {
this.childConstructors.push(t[0]);
this.childAttributes.push(t[4]);
this._localizer_appendchild_override || this.updateContent();
} else s.prototype.appendChild.call(this, t);
};
t.prototype.updateContent = function() {
this.setContent(this.getContent());
};
t.prototype.getContent = function() {
return this.content;
};
t.prototype.setContent = function(t) {
this.content = t;
this.empty();
if (t) {
t.toString && (t = t.toString());
for (var e, i = t, n = i.length, o = 0, r = this.delimiter, _ = r.length, l = 0; o < n && o != -1; ) {
e = i.indexOf(r, o);
e == -1 && (e = n);
if (e > o) {
this._localizer_appendchild_override = !0;
s.prototype.appendChild.call(this, [ s, null, null, [ a(i.slice(o, e)) ], {
tagName: "label",
display: "inline"
} ]);
this._localizer_appendchild_override = !1;
o = e;
}
if (e == o && e != n) {
var d = i.indexOf(r, e + _);
d == -1 && (d = n);
this._localizer_appendchild_override = !0;
s.prototype.appendChild.call(this, [ this.childConstructors[l] || s, null, null, [ a(i.slice(o + _, d)) ], this.childAttributes[l] || {
tagName: "label",
display: "inline"
} ]);
this._localizer_appendchild_override = !1;
o = d + _;
l++;
}
}
return this;
}
};
t.prototype.setChildProperties = function(t, e, i) {
this.childConstructors[t] = e;
this.childAttributes[t] = i;
};
t.prototype.clearChildProperties = function() {
this.childConstructors.length = this.childAttributes.length = 0;
};
t.prototype.getDelimiter = function() {
return this.delimiter;
};
t.prototype.setDelimiter = function(t) {
this.delimiter = t;
this.updateContent();
return this;
};
r(t, "jx_ui_Localizer");
return t;
}();
}).call(e, i(22), i(14), i(21), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
var t = o.getVariable(r);
h.setStyle("padding-top", r && t || "");
}
function e() {
var t = o.getVariable(a);
h.setStyle("padding-bottom", a && t || "");
}
function n() {
h.autobind(_, "value", function(i) {
if (i) {
t();
e();
}
});
h.updatePaddingTop = t;
h.updatePaddingBottom = e;
}
var r, a, s = i(40), _ = s.root.$("livechat").$("ui").$("theme_loaded$bool");
h.setAbsPaddingTop = function(e) {
r = e;
t();
};
h.setAbsPaddingBottom = function(t) {
a = t;
e();
};
n();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative",
"*overflow": "visible",
width: "100%",
height: "100%"
}
};
a(t, "meshim_widget_widgets_AbsolutePaddingContainer");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s, _) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__jx_ui_html_table = i(103);
e.__$$__jx_ui_html_tbody = i(104);
e.__$$__jx_ui_html_tr = i(105);
e.__$$__jx_ui_html_td = i(106);
e.__$$__jx_ui_html_img = i(124);
e.__$$__meshim_widget_widgets_IconFont = i(96);
t.exports = function() {
function t(s, _, d, u, c) {
if (!(this instanceof t)) return new t(s, _, d, u, c);
_ = _ || n.generateID();
var h = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_html_table, "", "", [ [ e.__$$__jx_ui_html_tbody, "", "", [ [ e.__$$__jx_ui_html_tr, "tr", "", [ [ e.__$$__jx_ui_html_td, "text_cell", "", [ [ e.__$$__jx_ui_Widget, "text", "", [], {
id: "text"
} ] ], {
id: "text_cell",
"class": "text_cell"
} ], [ e.__$$__jx_ui_html_td, "image_cell", "", [ [ e.__$$__jx_ui_html_img, "image", "", [], {
id: "image",
addClass: "banner_image"
} ], [ e.__$$__meshim_widget_widgets_IconFont, "icon", "", [], {
id: "icon",
icon: "badge_default",
addClass: "banner_icon"
} ] ], {
id: "image_cell",
"class": "image_cell"
} ] ], {
id: "tr"
} ] ], {} ] ], {
"class": "banner_table"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:components": "meshim.widget.components",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatWindow": "meshim.widget.components.chatWindow",
"xmlns:newChatForm": "meshim.widget.components.chatWindow.newChatForm"
} ], f = h[0].call(this, s, _, null, n.mangleIDs(_, h[3]), h[4]), p = f || this;
n.set(_, p);
var g = n.get(_ + "__tr"), m = n.get(_ + "__text_cell"), $ = n.get(_ + "__text"), b = n.get(_ + "__image_cell"), w = n.get(_ + "__image"), x = n.get(_ + "__icon");
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var v = function() {
function t() {
function t() {
if (_ && "new_chat_form" == l && r.bugs.noBoxSizing) {
w.setWidth("");
w.setHeight("");
a(i, p, !0);
}
}
function i() {
var t = parseInt(w.getWidth() || w.dom.width, 10), e = parseInt(w.getHeight() || w.dom.height, 10);
if (t && e) {
var i, n, o, r = t > e;
i = r ? t : e;
n = r ? e : t;
if (i > k) {
o = i / k;
i /= o;
n /= o;
w.setWidth(r ? i : n);
w.setHeight(r ? n : i);
}
p.dom.className = p.dom.className;
}
}
if (r.bugs.noBoxSizing) {
w.dom.onload = t;
p.autobind(S, "value", function(e) {
_ = e;
t();
});
p.autobind(I, "value", function(e) {
l = e;
t();
});
}
p.autobind(v, "value", function(t) {
n && p.removeClass(n);
n = t;
d.livechat.getLimit() || "image_only" != n || (n = "image_right");
n && p.addClass(n);
e();
});
p.autobind(y, "value", function() {
$.setText(c.get(y));
});
p.autobind(j, "value", function(t) {
o = t;
e();
});
A && u.supportsDataURI(function(t) {
t && p.autobind(C, "value", function(t) {
s = t;
e();
});
});
}
function e() {
var t = u.replaceFileHostname(s || o || ""), e = !!t;
r.isFF && !t && (t = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAAALAAAAAABAAEAAAI=");
switch (n) {
case "image_right":
w.setSrc(t);
g.insertBefore(m, b);
break;

case "image_left":
w.setSrc(t);
g.insertBefore(b, m);
break;

case "image_only":
w.setSrc(t);
break;

default:
p.setStyle("background", "");
}
if (e) {
w.setDisplay("");
x.setDisplay("none");
} else {
w.setDisplay("none");
x.setDisplay("");
}
}
var n, o, s, _, l, d = i(40), u = i(48), c = i(97), h = d.root, f = h.$("livechat").$("settings").$("banner"), v = f.$("layout$string"), y = f.$("text$string"), j = f.$("image_path$string"), C = f.$("image_data$string"), A = h.$("livechat").$("ui").$("mockup$bool").getValue(), S = h.$("livechat").$("ui").$("chat_window").$("display$bool"), I = h.$("livechat").$("ui").$("chat_window").$("main_stack_name$string"), k = 100;
t();
}();
for (var y in v) v.hasOwnProperty(y) && (p[y] = v[y]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(d);
p.setAttributes && p.setAttributes(c);
"function" == typeof p.addChildren ? p.addChildren(u) : n.addChildren(p, u);
if (p !== this) {
p.__jx__constructor = l;
p.__jx__native = !1;
}
return p;
}
var l;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
".banner_table": {
width: "100%",
height: "100%",
tableLayout: "fixed",
direction: "ltr",
color: "$$badgeContentColor"
},
".text_cell, .image_cell": {
verticalAlign: "middle"
},
".text_cell": {
wordWrap: "break-word",
whiteSpace: "pre-wrap"
},
".image_cell": {
width: "100px",
textAlign: "center"
},
".banner_image": {
verticalAlign: "top",
border: "none"
},
".banner_icon": {
display: "inline-block",
fontSize: "90px",
marginTop: "10px"
}
},
"&.image_right": {
".text_cell": {
paddingRight: "3px"
},
".image_cell": {},
".banner_image": {
maxWidth: "100px",
maxHeight: "100px"
}
},
"&.image_left": {
".text_cell": {
paddingLeft: "3px"
},
".image_cell": {},
".banner_image": {
maxWidth: "100px",
maxHeight: "100px"
}
},
"&.image_only": {
".text_cell": {
display: "none"
},
".image_cell": {},
".banner_image": {
maxWidth: "100%"
}
},
"&.text_only": {
".text_cell": {
fontSize: "26px",
textAlign: "center",
width: "100%"
},
".image_cell": {
display: "none"
}
}
};
_(t, "meshim_widget_components_chatWindow_newChatForm_Banner");
l = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(7), i(12), i(14), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(e, i, n, r, a) {
if (!(this instanceof t)) return new t(e, i, n, r, a);
a || (a = {});
a.tagName = "img";
o.call(this, e, i, n, r, a);
}
var o = i(18);
t.prototype = e(o.prototype);
n(t, "jx_ui_html_img");
return t;
}();
}).call(e, i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_widgets_IconFont = i(96);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "zendesk_chat_2016"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
selectable: "false"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.autobind(o, "value", e);
}
function e() {
var t = o.getValue();
h.setVisibility(t ? "hidden" : "");
}
var n = i(40), o = n.root.$("livechat").$("settings").$("branding").$("hide_branding$bool");
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
display: "inline-block",
lineHeight: 1.3,
letterSpacing: "1px",
fontSize: "9px",
"&:focus": {
outline: "none"
}
}
};
a(t, "meshim_widget_components_chatWindow_newChatForm_Branding");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__meshim_widget_widgets_TextField = i(127);
t.exports = function() {
function t(r, a, s, _, l) {
if (!(this instanceof t)) return new t(r, a, s, _, l);
a = a || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_TextField, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
addClass: "unstyled"
} ], u = d[0].call(this, r, a, null, n.mangleIDs(a, d[3]), d[4]), c = u || this;
n.set(a, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(s);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_TextField.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_TextField;
t.__jx__jcss = {
"**self": {
color: "$$badgeInputColor",
padding: "$$badgeInputPadding",
borderWidth: "$$badgeInputBorderWidth",
borderStyle: "$$badgeInputBorderStyle",
borderColor: "$$badgeInputBorderColor",
borderRadius: "$$badgeInputRadius",
boxShadow: "$$badgeInputShadow"
},
"&:focus, &.focus": {
color: "$$badgeInputFocusColor",
background: "$$badgeInputFocusBg",
borderColor: "$$badgeInputFocusBorderColor",
boxShadow: "$$badgeInputFocusShadow"
},
"&::placeholder": {
color: "$$badgeInputPlaceholderColor"
}
};
a(t, "meshim_widget_components_chatWindow_newChatForm_TextField");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
var t = i(128), r = t, a = i(129);
t = function(i, n, o, s, _) {
if (!(this instanceof t)) return new t(i, n, o, s, _);
if (!t.__jx__jcss_generated) {
e.generate(this, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
r.call(this, i, n, o, s, _);
a.__constructor.call(this);
};
t.__jx__jcss = {};
t.prototype = n(r.prototype);
t.prototype.__jx__super = a;
o(t, "meshim_widget_widgets_TextField");
return t;
}();
}).call(e, i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
t.exports = function() {
function t(i, n, o, r, a) {
if (!(this instanceof t)) return new t(i, n, o, r, a);
a = _.extend({}, l, a);
"input" != a.tagName || a.type || (a.type = "text");
s.call(this, i, n, o, r, a);
this.getValue() || this.showPlaceholder();
this.on("blur", this.handlePlaceholderBlur);
this.on("focus", this.handlePlaceholderFocus);
this.on("click", this.handleAutoSelect);
var d = this;
this._handlePlaceholder = function() {
d.setPlaceholder(d.getPlaceholder());
};
e && e.onLanguage && e.onLanguage(this._handlePlaceholder);
}
var s = i(117), _ = i(57), l = {
tagName: "input",
autoValidate: !0
};
t.prototype = n(s.prototype);
t.prototype.getPlaceholder = function() {
return this.internalPlaceholder || "";
};
t.prototype.setPlaceholder = function(t) {
"placeholder" in this.dom || (this.emulatePlaceholder = !0);
this.internalPlaceholder = t;
this.emulatePlaceholder || (this.dom.placeholder = t);
this.placeholderActive && this.showPlaceholder();
return this;
};
t.prototype.handlePlaceholderFocus = function() {
this.placeholderActive && this.hidePlaceholder();
};
t.prototype.handlePlaceholderBlur = function() {
this.getValue() || this.showPlaceholder();
};
t.prototype.showPlaceholder = function() {
this.addClass("placeholder");
this.placeholderActive = !0;
var t = this;
if (this.emulatePlaceholder) {
this._setValueOverride = !0;
this.setValue(this.getPlaceholder());
this._setValueOverride = !1;
if ("password" == this.getType()) {
this.realTypePassword = !0;
if (o.engineIE < 9) {
if (!this.fakePlaceholderPasswordIE) {
var e = {
"class": this.getClass(),
type: "text",
visible: "none",
value: this.getPlaceholder(),
autoValidate: !1,
tabIndex: this.attributes.tabIndex
};
this.fakePlaceholderPasswordIE = new s(this.parentNode, null, null, null, e);
this.parentNode.insertAfter(this.fakePlaceholderPasswordIE, this);
this.autobind(this.fakePlaceholderPasswordIE, "focus", function() {
t.hidePlaceholder();
});
}
"none" != this.getComputedStyle("display") && (this.originalDisplay = this.getComputedStyle("display"));
this.fakePlaceholderPasswordIE.show().setOneStyle("display", this.originalDisplay).setClass(this.getClass());
this.setVisible("none");
} else this.setType("text", !0);
}
}
};
t.prototype.hidePlaceholder = function() {
this.removeClass("placeholder");
this.placeholderActive = !1;
if (this.emulatePlaceholder) {
this._setValueOverride = !0;
this.setValue("");
this._setValueOverride = !1;
if (this.realTypePassword) {
this.realTypePassword = !1;
if (o.engineIE < 9) {
this.fakePlaceholderPasswordIE instanceof s && this.setVisible("block").setOneStyle("display", this.originalDisplay);
this.fakePlaceholderPasswordIE.setVisible("none");
this.focus();
} else this.setType("password", !0);
}
}
};
t.prototype.setValue = function(t) {
var e = 0 === t || !!t;
this._setValueOverride || e && this.hidePlaceholder();
s.prototype.setValue.call(this, t);
if (!this._setValueOverride) try {
this.doc.activeElement.jx_wrapper != this && (e || this.showPlaceholder());
} catch (i) {}
return this;
};
t.prototype.getValue = function() {
return this.placeholderActive && this.emulatePlaceholder ? "" : s.prototype.getValue.call(this);
};
t.prototype.setAutocomplete = t.prototype.setAutoComplete = function(t) {
if (!("autocomplete" in this.dom)) return this;
if ("on" == t || "off" == t) {
this.dom.autocomplete = t;
return this;
}
t = r(t);
this.dom.autocomplete = t ? "on" : "off";
return this;
};
t.prototype.getAutocomplete = t.prototype.getAutoComplete = function() {
return this.dom.autocomplete;
};
t.prototype.getAutoSelect = function() {
return this.autoSelect;
};
t.prototype.setAutoSelect = function(t) {
this.autoSelect = r(t);
return this;
};
t.prototype.handleAutoSelect = function() {
this.autoSelect && this.dom.select();
};
t.prototype.destroy = function() {
e && e.unLanguage && e.unLanguage(this._updatePlaceholder);
this.un("blur", this.handlePlaceholderBlur);
this.un("focus", this.handlePlaceholderFocus);
this.un("click", this.handleAutoSelect);
if (this.fakePlaceholderPasswordIE instanceof s) {
this.fakePlaceholderPasswordIE.destroy();
this.fakePlaceholderPasswordIE = null;
}
s.prototype.destroy.call(this);
};
t.prototype.reset = function() {
s.prototype.reset.call(this);
this.handlePlaceholderBlur();
return this;
};
t.prototype.insertAtCaret = function(t) {
if (t) {
this.placeholderActive && this.hidePlaceholder();
if (void 0 !== this.dom.selectionStart && 9 != o.engineIE) {
var e = this.dom.selectionStart, i = this.dom.selectionEnd, n = this.getScrollTop(), r = this.getValue();
this.setValue(r.substring(0, e) + t + r.substring(i, r.length));
this.focus();
this.dom.selectionStart = this.dom.selectionEnd = e + t.length;
this.setScrollTop(n);
} else if (document.selection) {
this.focus();
var a = document.selection.createRange();
a.text = t;
this.focus();
} else {
this.setValue(this.getValue() + t);
this.focus();
}
}
};
t.prototype.getCaret = function() {
var t = 0;
if (void 0 !== this.dom.selectionStart) t = this.dom.selectionStart; else if (document.selection) {
this.focus();
var e = document.selection.createRange();
e.moveStart("character", -this.getValue().length);
t = e.text.length;
}
return t;
};
t.prototype.setCaret = function(t) {
if (void 0 !== this.dom.selectionStart) {
this.dom.selectionStart = t;
this.dom.selectionEnd = t;
this.focus();
} else if (document.selection) {
this.focus();
var e = document.selection.createRange();
e.moveStart("character", -this.getValue().length);
e.moveEnd("character", -this.getValue().length);
e.moveStart("character", t);
e.moveEnd("character", 0);
e.select();
}
return this;
};
a(t, "jx_ui_TextField");
return t;
}();
}).call(e, i(22), i(14), i(7), i(16), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
var t = i(117), r = t, a = i(17), s = i(40), _ = i(130), l = i(95);
t = function(i, n, o, a, s) {
if (!(this instanceof t)) return new t(i, n, o, a, s);
if (!t.__jx__jcss_generated) {
e.generate(this, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
r.call(this, i, n, o, a, s);
t.__constructor.call(this);
};
t.__constructor = function() {
l.mobile(this);
l.rtl(this);
var t = s.root.$("livechat").$("ui").$("mobile$bool").getValue();
if (t && this.hasClass("mobile_error_icon")) {
this.pContainer = new a(this.parentNode, null, null, null, {
position: "relative"
});
this.pContainer.appendChild(this);
var e = new _(this.pContainer), i = this.showErrorMessage, n = this.hideErrorMessage, o = this;
this.showErrorMessage = function() {
e.setDisplay("");
return i.call(o);
};
this.hideErrorMessage = function() {
e.setDisplay("none");
return n.call(o);
};
}
};
t.__jx__jcss = {
"**self": {
display: "block",
appearance: "none",
"*overflow": "visible",
width: "100%",
color: "$$inputColor",
background: "$$inputBg",
padding: "$$inputPadding",
borderWidth: "$$inputBorderWidth",
borderStyle: "$$inputBorderStyle",
borderColor: "$$inputBorderColor",
borderRadius: "$$inputRadius",
boxShadow: "$$inputShadow"
},
"&:focus, &.focus": {
color: "$$inputFocusColor",
background: "$$inputFocusBg",
borderColor: "$$inputFocusBorderColor",
boxShadow: "$$inputFocusShadow",
outline: "none"
},
"&::placeholder": {
color: "$$inputPlaceholderColor",
fontStyle: "$$inputPlaceholderFontStyle"
},
"&.invalid": {
color: "$$inputInvalidColor",
background: "$$inputInvalidBg",
borderColor: "$$inputInvalidBorderColor",
boxShadow: "$$inputInvalidShadow"
},
"&.invalid.mobile": {
paddingRight: "30px"
},
"&.invalid.rtl.mobile": {
paddingRight: "$$inputPadding",
paddingLeft: "30px"
},
"&.unstyled": {
border: "none",
background: "transparent",
boxShadow: "none"
},
"&.standalone": {
marginTop: "10px",
marginBottom: "5px"
}
};
t.prototype = n(r.prototype);
t.prototype.__jx__super = r;
o(t, "meshim_widget_widgets_Input");
return t;
}();
}).call(e, i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__meshim_widget_widgets_IconFont = i(96);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
icon: "warning_sign"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
var t = i(95);
t.rtl(h);
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__meshim_widget_widgets_IconFont.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_IconFont;
t.__jx__jcss = {
"**self": {
position: "absolute",
top: "12px",
right: "10px",
color: "red",
fontSize: "$$fontSizeXL"
},
"&.rtl": {
right: "auto",
left: "10px"
}
};
a(t, "meshim_widget_widgets_input_InvalidIcon");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(90);
e.__$$__meshim_widget_widgets_ChatWindowDisconnectedToast = i(132);
e.__$$__meshim_widget_widgets_ViewStack = i(87);
e.__$$__meshim_widget_components_chatWindow_preChatOfflineForm_Form = i(137);
e.__$$__meshim_widget_components_chatWindow_preChatOfflineForm_PostSubmit = i(182);
e.__$$__meshim_widget_components_chatWindow_preChatOfflineForm_OperatingHours = i(184);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__meshim_widget_widgets_ChatWindowDisconnectedToast, "disconnected_toast", "", [], {
id: "disconnected_toast",
addClass: "disconnected_toast hide"
} ], [ e.__$$__meshim_widget_widgets_ViewStack, "vs", "", [ [ e.__$$__meshim_widget_components_chatWindow_preChatOfflineForm_Form, "", "", [], {
name: "form"
} ], [ e.__$$__meshim_widget_components_chatWindow_preChatOfflineForm_PostSubmit, "", "", [], {
name: "post_submit"
} ], [ e.__$$__meshim_widget_components_chatWindow_preChatOfflineForm_OperatingHours, "", "", [], {
name: "operating_hours"
} ] ], {
id: "vs"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:preChatOfflineForm": "meshim.widget.components.chatWindow.preChatOfflineForm",
titleBar: "hidePopout",
actionBar: ""
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
var f = n.get(a + "__disconnected_toast"), p = n.get(a + "__vs");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
o.mobile(h);
h.autobind(_, "value", function(t) {
p.setIndex(t || 0);
a.write({
name$string: p.getName()
});
});
h.autobind(s, "value", e);
setTimeout(function() {
e(!0);
}, l);
}
function e(t) {
t && f.removeClass("hide");
}
var n = i(40), o = i(95), r = n.root, a = r.$("livechat").$("ui").$("chat_window").$("pre_chat_offline_form"), s = r.$("connection").$("reattached_timestamp$int"), _ = a.$("stack_index$int"), l = 8e3;
t();
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {
".disconnected_toast.hide": {
display: "none"
}
};
a(t, "meshim_widget_components_chatWindow_PreChatOfflineForm");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_widgets_toast_Disconnected = i(133);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_toast_Disconnected, "", "", [], {
addClass: "toast"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
e.mobile(h);
}
var e = i(95);
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "absolute",
zIndex: "1000",
top: "40px",
left: "0",
width: "100%",
height: "0",
textAlign: "center",
".toast": {
display: "inline-block",
maxWidth: "80%"
}
},
"**self.mobile": {
position: "fixed",
top: "60px"
}
};
a(t, "meshim_widget_widgets_ChatWindowDisconnectedToast");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_Toast = i(134);
e.__$$__meshim_widget_widgets_toast_disconnected_Image = i(135);
e.__$$__jx_ui_Widget = i(17);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = [ e.__$$__meshim_widget_widgets_Toast, "", "", [ [ e.__$$__meshim_widget_widgets_toast_disconnected_Image, "img", "", [], {
id: "img",
addClass: "reconnecting_toast_image"
} ], [ e.__$$__jx_ui_Widget, "message", "", [], {
id: "message",
addClass: "reconnecting_toast_text"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], h = c[0].call(this, a, s, null, n.mangleIDs(s, c[3]), c[4]), f = h || this;
n.set(s, f);
var p = n.get(s + "__img"), g = n.get(s + "__message");
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t() {
f.autobind(s, "value", function(t) {
e = t;
if (t) {
if (l[t]) {
p.stop().reset();
f.addClass("toast_disconnected");
} else {
p.play();
f.removeClass("toast_disconnected");
}
g.setDisplay("fast_init" == t ? "none" : "");
g.setText(_[t] || n);
f.setDisplay("");
} else {
f.setDisplay("none");
p.stop().reset();
}
});
f.on("click", function(t) {
t.preventDefault();
l[e] && o.livechat.reconnect();
});
}
var e, n = r(206), o = i(40), a = i(97), s = o.root.$("connection").$("message$string"), _ = a.connection_status, l = {
idle_disconnect: 1
};
t();
}();
for (var $ in m) m.hasOwnProperty($) && (f[$] = m[$]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_Toast.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Toast;
t.__jx__jcss = {
"**self": {
textAlign: "center",
"&.toast_disconnected": {
cursor: "pointer"
}
},
".reconnecting_toast_text": {
display: "block",
marginLeft: "34px",
fontWeight: "bold",
textAlign: "left"
},
".reconnecting_toast_image": {
"float": "left",
marginTop: "-2px"
}
};
s(t, "meshim_widget_widgets_toast_Disconnected");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(22), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
t.exports = function() {
function t(r, a, s, _, l) {
if (!(this instanceof t)) return new t(r, a, s, _, l);
a = a || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
selectable: "false"
} ], u = d[0].call(this, r, a, null, n.mangleIDs(a, d[3]), d[4]), c = u || this;
n.set(a, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(s);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
color: "$$toastColor",
background: "$$toastBg",
padding: "$$toastPadding",
borderWidth: "$$toastBorderWidth",
borderStyle: "$$toastBorderStyle",
borderColor: "$$toastBorderColor",
borderRadius: "$$toastRadius",
boxShadow: "$$toastShadow"
}
};
a(t, "meshim_widget_widgets_Toast");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
"xmlns:ui": "jx.ui"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
d[l] && d[l].removeClass(r);
l++;
l >= a + _ && (l = s);
d[l] && d[l].addClass(r);
}
for (var e, n = i(136), o = 100, r = "dark", a = 3, s = -1, _ = 2, l = s, d = [], u = 0; u < a; u++) {
d[u] = new n(h);
d[u].addClass("dot");
}
h.play = function() {
if (e) return h;
t();
e = window.setInterval(t, o);
return h;
};
h.stop = function() {
if (!e) return h;
window.clearInterval(e);
e = null;
return h;
};
h.reset = function() {
d[l] && d[l].removeClass(r);
l = s;
return h;
};
h.reset();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
".dot": {
marginRight: "3px"
}
}
};
a(t, "meshim_widget_widgets_toast_disconnected_Image");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
t.exports = function() {
function t(r, a, s, _, l) {
if (!(this instanceof t)) return new t(r, a, s, _, l);
a = a || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [], {
"xmlns:ui": "jx.ui"
} ], u = d[0].call(this, r, a, null, n.mangleIDs(a, d[3]), d[4]), c = u || this;
n.set(a, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(s);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative",
display: "inline-block",
"width, height": "6px",
background: "$$toastColor",
borderRadius: "50%",
opacity: "0.5",
transition: "all 0.3s",
"&.dark": {
opacity: "1"
}
}
};
a(t, "meshim_widget_widgets_toast_disconnected_image_Dot");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s, _) {
e.__$$__meshim_widget_widgets_ChatWindowContent = i(138);
e.__$$__meshim_widget_widgets_ConnAwareForm = i(139);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(140);
e.__$$__jx_ui_Widget = i(17);
e.__$$__jx_ui_html_a = i(94);
e.__$$__meshim_widget_widgets_form_Profile = i(141);
e.__$$__meshim_widget_widgets_Form = i(158);
e.__$$__meshim_widget_widgets_Bottom = i(172);
e.__$$__meshim_widget_widgets_ConnAwareSubmit = i(173);
e.__$$__meshim_widget_widgets_Button = i(157);
t.exports = function() {
function t(s, _, d, u, c) {
if (!(this instanceof t)) return new t(s, _, d, u, c);
_ = _ || n.generateID();
var h = o(143), f = o(144), p = o(145), g = [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ConnAwareForm, "form_container", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__jx_ui_Widget, "pre_chat_message", "", [], {
id: "pre_chat_message",
addClass: "greetings_message"
} ], [ e.__$$__jx_ui_Widget, "offline_message", "", [ [ e.__$$__jx_ui_Widget, "offline_message_msg", "", [], {
id: "offline_message_msg"
} ], [ e.__$$__jx_ui_html_a, "upgrade_link", "", [ h ], {
id: "upgrade_link",
href: "http://zop.im/prem-offline-form",
target: "_blank",
addClass: "link",
visible: "none"
} ] ], {
id: "offline_message",
addClass: "greetings_message"
} ], [ e.__$$__jx_ui_Widget, "offline_message_disabled", "", [], {
id: "offline_message_disabled",
addClass: "greetings_message"
} ], [ e.__$$__jx_ui_Widget, "offline_operating_hours_link", "", [ f ], {
id: "offline_operating_hours_link",
addClass: "link",
visible: "none"
} ], [ e.__$$__meshim_widget_widgets_form_Profile, "profile", "", [], {
id: "profile"
} ], [ e.__$$__meshim_widget_widgets_Form, "form", "", [], {
id: "form"
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__meshim_widget_widgets_ConnAwareSubmit, "submit", "", [], {
id: "submit",
addClass: "submit"
} ], [ e.__$$__meshim_widget_widgets_Button, "back", "", [ p ], {
id: "back",
addClass: "back secondary"
} ] ], {} ] ], {
id: "form_container",
addClass: "form_container",
noValidate: "true"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
absPaddingBottom: "bottomHeight"
} ], m = g[0].call(this, s, _, null, n.mangleIDs(_, g[3]), g[4]), $ = m || this;
n.set(_, $);
var b = n.get(_ + "__form_container"), w = n.get(_ + "__pre_chat_message"), x = n.get(_ + "__offline_message"), v = n.get(_ + "__offline_message_msg"), y = n.get(_ + "__upgrade_link"), j = n.get(_ + "__offline_message_disabled"), C = n.get(_ + "__offline_operating_hours_link"), A = n.get(_ + "__profile"), S = n.get(_ + "__form"), I = n.get(_ + "__submit"), k = n.get(_ + "__back");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var B = function() {
function t() {
function t(t, e, i) {
t.empty();
t.setText("");
"object" == typeof e && e.onTranslate ? t.setText(e) : N.appendTo(t, e, i);
}
function i() {
var t = H.$("2").$("name$string");
t.getValue() !== P.DEPARTMENT && t.update(P.DEPARTMENT);
}
function T() {
var t = S.getField(P.DEPARTMENT);
if (t) {
var e, i = t.input.getValue();
if (i) {
var n = dt.$(i).$("status$string").getValue();
e = "offline" != n;
} else e = !0;
C.setDisplay(D() ? "" : "none");
if (e != h) {
h = e;
E();
}
}
}
function E() {
var t = R(), i = S.getField(P.DEPARTMENT), a = S.getField(P.MESSAGE);
if (t == O.OFFLINE_DISABLED) {
j.setDisplay(r ? "" : "none");
A.setDisplay("none");
S.setDisplay("none");
} else {
j.setDisplay("none");
A.setDisplay("");
S.setDisplay("");
}
switch (t) {
case O.OFFLINE_DISABLED:
w.setDisplay("none");
x.setDisplay("none");
I.setValue(B.pre_chat_offline_form.button_disabled);
V(!1);
break;

case O.OFFLINE:
w.setDisplay("none");
x.setDisplay(o || D() ? "" : "none");
A.setRequired(!0);
A.setPhoneRequired(s);
if (i) {
i.setRequired(!1);
i.input && i.input.setHide(!0);
}
a && a.setRequired(!0);
I.setValue(B.pre_chat_offline_form.button_message);
V(!1);
break;

case O.ONLINE:
w.setDisplay(e ? "" : "none");
x.setDisplay("none");
A.setRequired(U.getValue());
A.setPhoneRequired(n);
if (i) {
i.setRequired(G.getValue());
i.input && i.input.setHide(!1);
}
a && a.setRequired(Y.getValue());
I.setValue(B.pre_chat_offline_form.button_chat);
V(!1);
break;

case O.ONLINE_OFFLINE:
w.setDisplay(e ? "" : "none");
x.setDisplay("none");
A.setRequired(!0);
A.setPhoneRequired(s);
if (i) {
i.setRequired(G.getValue());
i.input && i.input.setHide(!1);
}
a && a.setRequired(!0);
I.setValue(B.pre_chat_offline_form.button_message);
V(!1);
break;

case O.ONLINE_CHATTING:
w.setDisplay("none");
x.setDisplay(o || D() ? "" : "none");
A.setRequired(!0);
A.setPhoneRequired(s);
if (i) {
i.setRequired(!1);
i.input && i.input.setHide(!0);
}
a && a.setRequired(!0);
I.setValue(B.pre_chat_offline_form.button_message);
V(!0);
}
C.setDisplay(D() ? "" : "none");
if (d) {
A.setDisplay("none");
A.setRequired(!1);
}
}
function D() {
var t, e = R();
if ((e == O.OFFLINE || e == O.ONLINE_CHATTING) && _ && l) return !0;
var i = dt.getValue();
for (var n in i) if (i.hasOwnProperty(n)) {
t = i[n].status$string && "offline" === i[n].status$string;
if (_ && l && t) return !0;
}
return !1;
}
function W() {
nt.update({
value_user$string: S.getInput("message").getValue()
});
}
function R() {
return "banned" == u ? O.OFFLINE_DISABLED : "offline" == u ? f ? O.OFFLINE_DISABLED : O.OFFLINE : c ? O.ONLINE_CHATTING : h ? O.ONLINE : O.ONLINE_OFFLINE;
}
function V(t) {
if (t) {
I.removeClass("wide");
k.setDisplay("");
} else {
I.addClass("wide");
k.setDisplay("none");
}
}
$.autobind(H, "value", i);
S.setDataNode(H);
$.autobind(q, "value", function(i) {
e = i;
t(w, B.get(q), L);
E();
});
$.autobind(tt, "value", function(e) {
o = e;
t(v, B.get(tt), L);
E();
});
$.autobind(et, "value", function(e) {
r = e;
t(j, B.get(et), L);
E();
});
$.autobind(F, "value", function(t) {
a(t) && S.populateSelf();
});
$.autobind(at, "value", function(t) {
a(t) && S.populateSelf();
});
$.autobind(ct, "value", function(t) {
if (t != c) {
c = t;
E();
}
});
$.autobind(ut, "value", function(t) {
if (t != u) {
u = t;
E();
}
});
$.autobind(ft, "value", function(t) {
if (t != f) {
f = t;
E();
}
});
$.autobind(Z, "value", function(t) {
n = t;
E();
});
$.autobind(ot, "value", function(t) {
s = t;
E();
});
$.autobind(pt, "value", function(t) {
_ = t;
E();
});
$.autobind(gt, "value", function(t) {
l = t;
E();
});
$.autobind(mt, "value", function(t) {
d = t;
E();
});
$.autobind(dt, "value", T);
S.on("change", T);
$.autobind($t, "value", T);
b.onConnectedAndSubmit(function(t) {
t.preventDefault();
var e, i, n = R();
if (n == O.OFFLINE_DISABLED || $.validate(!0)) {
var o, r = S.getField(P.DEPARTMENT);
r.input && (o = dt.$(r.input.getValue()).getValue("name$string") || "");
A.submit();
switch (n) {
case O.OFFLINE_DISABLED:
bt ? window.close() : m.userHideWindow();
break;

case O.OFFLINE:
g.trackEvent("Offline Message Sent");
S.submit(J, A, !1, "is_offline_form");
W();
lt.update(1);
break;

case O.ONLINE:
g.trackEvent("Chat Request Form Submitted", o);
S.submit(z, A);
i = {
msg: K.getValue() || ""
};
if (r.input && !r.input.isHidden()) {
e = parseInt(X.getValue(), 10) || 0;
$t.parentNode.write({
department_id$int: e
});
i.department = e;
}
"" !== i.msg.trim() && p.livechat.sendChatMsg(i);
M.update(!0);
ht.update("chat_panel");
break;

case O.ONLINE_OFFLINE:
g.trackEvent("Offline Message Sent", o);
S.submit(J, A);
W();
lt.update(1);
break;

case O.ONLINE_CHATTING:
S.submit(J, A);
ht.update("chat_panel");
}
S.reset();
T();
}
});
k.on("click", function() {
ht.update("chat_panel");
});
C.on("click", function(t) {
t && t.target && t.target.jx_wrapper && t.target.jx_wrapper.hasClass("link") && lt.update(2);
});
$.autobind(st, "value", function(t) {
y.setDisplay(t ? "" : "none");
});
}
var e, n, o, r, s, _, l, d, u, c, h, f, p = i(40), g = i(175), m = i(109), B = i(97), N = i(176), T = i(177), E = i(178), D = i(180), O = {
OFFLINE_DISABLED: "OFFLINE_DISABLED",
OFFLINE: "OFFLINE",
ONLINE: "ONLINE",
ONLINE_OFFLINE: "ONLINE_OFFLINE",
ONLINE_CHATTING: "ONLINE_CHATTING"
}, P = {
DEPARTMENT: "department_id",
MESSAGE: "message"
}, L = [ T, E, D ], W = p.root.$("livechat"), R = W.$("ui").$("chat_window").$("pre_chat_form"), F = R.$("form_populate$bool"), M = R.$("submitted$bool"), V = W.$("settings").$("forms").$("pre_chat_form"), H = V.$("form"), z = V.$("form_submitted"), U = V.$("profile_required$bool"), q = V.$("message$string"), G = H.$("2").$("required$bool"), Y = H.$("3").$("required$bool"), X = z.$("2").$("value$string"), K = z.$("3").$("value$string"), Z = H.$("4").$("required$bool"), Q = W.$("settings").$("forms").$("offline_form"), J = Q.$("form_submitted"), tt = Q.$("message$string"), et = Q.$("message_disabled$string"), it = Q.$("form"), nt = it.$("2"), ot = it.$("3").$("required$bool"), rt = W.$("ui").$("chat_window").$("offline_form"), at = rt.$("form_populate$bool"), st = rt.$("upgrade_link_display$bool"), _t = W.$("ui").$("chat_window").$("pre_chat_offline_form"), lt = _t.$("stack_index$int"), dt = W.$("departments"), ut = W.$("account").$("status$string"), ct = W.$("channel").$("chatting$bool"), ht = W.$("ui").$("chat_window").$("main_stack_name$string"), ft = W.$("settings").$("chat_button").$("hide_when_offline$bool"), pt = W.$("settings").$("operating_hours").$("enabled$bool"), gt = W.$("settings").$("operating_hours").$("display_notice$bool"), mt = W.$("settings").$("login").$("restrict_profile$bool"), $t = W.$("profile").$("department_id$int"), bt = W.$("ui").$("popout$bool").getValue();
t();
}();
for (var N in B) B.hasOwnProperty(N) && ($[N] = B[N]);
$.fire && $.fire("init");
$.setStyle && $.setStyle(d);
$.setAttributes && $.setAttributes(c);
"function" == typeof $.addChildren ? $.addChildren(u) : n.addChildren($, u);
if ($ !== this) {
$.__jx__constructor = l;
$.__jx__native = !1;
}
return $;
}
var l;
t.prototype = s(e.__$$__meshim_widget_widgets_ChatWindowContent.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowContent;
t.__jx__jcss = {
".greetings_message": {
whiteSpace: "pre-wrap",
wordWrap: "break-word"
},
".greetings_message, .generated_form": {
marginBottom: "$$marginL"
},
".form_container": {
"width, height": "100%"
},
".link": {
top: "-5px",
cursor: "pointer",
textDecoration: "underline",
marginBottom: "15px"
}
};
_(t, "meshim_widget_components_chatWindow_preChatOfflineForm_Form");
l = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(16), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__meshim_widget_widgets_AbsolutePaddingContainer = i(122);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_AbsolutePaddingContainer, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
n.mobile(h);
n.tablet(h);
}
var e = i(40), n = i(95), o = e.root.$("livechat").$("ui").$("mobile$bool").getValue(), r = h.setAbsPaddingBottom;
h.setAbsPaddingBottom = function() {
o || r.apply(h, arguments);
};
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__meshim_widget_widgets_AbsolutePaddingContainer.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_AbsolutePaddingContainer;
t.__jx__jcss = {
"**self": {},
"&.mobile": {
margin: "0 auto",
height: "auto",
border: "none",
maxWidth: "$$mobileMaxWidthS"
},
"&.tablet": {
maxWidth: "$$mobileMaxWidth"
}
};
a(t, "meshim_widget_widgets_ChatWindowContent");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t(i, n, o, s, _) {
if (!(this instanceof t)) return new t(i, n, o, s, _);
if (!t.__jx__jcss_generated) {
e.generate(this, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
r.call(this, i, n, o, s, _);
var l = this;
this.$connection_message = a.root.$("connection").$("message$string");
this.connected_submits = [];
this.on("submit", function(t) {
l.handleSubmit(t);
});
this.onDestruction(function() {
l.connected_submits = null;
});
}
var r = i(118), a = i(40);
t.__jx__jcss = {};
t.prototype = n(r.prototype);
t.prototype.__jx__super = r;
t.prototype.onConnectedAndSubmit = function(t) {
this.connected_submits.push(t);
};
t.prototype.handleSubmit = function(t) {
var e = !!this.$connection_message.getValue();
if (e) t.preventDefault(); else for (var i = 0; i < this.connected_submits.length; i++) this.connected_submits[i](t);
};
o(t, "meshim_widget_widgets_ConnAwareForm");
return t;
}();
}).call(e, i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__jx_ui_Widget = i(17);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "inner", "", [ [ e.__$$__jx_ui_Widget, "inside", "", [], {
id: "inside",
addClass: "scrollable_inside",
container: "default"
} ] ], {
id: "inner",
addClass: "scrollable_inner"
} ], [ e.__$$__jx_ui_Widget, "", "", [], {
addClass: "scrollable_fixed_top"
} ], [ e.__$$__jx_ui_Widget, "", "", [], {
addClass: "scrollable_fixed_bottom"
} ] ], {
"xmlns:ui": "jx.ui"
} ], h = c[0].call(this, a, s, null, n.mangleIDs(s, c[3]), c[4]), f = h || this;
n.set(s, f);
var p = n.get(s + "__inner"), g = n.get(s + "__inside");
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
f.defaultPlacement = g;
var m = function() {
function t() {
_ && window.clearTimeout(_);
_ = window.setTimeout(e, 10);
}
function e() {
_ && window.clearTimeout(_);
_ = null;
if (f.dom) {
f[n() ? "addClass" : "removeClass"]("scroll_top");
f[o() ? "addClass" : "removeClass"]("scroll_bottom");
f[a() ? "addClass" : "removeClass"]("scrollable");
}
}
function n() {
return !p.getScrollTop();
}
function o() {
return p.getScrollTop() + p.getHeight() >= p.getScrollHeight();
}
function a() {
return p.getScrollHeight() > p.getHeight();
}
function s() {
function e() {
g.style.direction = r.rtl() ? "rtl" : "ltr";
}
function i() {
r.unLanguage(e);
}
f.autobind(u, "value", t);
t();
d.mobile(f);
d.popout(f);
d.windowSize(f, "sf_");
c.getValue() && f.addClass("mobile");
if (r && r.onLanguage) {
r.onLanguage(e);
e();
f.onDestruction(i);
}
}
var _, l = i(40), d = i(95), u = l.root.$("livechat").$("ui").$("theme_loaded$bool"), c = l.root.$$("livechat.ui.mobile$bool");
p.on("scroll", t);
f.updateScrollStyles = t;
f.getScrollHeight = function() {
return p.getScrollHeight();
};
f.getScrollTop = function() {
return p.getScrollTop();
};
f.getHeight = function() {
return p.getHeight();
};
f.setScrollTop = function(t) {
return p.setScrollTop(t);
};
s();
}();
for (var $ in m) m.hasOwnProperty($) && (f[$] = m[$]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = a(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self, .scrollable_inner": {
position: "relative",
"width, height": "100%"
},
".scrollable_inner": {
overflowX: "hidden",
overflowY: "auto",
paddingBottom: "0 !important",
direction: "ltr"
},
".scrollable_fixed_top, .scrollable_fixed_bottom": {
position: "absolute",
"left, right": 0,
pointerEvents: "none"
},
".scrollable_fixed_top": {
top: 0,
height: "$$scrollableFrameTopHeight",
background: "$$scrollableFrameTopBackground",
backgroundColor: "$$scrollableFrameTopBackgroundColor"
},
".scrollable_fixed_bottom": {
bottom: 0,
height: "$$scrollableFrameBottomHeight",
background: "$$scrollableFrameBottomBackground",
backgroundColor: "$$scrollableFrameBottomBackgroundColor"
},
"&.scroll_top .scrollable_fixed_top": {
display: "none"
},
"&.scroll_bottom .scrollable_fixed_bottom": {
display: "none"
},
"&.scroll .scrollable_inner": {},
"&.sf_small": {
padding: "$$scrollableFramePaddingSmall",
".scrollable_inner": {
padding: "$$scrollableFrameInnerPaddingSmall"
}
},
"&.sf_medium": {
padding: "$$scrollableFramePaddingMedium",
".scrollable_inner": {
padding: "$$scrollableFrameInnerPaddingMedium"
}
},
"&.sf_large": {
padding: "$$scrollableFramePaddingLarge",
".scrollable_inner": {
padding: "$$scrollableFrameInnerPaddingLarge"
}
},
"&.popout": {
"@media only screen and (max-width: 300px)": {
padding: "$$scrollableFramePaddingSmall",
".scrollable_inner": {
padding: "$$scrollableFrameInnerPaddingSmall"
}
},
"@media only screen and (min-width: 300px) and (max-width: 500px)": {
padding: "$$scrollableFramePaddingMedium",
".scrollable_inner": {
padding: "$$scrollableFrameInnerPaddingMedium"
}
},
"@media only screen and (min-width: 500px)": {
padding: "$$scrollableFramePaddingLarge",
".scrollable_inner": {
padding: "$$scrollableFrameInnerPaddingLarge"
}
}
},
"&.mobile": {
borderBottom: "none",
".scrollable_inner": {
padding: "10px"
}
}
};
s(t, "meshim_widget_widgets_ScrollableFrame");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(22), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s, _) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__jx_ui_Label = i(101);
e.__$$__meshim_widget_widgets_FakeInput = i(142);
e.__$$__meshim_widget_widgets_Avatar = i(143);
e.__$$__meshim_widget_widgets_iconFont_Button = i(150);
e.__$$__meshim_widget_widgets_ErrorMessage = i(151);
e.__$$__meshim_widget_widgets_TextField = i(127);
e.__$$__meshim_widget_widgets_EmailField = i(152);
e.__$$__meshim_widget_widgets_PhoneField = i(154);
t.exports = function() {
function t(s, _, d, u, c) {
if (!(this instanceof t)) return new t(s, _, d, u, c);
_ = _ || n.generateID();
var h = o(162), f = o(163), p = o(164), g = o(165), m = o(166), $ = o(167), b = o(168), w = o(169), x = o(170), v = o(171), y = o(172), j = o(173), C = o(174), A = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "available_types_el", "", [ [ e.__$$__jx_ui_Label, "label_logged_out", "", [ h, [ e.__$$__jx_ui_Label, "label_logged_out_required", "", [], {
id: "label_logged_out_required"
} ] ], {
id: "label_logged_out",
addClass: "label label_logged_out"
} ], [ e.__$$__jx_ui_Label, "label_logged_in", "", [ f ], {
id: "label_logged_in",
addClass: "label label_logged_in"
} ], [ e.__$$__meshim_widget_widgets_FakeInput, "fake_input", "", [ [ e.__$$__meshim_widget_widgets_Avatar, "avatar", "", [], {
id: "avatar",
addClass: "avatar"
} ], [ e.__$$__jx_ui_Label, "internal_placeholder", "", [ p ], {
id: "internal_placeholder",
addClass: "internal_placeholder"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Label, "logged_in_name", "", [], {
id: "logged_in_name",
addClass: "logged_in_name"
} ], [ e.__$$__jx_ui_Label, "logged_in_email", "", [], {
id: "logged_in_email",
addClass: "logged_in_email"
} ], [ e.__$$__jx_ui_Label, "logged_in_phone", "", [], {
id: "logged_in_phone",
addClass: "logged_in_phone"
} ], [ e.__$$__jx_ui_Widget, "logged_in_actions", "", [ [ e.__$$__meshim_widget_widgets_iconFont_Button, "logged_in_edit", "", [], {
id: "logged_in_edit",
icon: "pencil",
title: g
} ], [ e.__$$__meshim_widget_widgets_iconFont_Button, "logged_in_clear", "", [], {
id: "logged_in_clear",
icon: "dustbin",
title: m
} ] ], {
id: "logged_in_actions",
addClass: "logged_in_actions"
} ] ], {
addClass: "floater_inner_seriously"
} ] ], {
addClass: "floater_inner"
} ] ], {
addClass: "floater"
} ] ], {
id: "fake_input",
addClass: "fake_input",
tabIndex: "0"
} ], [ e.__$$__meshim_widget_widgets_ErrorMessage, "error_message", "", [ $ ], {
id: "error_message",
addClass: "error_message",
useDisplay: "true"
} ] ], {
id: "available_types_el",
addClass: "field profile_field"
} ], [ e.__$$__jx_ui_Widget, "editing_el", "", [ [ e.__$$__jx_ui_Label, "label_edit_internal", "", [ h, [ e.__$$__jx_ui_Label, "label_edit_internal_required", "", [], {
id: "label_edit_internal_required"
} ] ], {
id: "label_edit_internal",
addClass: "label label_edit_internal"
} ], [ e.__$$__meshim_widget_widgets_TextField, "name", "", [], {
id: "name",
placeholder: b,
addClass: "input_name standalone mobile_error_icon"
} ], [ e.__$$__meshim_widget_widgets_ErrorMessage, "name_error", "", [ w ], {
id: "name_error",
addClass: "error_message",
useDisplay: "true"
} ], [ e.__$$__meshim_widget_widgets_EmailField, "email", "", [], {
id: "email",
placeholder: x,
addClass: "input_email standalone mobile_error_icon"
} ], [ e.__$$__meshim_widget_widgets_ErrorMessage, "email_error", "", [ v ], {
id: "email_error",
addClass: "error_message",
useDisplay: "true"
} ] ], {
id: "editing_el",
addClass: "editing field profile_field"
} ], [ e.__$$__jx_ui_Widget, "edit_external", "", [ [ e.__$$__jx_ui_Label, "", "", [ y ], {
addClass: "edit_external_label"
} ], [ e.__$$__jx_ui_Widget, "edit_external_types", "", [], {
id: "edit_external_types",
addClass: "edit_external_types"
} ] ], {
id: "edit_external",
addClass: "edit_external"
} ], [ e.__$$__jx_ui_Widget, "phone_field", "", [ [ e.__$$__jx_ui_Label, "phone_label", "", [ j, [ e.__$$__jx_ui_Label, "phone_required", "", [], {
id: "phone_required"
} ] ], {
id: "phone_label",
addClass: "label"
} ], [ e.__$$__meshim_widget_widgets_PhoneField, "phone", "", [], {
id: "phone",
addClass: "input_phone mobile_error_icon"
} ], [ e.__$$__meshim_widget_widgets_ErrorMessage, "phone_error", "", [ C ], {
id: "phone_error",
addClass: "error_message",
useDisplay: "true"
} ] ], {
id: "phone_field",
addClass: "field field_phone"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets",
"class": "profile_form"
} ], S = A[0].call(this, s, _, null, n.mangleIDs(_, A[3]), A[4]), I = S || this;
n.set(_, I);
var k = n.get(_ + "__available_types_el"), B = n.get(_ + "__label_logged_out"), N = n.get(_ + "__label_logged_out_required"), T = n.get(_ + "__label_logged_in"), E = n.get(_ + "__fake_input"), D = n.get(_ + "__avatar"), O = n.get(_ + "__internal_placeholder"), P = n.get(_ + "__logged_in_name"), L = n.get(_ + "__logged_in_email"), W = n.get(_ + "__logged_in_phone"), R = n.get(_ + "__logged_in_actions"), F = n.get(_ + "__logged_in_edit"), M = n.get(_ + "__logged_in_clear"), V = n.get(_ + "__error_message"), H = n.get(_ + "__editing_el"), z = n.get(_ + "__label_edit_internal"), U = n.get(_ + "__label_edit_internal_required"), q = n.get(_ + "__name"), G = n.get(_ + "__name_error"), Y = n.get(_ + "__email"), X = n.get(_ + "__email_error"), K = n.get(_ + "__edit_external"), Z = n.get(_ + "__edit_external_types"), Q = n.get(_ + "__phone_field"), J = n.get(_ + "__phone_label"), tt = n.get(_ + "__phone_required"), et = n.get(_ + "__phone"), it = n.get(_ + "__phone_error");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var nt = function() {
function t() {
var t, e, i, n = m.getValue();
for (e in n) if (n.hasOwnProperty(e)) {
t = n[e];
i = S[t.name$string];
if (!i) continue;
i.setRequired(!("required$bool" in t) || t.required$bool);
i.setPlaceholder(t.placeholder$string || A[t.name$string]);
}
}
function e() {
var t, e = ot.getValue();
at = 0;
if (e) {
c = e.email$bool;
for (var i in j) if (j.hasOwnProperty(i)) if (e[i + "$bool"]) {
at++;
t = i;
j[i].setDisplay("");
} else j[i].setDisplay("none");
_();
}
}
function n(t) {
f = t;
_();
}
function r(t) {
p = t;
_();
}
function s(t) {
if (t) {
if ("display_name$string" in t) if (w.isDefaultName(t.display_name$string)) {
P.setText("");
q.setValue("");
} else {
P.setText(t.display_name$string || "");
q.setValue(t.display_name$string || "");
}
if ("email$string" in t) {
L.setText(t.email$string || "");
Y.setValue(t.email$string || "");
}
if ("phone$string" in t) {
W.setText(t.phone$string || "");
et.setValue(t.phone$string || "");
}
_();
}
}
function _() {
p && (h = !1);
B.setDisplay(f ? "none" : "");
T.setDisplay(f ? "" : "none");
k.setDisplay(h ? "none" : "");
D.setDisplay(f ? "" : "none");
O.setDisplay(!f && c ? "" : "none");
H.setDisplay(h ? "" : "none");
K.setDisplay(!f && at ? "" : "none");
if (!f && at) h ? H.addClass("zero_margin") : k.addClass("zero_margin"); else {
k.removeClass("zero_margin");
H.removeClass("zero_margin");
}
if ($) {
B.setDisplay("none");
T.setDisplay("none");
z.setDisplay("none");
}
P.setDisplay(f ? "" : "none");
L.setDisplay(f ? "" : "none");
W.setDisplay(f && I.disabled ? "" : "none");
R.setDisplay(f && !I.disabled ? "" : "none");
f && !I.disabled ? P.addClass("buttons_pad") : P.removeClass("buttons_pad");
F.setDisplay(p ? "none" : "");
I.setClass("profile_form");
I.disabled && I.addClass("disabled");
g && I.addClass("mobile");
o && o.onLanguage && d();
I.addClass(f ? "logged_in" : "logged_out");
I.addClass(c ? "internal_enabled" : "internal_disabled");
I.addClass(h ? "editing" : "available_types");
at ? 1 == at ? I.addClass("external_one") : I.addClass("external_many") : I.addClass("external_none");
}
function l() {
function t(t) {
if (t && (!t.keyCode || 13 == t.keyCode)) {
var e = t.target.jx_wrapper;
if (e != Z) {
for (;e.parentNode != Z; ) e = e.parentNode;
var i = e.getName && e.getName();
i && b.livechat.doExternalLogin(i);
}
}
}
function i(t) {
t && t.preventDefault();
q.setValidity(!0);
Y.setValidity(!0);
h = !0;
_();
q.focus();
}
function a(t) {
t && t.preventDefault();
b.livechat.doExternalLogout();
E.blur();
dt.getValue() && i();
}
var l;
g = dt.getValue();
g && I.addClass("mobile");
D.setDataNode(st);
V.setDisplay("none");
I.removeClass("editing").addClass("available_types");
for (l in j) j.hasOwnProperty(l) && (j[l] = new (g ? y : v)(Z, null, null, null, g ? {
name: l,
addClass: "float profile_form_edit_external " + l,
icon: C[l] + "_out"
} : {
name: l,
addClass: "profile_form_icon " + l,
icon: C[l],
title: x.external_login[l] || l,
tabIndex: 0
}));
Z.on("keyup", t);
Z.on(g ? "touchend" : "click", t);
E.on("focus", function() {
f || I.disabled || c && i();
});
F.on("click", i);
M.on("click", a);
et.setLabelElement(J);
q.setErrorMessageElement(G).hideErrorMessage();
Y.setErrorMessageElement(X).hideErrorMessage();
et.setErrorMessageElement(it).hideErrorMessage();
I.autobind(ot, "value", e);
I.autobind(_t, "value", n);
I.autobind(st, "value", s);
I.autobind(lt, "value", r);
if (o && o.onLanguage) {
o.onLanguage(d);
d();
}
}
function d() {
I[o.rtl() ? "addClass" : "removeClass"]("rtl");
}
var u, c, h, f, p, g, m, $, b = i(40), w = i(48), x = i(97), v = i(155), y = i(156), j = {
facebook: void 0,
twitter: void 0,
google: void 0
}, C = {
facebook: "facebook",
twitter: "twitter",
google: "google_2016"
}, A = {
name: o(175),
email: o(176)
}, S = {
name: q,
email: Y,
phone: et
}, nt = b.root.$("livechat").$("settings").$("login"), ot = nt.$("allowed_types"), rt = nt.$("phone_display$bool"), at = 0, st = b.root.$("livechat").$("profile"), _t = st.$("logged_in$bool"), lt = st.$("auth").$("type$string"), dt = b.root.$("livechat").$("ui").$("mobile$bool");
I.submit = function() {
var t = q.getValue().trim(), e = Y.getValue().trim(), i = et.getValue().trim(), n = {};
if (!f || t || e) {
n.name = t;
n.email = e;
}
u && (n.phone = i);
b.livechat.updateProfile(n);
h = !1;
_();
};
I.setHideLabel = function() {
$ = !0;
_();
};
I.setDisabled = function(t) {
t = a(t);
I.disabled = t;
I[t ? "addClass" : "removeClass"]("disabled");
q.setDisabled(t);
Y.setDisabled(t);
Q.setDisplay(t ? "none" : "");
};
I.validate = function(t) {
for (var e = !0, i = [ q, Y ], n = 0, o = i.length; n < o; n++) i[n].validate(!!t && e) || (e = !1);
e ? k.removeClass("invalid") : k.addClass("invalid");
V.setDisplay(e ? "none" : "");
u && !et.validate(!!t && e) && (e = !1);
return e;
};
I.setDataNode = function(e) {
if (m != e) {
m && I.autounbind(m, "value", t);
m = e;
m && I.autobind(m, "value", t);
}
};
I.getValue = function() {
var t = {}, e = q.getValue();
w.isDefaultName(e) || (t.name = e);
t.email = Y.getValue();
t.phone = et.getValue();
return t;
};
I.setRequired = function(t) {
t = a(t);
q.setRequired(t);
Y.setRequired(t);
N.setText(t ? " *" : "");
U.setText(t ? " *" : "");
if (!t) {
var e = q.validate(!1);
e = Y.validate(!1) && e;
V.setDisplay(e ? "none" : "");
}
};
I.setPhoneRequired = function(t) {
t = a(t);
et.setRequired(t);
tt.setText(t ? " *" : "");
t || et.validate(!1);
};
I.autobind(rt, "value", function(t) {
u = t;
Q.setDisplay(t ? "" : "none");
});
l();
}();
for (var ot in nt) nt.hasOwnProperty(ot) && (I[ot] = nt[ot]);
I.fire && I.fire("init");
I.setStyle && I.setStyle(d);
I.setAttributes && I.setAttributes(c);
"function" == typeof I.addChildren ? I.addChildren(u) : n.addChildren(I, u);
if (I !== this) {
I.__jx__constructor = l;
I.__jx__native = !1;
}
return I;
}
var l;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
".label_logged_out": {},
".label_logged_in": {},
".fake_input": {
position: "relative",
overflow: "hidden",
transform: "translateZ(0)",
"*zoom": 1
},
".avatar": {
"float": "left",
"width, height": "32px",
marginRight: "5px",
"&": "$$profileFormLoggedIn"
},
"&.rtl .avatar": {
"float": "right",
marginRight: 0,
marginLeft: "5px"
},
".internal_placeholder": {
"float": "left",
"vertical-align": "top",
cursor: "pointer"
},
"&.rtl .internal_placeholder": {
"float": "right"
},
".profile_divider": {
"vertical-align": "top",
marginRight: "5px"
},
"&.rtl .profile_divider": {
marginRight: 0,
marginLeft: "5px"
},
".internal_placeholder, .profile_divider": {
lineHeight: "18px",
"*lineHeight": "18px !important"
},
".editing": {
".input_name": {},
".input_email": {},
".input_phone": {}
},
".edit_external": {
marginTop: "5px",
color: "$$menuHeaderColor",
marginBottom: "15px",
".edit_external_label": {
verticalAlign: "middle"
},
".edit_external_types": {
display: "inline-block",
verticalAlign: "middle",
".profile_form_edit_external": {
display: "inline-block"
}
}
},
"&.rtl .edit_external": {
".edit_external_types": {
".profile_form_edit_external": {
marginLeft: 0,
marginRight: "5px"
}
}
},
".logged_in_name": {
fontWeight: "bold"
},
".logged_in_name.buttons_pad": {
paddingRight: "40px"
},
".logged_in_name, .logged_in_email": {
display: "block",
whiteSpace: "nowrap",
overflow: "hidden",
textOverflow: "ellipsis"
},
"&.rtl .logged_in_name": {
paddingRight: 0
},
"&.rtl .logged_in_name.buttons_pad": {
paddingLeft: "40px"
},
".logged_in_actions": {
position: "absolute",
"top, right": 0,
color: "$$menuHeaderColor",
marginTop: "5px",
marginRight: "5px",
button: {
marginLeft: "5px",
"&:hover, &:focus": {
color: "$$menuColor"
}
},
".divider": {
fontSize: "$$fontSizeXS",
lineHeight: "1.5",
margin: "0 5px",
cursor: "default",
opacity: .5
}
},
"&.rtl .logged_in_actions": {
right: "auto",
left: 0
},
".floater": {
display: "block",
overflow: "hidden",
"*position": "relative !important",
".floater_inner": {
display: "table",
".floater_inner_seriously": {
display: "table-cell",
verticalAlign: "middle"
}
}
},
"&.internal_enabled": {
".floater": {
"float": "right",
"*float": "right !important"
}
},
"&.rtl.internal_enabled": {
".floater": {
"float": "left"
}
},
"&.logged_in, &.internal_disabled": {
".floater": {
".floater_inner": {
tableLayout: "fixed",
width: "100%",
height: "32px"
}
}
},
"&.logged_in": {
".fake_input": {
background: "$$formSubmittedBg",
borderRadius: "$$formSubmittedRadius",
borderWidth: "$$formSubmittedBorderWidth",
borderStyle: "$$formSubmittedBorderStyle",
borderColor: "$$formSubmittedBorderColor"
},
".floater": {
"float": "none !important"
}
},
"&.logged_out.internal_disabled, &.logged_in": {
".fake_input": {}
},
".profile_form_icon": {
cursor: "pointer",
display: "inline-block",
marginLeft: "5px",
"height, fontSize": "17px",
lineHeight: "21px",
"*padding": "0 !important",
"*marginLeft": "5px !important"
},
"&.rtl .profile_form_icon": {
marginLeft: 0,
marginRight: "5px"
},
".field": {
marginBottom: "15px",
"&.last-child": {
marginBottom: 0
},
"&.profile_field": {
"*padding": "0 !important",
"&.invalid": {},
"&.zero_margin": {
marginBottom: "0"
}
}
},
".label": {
display: "block",
marginBottom: "5px",
fontWeight: "bold"
},
"&.mobile": {
".avatar": {
"width, height": "36px"
},
"&.available_types": {
".fake_input": {
".internal_placeholder": {
lineHeight: "25px"
},
".profile_divider": {
lineHeight: "44px",
marginRight: "10px"
}
},
".floater": {
position: "absolute",
top: 0,
right: "-2px",
height: "100%"
},
".profile_form_icon": {
"marginLeft, marginRight": 0,
width: "auto",
height: "46px",
padding: "13px 12px 10px",
borderWidth: "0 0 0 1px",
borderRadius: "0",
".icon_font": {
textAlign: "center"
},
"&.google": {
"paddingLeft, paddingRight": "8px"
}
},
"&.logged_in": {
".fake_input": {},
".floater": {
position: "relative",
"top, right, left": 0
}
}
},
".logged_in_name, .logged_in_email": {
paddingRight: "80px"
},
".logged_in_actions": {
margin: "0px",
height: "100%",
button: {
height: "100%",
padding: "0 5px"
}
},
".editing": {
".name_container, .email_container": {
position: "relative",
"input.invalid ~ .error_icon": {
display: "block"
}
}
},
".edit_external": {
marginBottom: "15px",
".edit_external_types": {
display: "block",
marginTop: "10px"
}
}
},
"&.rtl.mobile": {
".floater": {
right: "auto",
left: "-2px"
},
".profile_divider": {
marginRight: 0,
marginLeft: "10px"
},
".logged_in_name, .logged_in_email": {
paddingRight: 0,
paddingLeft: "80px"
},
"&.available_types": {
".profile_form_icon": {
borderWidth: "0 1px 0 0"
}
}
},
"&.disabled": {
".field": {
marginBottom: 0
},
".fake_input": {
border: "none",
background: "transparent"
},
".field_phone": {
display: "none"
}
}
};
_(t, "meshim_widget_widgets_form_Profile");
l = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(16), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t(i, n, o, s, _) {
if (!(this instanceof t)) return new t(i, n, o, s, _);
if (!t.__jx__jcss_generated) {
e.generate(this, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
_ || (_ = {});
_.tagName || (_.tagName = "div");
r.call(this, i, n, o, s, _);
a.__constructor.call(this);
}
var r = i(17), a = i(129);
t.__jx__jcss = {};
t.prototype = n(r.prototype);
t.prototype.__jx__super = a;
o(t, "meshim_widget_widgets_FakeInput");
return t;
}();
}).call(e, i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__meshim_widget_widgets_Gravatar = i(144);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_Gravatar, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.setMemberId = e;
}
function e(t) {
a.test(t) ? h.setDataNode(n.root.$$("livechat.settings.concierge")) : o.test(t) ? h.setDataNode(n.root.$$("livechat.agents").$(t)) : r.test(t) ? h.setDataNode(n.root.$$("livechat.profile")) : h.setDataNode(n.root.$$("livechat.settings.concierge"));
return h;
}
var n = i(40), o = /^agent/gi, r = /^visitor/gi, a = /^agent:trigger$/;
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__meshim_widget_widgets_Gravatar.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Gravatar;
t.__jx__jcss = {};
a(t, "meshim_widget_widgets_Avatar");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__jx_ui_html_div = i(120);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = [ e.__$$__jx_ui_html_div, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], h = c[0].call(this, a, s, null, n.mangleIDs(s, c[3]), c[4]), f = h || this;
n.set(s, f);
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
f.setImages = l;
f.setDataNode = n;
f.setMemberNode = o;
f.setGroupNode = a;
f.setHideAuthType = e;
}
function e(t) {
f[r(t) ? "addClass" : "removeClass"]("hide_auth_type");
return f;
}
function n(t) {
f.autounbind();
"agents" == t.name ? a(t) : o(t);
}
function o(t) {
var e = d([ t ]);
e.setNodes([ t ]);
}
function a(t) {
u && f.autounbind(u, "keys", s);
u = t;
u && f.autobind(u, "keys", s);
}
function s() {
for (var t = u.getKeys(), e = [], i = 0, n = Math.min(3, t.length); i < n; i++) e.push(u.$(t[i]));
_(e);
}
function _(t) {
var e = d(t);
e && e.setNodes(t);
}
function l(t) {
var e = d(t);
e && e.setImages(t);
}
function d(t) {
if (t instanceof Array && t.length) {
var e = Math.min(t.length, 4), i = b[e - 1];
if (e !== h) {
f.empty();
c = new i(f);
h = e;
}
return c;
}
}
var u, c, h, p = i(145), g = i(147), m = i(148), $ = i(149), b = [ p, g, m, $ ];
t();
}();
for (var g in p) p.hasOwnProperty(g) && (f[g] = p[g]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = a(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
width: "60px",
height: "60px",
position: "relative",
overflow: "hidden",
borderWidth: "$$avatarBorderWidth",
borderStyle: "$$avatarBorderStyle",
borderColor: "$$avatarBorderColor",
borderRadius: "$$avatarRadius",
boxShadow: "$$avatarShadow",
".avatar": {
background: "#FFF"
},
"&.hide_auth_type": {
".auth_type": {
display: "none !important"
}
}
}
};
s(t, "meshim_widget_widgets_Gravatar");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(16), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_html_div = i(120);
e.__$$__meshim_widget_widgets_gravatar_GravatarImage = i(146);
t.exports = function() {
function t(r, a, s, _, l) {
if (!(this instanceof t)) return new t(r, a, s, _, l);
a = a || n.generateID();
var d = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image", "", [], {
id: "image",
addClass: "avatar"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:gravatar": "meshim.widget.widgets.gravatar",
"class": "gravatarOne"
} ], u = d[0].call(this, r, a, null, n.mangleIDs(a, d[3]), d[4]), c = u || this;
n.set(a, c);
var h = n.get(a + "__image");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t(t) {
t instanceof Array && h.setSrc(t[0]);
}
function e(t) {
t instanceof Array && h.setDataNode(t[0]);
}
c.setImages = t;
c.setNodes = e;
}();
for (var p in f) f.hasOwnProperty(p) && (c[p] = f[p]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(s);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
position: "relative",
width: "100%",
height: "100%",
".avatar": {
width: "100%",
height: "100%",
border: "0px none"
}
}
};
a(t, "meshim_widget_widgets_gravatar_GravatarOne");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__jx_ui_html_img = i(124);
e.__$$__meshim_widget_widgets_IconFont = i(96);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_html_img, "img", "", [], {
id: "img",
"class": "img"
} ], [ e.__$$__meshim_widget_widgets_IconFont, "auth_type", "", [], {
id: "auth_type",
addClass: "auth_type"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
var f = n.get(a + "__img"), p = n.get(a + "__auth_type");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
h.autobind($, "value", function(t) {
d && t != d && o();
});
}
function e(t) {
n();
_ && h.autounbind(_, "value", o);
_ = t;
u = !1;
_ && h.autobind(_, "value", o);
}
function n() {
x = v = y = j = "";
}
function o() {
if (_ && !u) {
switch (_.name) {
case "profile":
l = "visitor";
break;

case "concierge":
l = "concierge";
break;

default:
l = "agent";
}
var t = _.getValue();
if (t) {
t.nick$string && (C = t.nick$string);
t.display_name$string && !m.isDefaultName(t.display_name$string) && r(t.display_name$string);
t.email$string && (v = t.email$string);
if (t.auth && t.auth.avatar$string) y = t.auth.avatar$string; else if (t.avatar_data$string) y = t.avatar_data$string; else if (t.avatar_path$string) {
y = t.avatar_path$string;
"agent" == l && (u = !0);
} else y = "";
"agent" != l || y || (y = b.getValue());
if (t.auth && "type$string" in t.auth) {
A && p.removeClass(A);
A = t.auth.type$string || "";
A && p.addClass(A);
p.setIcon(A);
}
p.setDisplay(A ? "" : "none");
a();
} else {
p.setDisplay("none");
y = c.AVATARS.AGENT;
a();
}
}
}
function r(t) {
if (t && t != x) {
h.setTitle(t);
x = t;
}
}
function a() {
var t = y || s();
if (t && t != j) {
f.setSrc(m.replaceFileHostname(t));
j = t;
}
}
function s() {
var t = $.getValue(), e = w.getValue() || {};
d = t;
var i;
switch (l) {
case "visitor":
i = e.visitor$string || c.AVATARS.VISITOR;
break;

case "concierge":
i = e.concierge$string || c.AVATARS.CONCIERGE;
break;

case "agent":
i = b.getValue() || e.agent$string || c.AVATARS.AGENT;
}
return i || c.AVATARS.DEFAULT;
}
var _, l, d, u, c = i(42), g = i(40), m = i(48), $ = g.root.$("livechat").$("settings").$("theme").$("name$string"), b = g.root.$("livechat").$("settings").$("concierge").$("avatar_path$string"), w = g.root.$("livechat").$("settings").$("theme").$("avatars$string"), x = "", v = "", y = "", j = "", C = "", A = "";
h.setDataNode = e;
t();
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative"
},
".img": {
"width, height": "100%"
},
".auth_type": {
position: "absolute",
"bottom, left": 0,
background: "#FFF",
"fontSize, width, height": "12px",
"line-height": "16px",
overflow: "hidden",
borderRadius: "2px",
"&.facebook": {
color: "$$facebook"
},
"&.twitter": {
color: "$$twitter"
},
"&.google": {
color: "$$google"
}
}
};
a(t, "meshim_widget_widgets_gravatar_GravatarImage");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_html_div = i(120);
e.__$$__meshim_widget_widgets_gravatar_GravatarImage = i(146);
t.exports = function() {
function t(r, a, s, _, l) {
if (!(this instanceof t)) return new t(r, a, s, _, l);
a = a || n.generateID();
var d = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image2", "", [], {
id: "image2",
addClass: "avatar avatar2"
} ], [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image1", "", [], {
id: "image1",
addClass: "avatar avatar1"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:gravatar": "meshim.widget.widgets.gravatar",
"class": "gravatarTwo"
} ], u = d[0].call(this, r, a, null, n.mangleIDs(a, d[3]), d[4]), c = u || this;
n.set(a, c);
var h = n.get(a + "__image2"), f = n.get(a + "__image1");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t(t) {
if (t instanceof Array) {
f.setSrc(t[0]);
h.setSrc(t[1]);
}
}
function e(t) {
if (t instanceof Array) {
f.setDataNode(t[0]);
h.setDataNode(t[1]);
}
}
c.setImages = t;
c.setNodes = e;
}();
for (var g in p) p.hasOwnProperty(g) && (c[g] = p[g]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(s);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
position: "relative",
width: "100%",
height: "100%",
overflow: "hidden",
".avatar": {
width: "100%",
height: "100%"
},
".avatar1": {
position: "absolute",
top: "0",
left: "-33%",
borderTop: "0px none",
borderLeft: "0px none",
borderBottom: "0px none"
},
".avatar2": {
position: "absolute",
top: "0",
left: "33%",
border: "0px none"
}
}
};
a(t, "meshim_widget_widgets_gravatar_GravatarTwo");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_html_div = i(120);
e.__$$__meshim_widget_widgets_gravatar_GravatarImage = i(146);
t.exports = function() {
function t(r, a, s, _, l) {
if (!(this instanceof t)) return new t(r, a, s, _, l);
a = a || n.generateID();
var d = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image3", "", [], {
id: "image3",
addClass: "avatar avatar3"
} ], [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image2", "", [], {
id: "image2",
addClass: "avatar avatar2"
} ], [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image1", "", [], {
id: "image1",
addClass: "avatar avatar1"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:gravatar": "meshim.widget.widgets.gravatar",
"class": "gravatarThree"
} ], u = d[0].call(this, r, a, null, n.mangleIDs(a, d[3]), d[4]), c = u || this;
n.set(a, c);
var h = n.get(a + "__image3"), f = n.get(a + "__image2"), p = n.get(a + "__image1");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t(t) {
if (t instanceof Array) {
p.setSrc(t[0]);
f.setSrc(t[1]);
h.setSrc(t[2]);
}
}
function e(t) {
if (t instanceof Array) {
p.setDataNode(t[0]);
f.setDataNode(t[1]);
h.setDataNode(t[2]);
}
}
c.setImages = t;
c.setNodes = e;
}();
for (var m in g) g.hasOwnProperty(m) && (c[m] = g[m]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(s);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
position: "relative",
width: "100%",
height: "100%",
overflow: "hidden",
".avatar1": {
position: "absolute",
top: "0",
left: "-33%",
width: "100%",
height: "100%",
borderLeft: "0px none",
borderTop: "0px none",
borderBottom: "0px none"
},
".avatar2": {
position: "absolute",
top: "0",
right: "-8%",
width: "50%",
height: "50%",
borderLeft: "0px none",
borderTop: "0px none",
borderRight: "0px none"
},
".avatar3": {
position: "absolute",
bottom: "0",
right: "-8%",
width: "50%",
height: "50%",
border: "0px none"
}
}
};
a(t, "meshim_widget_widgets_gravatar_GravatarThree");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_html_div = i(120);
e.__$$__meshim_widget_widgets_gravatar_GravatarImage = i(146);
t.exports = function() {
function t(r, a, s, _, l) {
if (!(this instanceof t)) return new t(r, a, s, _, l);
a = a || n.generateID();
var d = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image4", "", [], {
id: "image4",
addClass: "avatar avatar4"
} ], [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image3", "", [], {
id: "image3",
addClass: "avatar avatar3"
} ], [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image2", "", [], {
id: "image2",
addClass: "avatar avatar2"
} ], [ e.__$$__meshim_widget_widgets_gravatar_GravatarImage, "image1", "", [], {
id: "image1",
addClass: "avatar avatar1"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:gravatar": "meshim.widget.widgets.gravatar",
"class": "gravatarFour"
} ], u = d[0].call(this, r, a, null, n.mangleIDs(a, d[3]), d[4]), c = u || this;
n.set(a, c);
var h = n.get(a + "__image4"), f = n.get(a + "__image3"), p = n.get(a + "__image2"), g = n.get(a + "__image1");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t(t) {
if (t instanceof Array) {
g.setSrc(t[0]);
p.setSrc(t[1]);
f.setSrc(t[2]);
h.setSrc(t[3]);
}
}
function e(t) {
if (t instanceof Array) {
g.setDataNode(t[0]);
p.setDataNode(t[1]);
f.setDataNode(t[2]);
h.setDataNode(t[3]);
}
}
c.setImages = t;
c.setNodes = e;
}();
for (var $ in m) m.hasOwnProperty($) && (c[$] = m[$]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(s);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
position: "relative",
width: "100%",
height: "100%",
overflow: "hidden",
lineHeight: "0px",
".avatar": {
position: "absolute",
width: "50%",
height: "50%"
},
".avatar1": {
top: 0,
left: 0,
borderTop: "0px none",
borderLeft: "0px none"
},
".avatar2": {
top: 0,
right: 0,
borderTop: "0px none",
borderRight: "0px none",
borderLeft: "0px none"
},
".avatar3": {
bottom: 0,
left: 0,
borderTop: "0px none",
borderBottom: "0px none",
borderLeft: "0px none"
},
".avatar4": {
bottom: 0,
right: 0,
border: "0px none"
}
}
};
a(t, "meshim_widget_widgets_gravatar_GravatarFour");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Button = i(116);
e.__$$__meshim_widget_widgets_IconFont = i(96);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_Button, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "i", "", [], {
id: "i"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
var f = n.get(a + "__i");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
var t = i(95);
t.mobile(h);
var e;
h.setIcon = function(t) {
e && f.removeClass(e);
e = t;
e && f.addClass(e);
return f.setIcon.apply(f, arguments);
};
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_Button.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Button;
t.__jx__jcss = {
"**self": {
background: "transparent",
border: "none",
color: "inherit",
".icon_font": {
display: "inline",
lineHeight: "inherit",
verticalAlign: "middle",
fontSize: "$$fontSizeL"
}
},
"&.mobile": {
".icon_font": {
position: "relative",
fontSize: "$$fontSizeXXL"
}
}
};
a(t, "meshim_widget_widgets_iconFont_Button");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t(i, n, o, a, s) {
if (!(this instanceof t)) return new t(i, n, o, a, s);
if (!t.__jx__jcss_generated) {
e.generate(this, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
r.call(this, i, n, o, a, s);
}
var r = i(17);
t.__jx__jcss = {
"**self": {
marginTop: "$$marginS",
marginBottom: "$$margin",
color: "$$errorMessageColor",
fontWeight: "$$errorMessageFontWeight",
fontStyle: "$$errorMessageFontStyle"
}
};
t.prototype = n(r.prototype);
t.prototype.__jx__super = r;
o(t, "meshim_widget_widgets_ErrorMessage");
return t;
}();
}).call(e, i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
var t = i(153), r = t, a = i(129);
t = function(i, n, o, s, _) {
if (!(this instanceof t)) return new t(i, n, o, s, _);
if (!t.__jx__jcss_generated) {
e.generate(this, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
r.call(this, i, n, o, s, _);
a.__constructor.call(this);
};
t.__jx__jcss = {};
t.prototype = n(r.prototype);
t.prototype.__jx__super = a;
o(t, "meshim_widget_widgets_EmailField");
return t;
}();
}).call(e, i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(e, i, n, r, a) {
if (!(this instanceof t)) return new t(e, i, n, r, a);
a || (a = {});
a.tagName || (a.tagName = "input");
a.type || (a.type = "email");
o.call(this, e, i, n, r, a);
}
var o = i(128);
t.prototype = e(o.prototype);
var r = o.prototype.getValue;
t.prototype.getValue = function() {
return (r.call(this) || "").trim();
};
n(t, "jx_ui_EmailField");
return t;
}();
}).call(e, i(14), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t(i, n, o, s, _) {
if (!(this instanceof t)) return new t(i, n, o, s, _);
if (!t.__jx__jcss_generated) {
e.generate(this, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
_ || (_ = {});
_.pattern || (_.pattern = "(^$|[0-9]+)");
_.type || (_.type = "tel");
r.call(this, i, n, o, s, _);
a.__constructor.call(this);
}
var r = i(128), a = i(129);
t.__jx__jcss = {};
t.prototype = n(r.prototype);
t.prototype.__jx__super = a;
o(t, "meshim_widget_widgets_PhoneField");
return t;
}();
}).call(e, i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__meshim_widget_widgets_IconFont = i(96);
t.exports = function() {
function t(r, a, s, _, l) {
if (!(this instanceof t)) return new t(r, a, s, _, l);
a = a || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], u = d[0].call(this, r, a, null, n.mangleIDs(a, d[3]), d[4]), c = u || this;
n.set(a, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(s);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_IconFont.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_IconFont;
t.__jx__jcss = {
"&.facebook": {
color: "$$facebook"
},
"&.twitter": {
color: "$$twitter"
},
"&.google": {
color: "$$google"
},
"&:hover, &:focus, &:active": {
"&.facebook": {
color: "$$facebookActive"
},
"&.twitter": {
color: "$$twitterActive"
},
"&.google": {
color: "$$googleActive"
}
}
};
a(t, "meshim_widget_widgets_iconFont_Auth");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__meshim_widget_widgets_Button = i(157);
e.__$$__meshim_widget_widgets_IconFont = i(96);
t.exports = function() {
function t(r, a, s, _, l) {
if (!(this instanceof t)) return new t(r, a, s, _, l);
a = a || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_Button, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "i", "", [], {
id: "i",
addClass: "auth_icon_font"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], u = d[0].call(this, r, a, null, n.mangleIDs(a, d[3]), d[4]), c = u || this;
n.set(a, c);
var h = n.get(a + "__i");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
c.setIcon = function() {
h.setIcon.apply(h, arguments);
};
}();
for (var p in f) f.hasOwnProperty(p) && (c[p] = f[p]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(s);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_Button.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Button;
t.__jx__jcss = {
"**self": {
overflow: "hidden",
paddingTop: "10px",
paddingBottom: "6px",
background: "$$authButtonBg",
borderColor: "$$authButtonBorderColor",
boxShadow: "$$authButtonShadow",
"&.facebook": {
color: "$$facebook"
},
"&.twitter": {
color: "$$twitter"
},
"&.google": {
color: "$$google"
}
},
"&:hover, &:focus, &:active": {
".auth_icon_font": {
color: "#FFFFFF"
},
"&.facebook": {
background: "$$facebook"
},
"&.twitter": {
background: "$$twitter"
},
"&.google": {
background: "$$google"
}
},
"&.float": {
width: "30%",
margin: "0 3% 0 0"
},
"&.mobile": {
".auth_icon_font": {
textAlign: "center",
fontSize: "22px"
}
}
};
a(t, "meshim_widget_widgets_iconFont_AuthButton");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r) {
t.exports = function() {
var t = i(116), a = t, s = i(17), _ = i(40), l = i(95);
t = function(i, o, r, s, d) {
function u() {
c.fixOverflowTitle();
}
if (!(this instanceof t)) return new t(i, o, r, s, d);
if (!t.__jx__jcss_generated) {
e.generate(this, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
d || (d = {});
d.type || (d.type = "button");
a.call(this, i, o, r, s, d);
l.mobile(this);
l.rtl(this);
var c = this;
if (s && 1 == s.length && ("string" == typeof s[0] || s[0].bind)) {
if (n && n.onLanguage) {
n.onLanguage(u);
this.onDestruction(function() {
n.unLanguage(u);
});
}
this.autobind(_.root.$("livechat").$("ui").$("theme_loaded$bool"), "value", function(t) {
t && c.fixOverflowTitle();
});
}
};
t.__jx__jcss = {
"**self": {
appearance: "none",
width: "48%",
overflow: "hidden",
textOverflow: "ellipsis",
whiteSpace: "nowrap",
color: "$$buttonColor",
background: "$$buttonBg",
"paddingTop, paddingBottom": "$$buttonPadding",
"paddingLeft, paddingRight": "$$buttonPaddingHorizontal",
borderWidth: "$$buttonBorderWidth",
borderStyle: "$$buttonBorderStyle",
borderColor: "$$buttonBorderColor",
borderRadius: "$$buttonRadius",
boxShadow: "$$buttonShadow",
fontWeight: "$$buttonFontWeight",
wordWrap: "normal",
"*overflow": "visible",
cursor: "pointer",
"&:hover, &:focus": {
color: "$$buttonHoverColor",
background: "$$buttonHoverBg",
borderColor: "$$buttonHoverBorderColor",
boxShadow: "$$buttonHoverShadow"
},
"&:active": {
color: "$$buttonActiveColor",
background: "$$buttonActiveBg",
borderColor: "$$buttonActiveBorderColor",
boxShadow: "$$buttonActiveShadow"
}
},
"&.secondary": {
color: "$$buttonSecColor",
background: "$$buttonSecBg",
borderColor: "$$buttonSecBorderColor",
boxShadow: "$$buttonSecShadow",
"&:hover, &:focus": {
color: "$$buttonSecHoverColor",
background: "$$buttonSecHoverBg",
borderColor: "$$buttonSecHoverBorderColor",
boxShadow: "$$buttonSecHoverShadow"
},
"&:active": {
color: "$$buttonSecActiveColor",
background: "$$buttonSecActiveBg",
borderColor: "$$buttonSecActiveBorderColor",
boxShadow: "$$buttonSecActiveShadow"
}
},
"&.disabled": {
opacity: "0.5",
cursor: "default",
"&:hover, &:focus": {
color: "$$buttonColor",
background: "$$buttonBg",
borderColor: "$$buttonBorderColor",
boxShadow: "$$buttonShadow"
}
},
"&.fit": {
width: "auto",
"paddingLeft, paddingRight": "$$buttonPadding"
},
"&.wide": {
width: "100%"
},
"&.short": {
"paddingTop, paddingBottom": "$$buttonShortPadding"
},
"&.short.mobile": {
"paddingTop, paddingBottom": "$$buttonPadding"
},
"&.short.mobile.short_mobile": {
"paddingTop, paddingBottom": "$$buttonShortPadding"
}
};
t.prototype = o(a.prototype);
var d = [ "fontFamily", "fontSize", "fontWeight", "fontStyle" ];
t.prototype.fixOverflowTitle = function() {
if ("en" != n.language) {
t.dummy || (t.dummy = new s(this.doc.body, null, null, null, {
position: "absolute",
visibility: "hidden"
}));
var e = this.getText(), i = this.getComputedStyle();
if (i) {
for (var o = 0, r = d.length; o < r; o++) t.dummy.style[d[o]] = i[d[o]];
t.dummy.setText(e);
var a = t.dummy.getWidth(), _ = parseInt(i.width, 10) || 0 - (parseInt(i.paddingLeft, 10) || 0) - (parseInt(i.paddingRight, 10) || 0) - (parseInt(i.borderLeftWidth, 10) || 0) - (parseInt(i.borderRightWidth, 10) || 0);
this.setTitle(a > 0 && _ > 0 && a > _ ? e : "");
}
} else this.setTitle("");
};
t.prototype.__jx__super = a;
r(t, "meshim_widget_widgets_Button");
return t;
}();
}).call(e, i(30), i(22), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s, _, l) {
e.__$$__jx_ui_Widget = i(17);
t.exports = function() {
function t(_, l, u, c, h) {
if (!(this instanceof t)) return new t(_, l, u, c, h);
l = l || n.generateID();
var f = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "container", "", [], {
id: "container"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets",
"class": "generated_form"
} ], p = f[0].call(this, _, l, null, n.mangleIDs(l, f[3]), f[4]), g = p || this;
n.set(l, g);
var m = n.get(l + "__container");
if (!t.__jx__jcss_generated) {
o.generate(_, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
var t, i, a, l;
t = e.getValue();
if (!w.equal(n, t)) {
m.empty();
A = {};
S = {};
n = t;
var d, u, c, h, f;
for (a in t) if (t.hasOwnProperty(a)) {
i = t[a];
c = null;
if (C[i.name$string]) continue;
if (!j[i.type$string]) continue;
if (!i.name$string) continue;
if (!i.label$string) continue;
if (o && !i.value_user$string || "checkbox" == i.type$string && !i.checked$bool) continue;
d = S[i.name$string] = new _(m, null, null, null, {
className: "field field_" + i.type$string
});
d.label = u = new v(d, null, null, null, {
className: "label"
});
d.label_name = new v(u, null, null, [ b.get(e.$$(a + ".label$string")) ]);
d.label_required = new v(u, null, null, [ i.required$bool && !o ? " *" : "" ]);
d.input = A[i.name$string] = c = new j[i.type$string](d, null, null, null, {
name: i.name$string,
required: i.required$bool,
autoValidate: !0,
readOnly: o
});
(c.container || c).addClass("input input_" + i.type$string);
c && c.setLabelElement(u);
switch (i.type$string) {
case "checkbox_multiple":
case "radio":
i.options && c.setOptions(i.options);
break;

case "text":
case "email":
case "textarea":
i.placeholder$string && c.setPlaceholder(i.placeholder$string);
if (o) if (r.isIE <= 7) {
c.style.overflow = "visible";
c.style.height = 0;
} else s(function(t) {
return function() {
t.setMinHeight("0");
t.setHeight("0");
t.setHeight(t.getScrollHeight());
};
}(c));
break;

case "checkbox":
i.checked$bool && c.setChecked(i.checked$bool).setInitialChecked(i.checked$bool);
d.insertBefore(c.container || c, u);
o && c.setDisabled(!0);
break;

case "select":
for (l in i.options) if (i.options.hasOwnProperty(l)) {
f = new y(c, null, null, [ i.options[l].label$string || i.options[l].value$string ], {
value: i.options[l].value$string
});
(i.value$string == i.options[l].value$string || i.options[l].checked$bool) && f.setSelected(!0);
}
o && c.setDisabled(!0);
break;

case "department":
c.setSelectedIndex(0);
}
if (!o) {
d.error_message = h = new $(d, null, null, [ i.error_message$string || b.error_message[i.type$string] || b.error_message["default"] ], {
className: "error_message"
});
h.setUseDisplay(!0);
c && c.setErrorMessageElement(h).hideErrorMessage();
h.setVisible("none");
}
if (o && i.value_user$string) {
c.setValue && c.setValue(i.value_user$string || "");
c.setInitialValue && c.setInitialValue(i.value_user$string || "");
} else if (i.value$string) {
c.setValue && c.setValue(i.value$string);
c.setInitialValue && c.setInitialValue(i.value$string);
}
if (i.hidden$bool) {
d.setDisplay("none");
d.setRequired(!1);
}
}
var p = m.getLastChild();
p && p.addClass("last-child");
}
}
var e, n, o, _ = i(159), l = i(160), d = i(163), u = i(165), c = i(127), h = i(170), f = i(152), p = i(166), $ = i(151), b = i(97), w = i(57), x = i(161), v = i(101), y = i(169), j = {
text: c,
email: f,
textarea: r.isIE < 9 ? c : h,
checkbox: x,
select: p,
checkbox_multiple: l,
radio: d,
department: u
}, C = {
name: 1,
email: 1,
phone: 1
}, A = {}, S = {};
g.submitSelf = function() {
if (e) {
var t, i = {};
for (var o in n) if (n.hasOwnProperty(o)) {
if (n[o].hidden$bool) continue;
t = A[n[o].name$string];
if (!t) continue;
i[o] = {
value_user$string: t.getValue()
};
t.getChecked && (i[o].checked_user$bool = t.getChecked());
!t.getOptions || t instanceof u || (i[o].options = t.getOptions(!0));
}
e.update(i);
}
};
g.submit = function(t, e, i, o) {
if (t) {
var r, a, s = {};
for (a in n) if (n.hasOwnProperty(a)) {
if (n[a].hidden$bool) continue;
if (o && "department_id" == n[a].name$string) continue;
r = A[n[a].name$string];
if (!r) continue;
if (i) {
s[a] = {
value_user$string: r.getValue()
};
r.getChecked && (s[a].checked_user$bool = r.getChecked());
!r.getOptions || r instanceof u || (s[a].options = r.getOptions(!0));
} else {
s[a] = {
name$string: n[a].name$string,
value$string: r.getValue()
};
r.getChecked && (s[a].checked$bool = r.getChecked());
!r.getOptions || r instanceof u || (s[a].options = r.getOptions());
}
}
if (e) {
var _ = e.getValue();
for (a in _) if (_.hasOwnProperty(a)) {
if (!_[a] || !C[a]) continue;
s[a] = {
name$string: a,
value$string: _[a]
};
}
}
t.write(s);
}
};
g.setReadOnly = function(t) {
o = a(t);
g[o ? "addClass" : "removeClass"]("read_only");
return g;
};
g.setDataNode = function(i) {
if (e != i) {
e && g.autounbind(e, "value", t);
e = i;
e && g.autobind(e, "value", t);
}
};
g.populateSelf = function() {
if (e) {
var t, i = e.getValue();
for (var o in i) if (i.hasOwnProperty(o)) {
t = A[n[o].name$string];
if (!t) continue;
t.setValue(i[o].value_user$string);
t.setChecked && t.setChecked(i[o].checked_user$bool);
t.setOptions && t.setOptions(i[o].options, !0);
}
}
};
g.reset = function() {
if (e) {
var t, i = e.getValue();
for (var o in i) if (i.hasOwnProperty(o)) {
t = A[n[o].name$string];
if (!t) continue;
t.reset && t.reset();
}
}
};
g.getField = function(t) {
return S[t];
};
g.getInput = function(t) {
return A[t];
};
}();
for (var b in $) $.hasOwnProperty(b) && (g[b] = $[b]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(u);
g.setAttributes && g.setAttributes(h);
"function" == typeof g.addChildren ? g.addChildren(c) : n.addChildren(g, c);
if (g !== this) {
g.__jx__constructor = d;
g.__jx__native = !1;
}
return g;
}
var d;
t.prototype = _(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
"*zoom": 1
},
".input_text, .input_email, textarea, select": {
width: "100%"
},
".label, .error_message, .option_label": {
display: "block"
},
".input_checkbox, .input_input_radio, .input_input_checkbox": {
display: "inline-block",
"float": "left",
clear: "both"
},
".field": {
marginBottom: "15px",
"&.field_radio .input, &.field_department .input": {
input: {
"width, height": "16px"
},
label: {
paddingLeft: "20px",
lineHeight: "16px"
},
"label.disabled": {
color: "#ccc",
"&": "$$inputDisabled"
}
},
"&.field_checkbox, &.field_checkbox_multiple .input": {
input: {
"width, height": "16px"
},
label: {
paddingLeft: "20px",
lineHeight: "15px"
}
},
"&.field_checkbox, &.field_checkbox_multiple, &.field_radio": {
"&.invalid": {}
}
},
".label": {
marginBottom: "5px",
fontWeight: "bold"
},
textarea: {
"minHeight, *height": "70px",
resize: "vertical"
},
".option_label": {
marginBottom: "5px",
"&:last-child": {
marginBottom: 0
}
},
".error_message": {
paddingBottom: "5px"
},
"&.read_only": {
".field_radio, .field_checkbox_multiple": {
".input_input_radio, .input_input_checkbox": {
display: "none"
}
},
textarea: {
overflow: "hidden"
},
".input_checkbox_multiple": {
label: {
display: "inline",
marginRight: "0.5em",
"&:after": {
content: "','"
},
"&.last-checked": {
marginRight: 0,
"&:after": {
content: "none"
}
}
}
},
".field": {
padding: "6px",
marginBottom: 0
},
".input_text, .input_email, textarea, .fake_input": {
border: "none",
padding: 0,
resize: "none",
background: "transparent"
},
select: {
padding: 0,
border: "none",
height: "auto",
background: "transparent"
},
".option_label": {
marginBottom: 0,
paddingLeft: "0 !important"
},
".label": {
display: "none"
},
button: {
position: "relative",
background: "transparent"
}
}
};
l(t, "meshim_widget_widgets_Form");
d = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(7), i(16), i(12), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t(e, i, n, o, a) {
if (!(this instanceof t)) return new t(e, i, n, o, a);
r.call(this, e, i, n, o, a);
}
var r = i(17);
t.prototype = e(r.prototype);
t.prototype.validate = function(t) {
var e = r.prototype.validate.call(this, t);
e ? this.removeClass("invalid") : this.addClass("invalid");
return e;
};
t.prototype.setRequired = function(t) {
t = n(t);
this.label_required && this.label_required.setText(t ? " *" : "");
this.input && this.input.setRequired(t);
!t && this.input && this.input.hideErrorMessage();
return this;
};
t.prototype.destroy = function() {
this.label = this.label_name = this.label_required = this.input = this.error_message = null;
return r.prototype.destroy.call(this);
};
o(t, "meshim_widget_widgets_form_Field");
return t;
}();
}).call(e, i(14), i(16), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t(e, i, n, o, s) {
if (!(this instanceof t)) return new t(e, i, n, o, s);
this.optionConstructor = r;
this.inputSuffix = "checkbox";
a.call(this, e, i, n, o, s);
}
var r = i(161), a = i(162);
t.prototype = e(a.prototype);
t.prototype.setValue = function(t) {
for (var e, i, o = n(t) ? t : t.split(","), r = 0, a = this.options.length; r < a; r++) {
e = !1;
for (var s = 0, _ = o.length; s < _; s++) if (this.options[r].getValue() == o[s]) {
this.options[r].setChecked(!0);
(this.options[r].container || this.options[r]).setDisplay("");
this.labels[r].setDisplay("").addClass("label_checked");
e = !0;
break;
}
if (e) i = r; else {
(this.options[r].container || this.options[r]).removeClass("last-checked");
this.labels[r].removeClass("last-checked");
this.options[r].setChecked(!1);
if (this.readOnly) {
(this.options[r].container || this.options[r]).setDisplay("none");
this.labels[r].setDisplay("none").removeClass("label_checked");
}
}
}
if (void 0 != i) {
(this.options[i].container || this.options[i]).addClass("last-checked");
this.labels[i].addClass("last-checked");
}
};
t.prototype.getValue = function() {
for (var t = [], e = 0, i = this.options.length; e < i; e++) this.options[e].getChecked() && t.push(this.options[e].getValue());
return t.join(",");
};
o(t, "meshim_widget_widgets_form_CheckBoxMultiple");
return t;
}();
}).call(e, i(14), i(21), i(4));
}, function(t, e, i) {
(function(e, n, o, r) {
t.exports = function() {
function t(i, n, o, r, s) {
if (!(this instanceof t)) return new t(i, n, o, r, s);
s || (s = {});
s.tagName || (s.tagName = "input");
s.type || (s.type = "checkbox");
a.call(this, i, n, o, r, s);
this.on("click", function() {
this.onAutoValidate();
});
e.engineIE < 9 && this.on("click", function() {
this.fire("change");
});
}
var a = i(117);
t.prototype = n(a.prototype);
t.prototype.getChecked = function() {
return this.dom.checked;
};
t.prototype.setChecked = function(t) {
this.dom.checked = o(t);
return this;
};
t.prototype.toggleChecked = function() {
this.setChecked(!this.getChecked());
return this;
};
t.prototype.getInitialChecked = function() {
return e.engineIE <= 8 ? this._initialChecked : this.dom.getAttribute("checked");
};
t.prototype.setInitialChecked = function(t) {
e.engineIE <= 8 ? this._initialChecked = t : this.setAttribute("checked", t);
return this;
};
t.prototype.reset = function() {
this.setChecked(this.getInitialChecked()).setValidity(!0);
a.prototype.reset.call(this);
};
t.prototype.validate = function(t) {
var e = !this.dom.required || this.getChecked();
!e && t && this.focus();
this.setValidity(e);
return e;
};
r(t, "jx_ui_CheckBox");
return t;
}();
}).call(e, i(7), i(14), i(16), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t(e, i, n, o, r) {
if (!(this instanceof t)) return new t(e, i, n, o, r);
r || (r = {});
r.tagName = "div";
this.options = [];
this.labels = [];
a.call(this, e, i, n, o, r);
this.on("click", function() {
this.validate();
});
}
var r = i(101), a = i(117);
t.prototype = e(a.prototype);
t.prototype.getRequired = function() {
return this.required;
};
t.prototype.setRequired = function(t) {
this.required = n(t);
return this;
};
t.prototype.setReadOnly = function(t) {
this.readOnly = n(t);
return a.prototype.setReadOnly.call(this, t);
};
t.prototype.setOptions = function(t, e) {
this.empty();
this.options.length = this.labels.length = 0;
var i, n, o = this.getName();
for (var a in t) if (t.hasOwnProperty(a)) {
i = new this.optionConstructor(this, null, null, null, {
name: o,
value: t[a].value$string,
checked: t[a].checked$bool,
initialChecked: t[a].checked$bool,
disabled: this.readOnly,
display: this.readOnly && !t[a].checked$bool ? "none" : "",
className: "input_input_" + this.inputSuffix
});
(i.container || i).addClass("input");
n = new r(this, null, null, [ t[a].label$string || t[a].value$string ], {
className: "option_label",
display: this.readOnly && !t[a].checked$bool ? "none" : ""
});
e && i.setChecked(t[a].checked_user$bool);
i.setLabelElement(n);
this.options.push(i);
this.labels.push(n);
}
return this;
};
t.prototype.getOptions = function(t) {
for (var e = {}, i = t ? "checked_user$bool" : "checked$bool", n = 0, o = this.options.length; n < o; n++) {
e[n] = {};
e[n][i] = this.options[n].getChecked();
}
return e;
};
t.prototype.focus = function() {
this.options[0] && this.options[0].focus();
return this;
};
t.prototype.validate = function(t) {
if (this.required) {
for (var e = 0, i = this.options.length; e < i; e++) if (this.options[e].getChecked()) {
this.hideErrorMessage();
return !0;
}
t && this.options[0] && this.options[0].focus();
this.showErrorMessage();
return !1;
}
this.hideErrorMessage();
return !0;
};
t.prototype.reset = function() {
for (var t = 0, e = this.options.length; t < e; t++) this.options[t].reset();
};
o(t, "meshim_widget_widgets_form_InputMultiple");
return t;
}();
}).call(e, i(14), i(16), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(e, i, n, a, s) {
if (!(this instanceof t)) return new t(e, i, n, a, s);
this.optionConstructor = o;
this.inputSuffix = "radio";
r.call(this, e, i, n, a, s);
}
var o = i(164), r = i(162);
t.prototype = e(r.prototype);
t.prototype.setValue = function(t) {
for (var e = 0, i = this.options.length; e < i; e++) if (this.options[e].getValue() == t) {
this.options[e].setChecked(!0);
(this.options[e].container || this.options[e]).setDisplay("");
this.labels[e].setDisplay("").addClass("label_checked");
} else {
this.options[e].setChecked(!1);
if (this.readOnly) {
(this.options[e].container || this.options[e]).setDisplay("none");
this.labels[e].setDisplay("none").removeClass("label_checked");
}
}
};
t.prototype.getValue = function() {
for (var t = 0, e = this.options.length; t < e; t++) if (this.options[t].getChecked()) return this.options[t].getValue();
};
n(t, "meshim_widget_widgets_form_RadioButtonMultiple");
return t;
}();
}).call(e, i(14), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t(i, n, o, s, _) {
if (!(this instanceof t)) return new t(i, n, o, s, _);
_ || (_ = {});
_.tagName || (_.tagName = "input");
_.type || (_.type = "radio");
r.call(this, i, n, o, s, _);
if (e.bugs.noBoxSizing) {
this.parentNode.removeChild(i instanceof a ? this : this.dom);
this.dom = i.doc.createElement("<" + _.tagName + ' type="' + _.type + '" name="' + (_.name || "") + '"/>');
this.dom.jx_wrapper = this;
this.style = this.dom.style;
this.parentNode.appendChild(i instanceof a ? this : this.dom);
this.setStyle(o);
this.setAttributes(_);
this.addClass(this.__jx__fqname);
}
}
var r = i(161), a = i(18);
t.prototype = n(r.prototype);
o(t, "jx_ui_RadioButton");
return t;
}();
}).call(e, i(7), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
t.exports = function() {
function t(i, n, o, r, a) {
if (!(this instanceof t)) return new t(i, n, o, r, a);
this.inputSuffix = "select";
if (!t.__jx__jcss_generated) {
e.generate(this, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
u.call(this, i, n, o, r, a);
this.departments_label_path = "livechat.settings.forms.pre_chat_form.form.2.label$string";
this.default_departments_label = c.descendsObj(d, this.departments_label_path);
this.$departments = l.root.$("livechat").$("departments");
this.$profile_department_id = l.root.$("livechat").$("profile").$("department_id$int");
this.$departments_label = l.root.$$(this.departments_label_path);
this.$filter_enabled = l.root.$("livechat").$("ui").$("departments").$("filter_enabled$bool");
this.$hide_when_offline = l.root.$("livechat").$("settings").$("chat_button").$("hide_when_offline$bool");
this.prev_value = null;
this.avail_departments = {};
var _ = this;
this.autobind(this.$departments, "value", function() {
_.setOptions();
});
this.autobind(this.$filter_enabled, "value", function() {
_.setOptions();
});
this.autobind(this.$hide_when_offline, "value", function() {
_.setOptions();
});
this.autobind(this.$profile_department_id, "value", function(t) {
s.call(_, t);
});
this.autobind(this.$departments_label, "value", function() {
_.updateBlankOption();
});
this.onDestruction(function() {
if (_.blank_option) {
_.blank_option.destroy();
_.blank_option = null;
}
});
this.on("change", function() {
this.userSelected = !0;
});
this.reset();
}
function s(t) {
this.profile_department = t;
this.updateSelectedDepartment();
}
function _(t) {
function e(t, e) {
return t.name$string < e.name$string ? -1 : t.name$string > e.name$string ? 1 : 0;
}
var i = [], n = [];
for (var o in t) t.hasOwnProperty(o) && t.hasOwnProperty(o) && ("offline" == t[o].status$string ? n.push({
id$int: o,
name$string: t[o].name$string,
status$string: "offline"
}) : i.push({
id$int: o,
name$string: t[o].name$string,
status$string: "online"
}));
i.sort(e);
n.sort(e);
return i.concat(n);
}
var l = i(40), d = i(43), u = i(166), c = i(48), h = i(97), f = i(169);
t.__jx__jcss = {};
t.prototype = n(u.prototype);
t.prototype.__jx__super = u;
t.prototype.validate = function() {
if (this.isBlank) {
this.setValidity(!0);
return !0;
}
return u.prototype.validate.call(this);
};
t.prototype.reset = function() {
var t = this.$profile_department_id.getValue();
t && this.avail_departments[t] ? this.setValue(t) : this.setSelectedIndex(0);
this.userSelected = !1;
};
t.prototype.setHide = function(t) {
this.isHide = o(t);
this.setOptions();
};
t.prototype.setDisableWhenOffline = function(t) {
this.overrideDisable = !o(t);
this.setOptions();
};
t.prototype.isHidden = function() {
return this.isBlank || this.isHide;
};
t.prototype.setRequired = function() {
var t = u.prototype.setRequired.apply(this, arguments);
this.updateBlankOption();
return t;
};
t.prototype.updateBlankOption = function() {
if (this.blank_option) if (this.getRequired()) this.children[0] == this.blank_option && this.removeChild(this.blank_option); else {
this.blank_option.setText(h.get(this.$departments_label) == this.default_departments_label ? h.pre_chat_offline_form.department_any : "â€”");
this.children[0] !== this.blank_option && this.insertBefore(this.blank_option, this.children[0]);
}
};
t.prototype.setOptions = function() {
if (this.$departments) {
var t = this.$departments.getValue(), e = this.$filter_enabled.getValue(), i = this.$hide_when_offline.getValue(), n = {}, o = "";
if (t) if (null !== this.prev_value) {
o = this.prev_value;
this.prev_value = null;
} else o = this.getValue(); else this.prev_value = this.getValue();
this.isBlank = !0;
for (var a in t) if (t.hasOwnProperty(a)) {
if (e && !t[a].display$bool) continue;
if (t[a]) {
this.isBlank = !1;
n[a] = t[a];
}
}
if (this.isBlank || this.isHide) (this.container || this).parentNode.setDisplay("none"); else {
(this.container || this).parentNode.setDisplay("");
this.empty();
var s, l = this.getName();
this.blank_option = s = new f(this, null, null, null, {
name: "",
value: "",
className: "input_input_" + this.inputSuffix
});
(s.container || s).addClass("input");
this.avail_departments = n;
n = _(n);
for (var d = 0, u = n.length; d < u; d++) {
var c = "online" == n[d].status$string;
s = new f(this, null, null, [ n[d].name$string + (c ? "" : " (" + r(207) + ")") ], {
name: l,
value: n[d].id$int,
disabled: !this.overrideDisable && i && !c,
className: "input_input_" + this.inputSuffix
});
(s.container || s).addClass("input");
o != s.getValue() || s.getDisabled() || this.setValue(o);
}
this.updateBlankOption();
this.updateSelectedDepartment();
}
}
};
t.prototype.updateSelectedDepartment = function() {
var t = this.profile_department;
t && parseInt(this.getValue(), 10) !== t && (this.userSelected || this.avail_departments[t] && this.setValue(t));
};
a(t, "meshim_widget_widgets_form_DepartmentSelect");
return t;
}();
}).call(e, i(30), i(14), i(16), i(22), i(4));
}, function(t, e, i) {
(function(e, n, o, r) {
t.exports = function() {
function t(i, n, o, r, d) {
if (!(this instanceof t)) return new t(i, n, o, r, d);
if (!t.__jx__jcss_generated) {
e.generate(this, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
d || (d = {});
d.tagName || (d.tagName = "select");
a.call(this, i, n, o, r, d);
if (this.container) {
this.container.addClass(this.__jx__fqname);
this.iconFont = new _(this.container, null, null, null, {
addClass: "select_icon",
icon: "arrow_down"
});
this.container.insertBefore(this.iconFont, this.container.getFirstChild());
l.mobile(this.container);
l.rtl(this.container);
}
s.__constructor.call(this);
}
var a = i(167), s = i(129), _ = i(96), l = i(95);
t.__jx__jcss = {
"&.mobile.invalid, &.rtl.mobile.invalid": {
"paddingRight, paddingLeft": "$$inputPadding"
},
".select_placeholder": {
overflow: "hidden",
whiteSpace: "nowrap",
textOverflow: "ellipsis"
},
".select_icon": {
"float": "right",
marginTop: "3px"
},
"&.rtl .select_icon": {
"float": "left"
},
"&.mobile": {
".select_placeholder": {
lineHeight: "26px"
},
".select_icon": {
marginTop: "8px"
}
}
};
t.prototype = n(a.prototype);
t.prototype.__jx__super = s;
t.prototype.setValidity = function(t) {
if (this.container) {
t = o(t);
this.container[t ? "removeClass" : "addClass"]("invalid");
}
return a.prototype.setValidity.apply(this, arguments);
};
r(t, "meshim_widget_widgets_Select");
return t;
}();
}).call(e, i(30), i(14), i(16), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
t.exports = function() {
function t(i, r, a, s, d) {
if (!(this instanceof t)) return new t(i, r, a, s, d);
d || (d = {});
d.tagName = null;
d.position = "relative";
if (e.bugs.noBoxSizing) {
_.call(this, i, r, a, s, d);
this.addClass("select_ie6");
} else {
this.container = new l(i, null, null, null, d);
this.container.addClass("select_container");
this.container.removeAttribute("tabindex");
var u = this;
this.container.destroy = function() {
u.destroy();
};
this.container.empty = function() {
u.empty();
};
this.button = new l(this.container, null, null, null, {});
this.button.addClass("select_button");
this.placeholder = new l(this.container, null, null, null, {});
this.placeholder.addClass("select_placeholder");
d.tagName = "select";
d.opacity = "0";
d.position = "absolute";
d.width = "100%";
d.height = "100%";
d.top = "0";
d.left = "0";
d.margin = d.marginLeft = d.marginRight = d.marginTop = d.marginBottom = "0";
e.engineIE < 9 && (d.filter = "alpha(opacity=0)");
_.call(this, this.container, r, a, s, d);
e.isIE ? n(function() {
u.dom && u.updatePlaceholder();
}) : this.updatePlaceholder();
this.on("change", function() {
this.updatePlaceholder();
});
this.on("keyup", function() {
this.updatePlaceholder();
});
this.on("focus", function() {
this.container.addClass("focus");
});
this.on("blur", function() {
this.container.removeClass("focus");
});
this._updatePlaceholder = function() {
u.updatePlaceholder();
};
o && o.onLanguage && o.onLanguage(this._updatePlaceholder);
}
}
var _ = i(168), l = i(17);
t.prototype = r(_.prototype);
t.prototype.appendChild = function(t) {
var e = !this.getOptions().length;
_.prototype.appendChild.call(this, t);
if (e && this.getOptions().length) {
this.setSelectedIndex(0);
var i = this;
n(function() {
i.dom && i.updatePlaceholder();
});
}
};
t.prototype.getPrefix = function() {
return this.prefix;
};
t.prototype.setPrefix = function(t) {
this.prefix = t;
return this;
};
var d = " ";
t.prototype.getPrefixSeparator = function() {
return this.prefixSeparator;
};
t.prototype.setPrefixSeparator = function(t) {
this.prefixSeparator = t;
return this;
};
t.prototype.updatePlaceholder = function() {
if (!this.container || !this.dom) return this;
var t = this.getSelectedIndex();
if (t < 0 && this.prompt) {
this.placeholder.setText(this.prompt);
return this;
}
var e = this.getOptions()[t], i = "";
this.prefix && (i += this.prefix + (this.prefixSeparator || "" === this.prefixSeparator ? this.prefixSeparator : d));
e && (i += "function" == typeof e.getPlaceholder && e.getPlaceholder() || "function" == typeof e.getLabel && e.getLabel() || e.getText());
this.placeholder.setText(i);
return this;
};
t.prototype.getPrompt = function() {
return this.prompt;
};
t.prototype.setPrompt = function(t) {
this.prompt = t;
this.setSelectedIndex(-1);
return this;
};
t.prototype.setValue = function(t) {
_.prototype.setValue.call(this, t);
this.updatePlaceholder();
return this;
};
t.prototype.setSelectedIndex = function(t) {
_.prototype.setSelectedIndex.call(this, t);
this.updatePlaceholder();
return this;
};
t.prototype.show = function() {
this.container ? this.container.show() : _.prototype.show.call(this);
};
t.prototype.hide = function() {
this.container ? this.container.hide() : _.prototype.hide.call(this);
};
t.prototype.setDisabled = function(t) {
this.container && (a(t) ? this.container.addClass("disabled") : this.container.removeClass("disabled"));
return _.prototype.setDisabled.call(this, t);
};
t.prototype.createLabel = function(t) {
this.container && (this.parentNode = this.container.parentNode);
_.prototype.createLabel.call(this, t);
this.container && (this.parentNode = this.container);
};
t.prototype.createErrorMessage = function(t) {
this.container && (this.parentNode = this.container.parentNode);
_.prototype.createErrorMessage.call(this, t);
this.container && (this.parentNode = this.container);
};
t.prototype.destroy = function() {
o && o.unLanguage && o.unLanguage(this._updatePlaceholder);
_.prototype.destroy.call(this);
if (this.container) {
_.prototype.empty.call(this.container);
this.container.empty = null;
_.prototype.destroy.call(this.container);
this.container = this.button = this.placeholder = null;
}
};
t.prototype.empty = function() {
_.prototype.empty.call(this);
this.updatePlaceholder();
};
t.prototype.reset = function() {
if (!this.container) return _.prototype.reset.call(this);
for (var t = this.getOptions(), e = 0, i = t.length; e < i; e++) if (t[e].getSelected()) {
this.setSelectedIndex(e);
this.updatePlaceholder();
return this;
}
this.setSelectedIndex(-1);
this.updatePlaceholder();
return this;
};
s(t, "jx_ui_PrettySelect");
return t;
}();
}).call(e, i(7), i(12), i(22), i(14), i(16), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(e, i, n, r, a) {
if (!(this instanceof t)) return new t(e, i, n, r, a);
this.navStack = null;
a || (a = {});
a.tagName || (a.tagName = "select");
o.call(this, e, i, n, r, a);
this.addClass("select");
this.onDestruction(function() {
this.navStack = null;
});
}
var o = i(117);
t.prototype = e(o.prototype);
t.prototype.getSelectedIndex = function() {
return this.dom.selectedIndex;
};
t.prototype.setSelectedIndex = function(t) {
this.dom.selectedIndex = t;
return this;
};
t.prototype.getOptions = function() {
for (var t = [], e = this.dom.options.length, i = 0; i < e; i++) t.push(this.dom.options[i].jx_wrapper);
return t;
};
t.prototype.setValue = function(t) {
this.setSelectedIndex(-1);
return o.prototype.setValue.call(this, t);
};
t.prototype.reset = function() {
for (var t = this.getOptions(), e = 0, i = t.length; e < i; e++) if (t[e].getSelected()) {
this.setSelectedIndex(e);
return this;
}
this.setSelectedIndex(0);
return this;
};
n(t, "jx_ui_Select");
return t;
}();
}).call(e, i(14), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t(e, i, n, o, a) {
if (!(this instanceof t)) return new t(e, i, n, o, a);
a || (a = {});
a.tagName || (a.tagName = "option");
r.call(this, e, i, n, o, a);
}
var r = i(117);
t.prototype = e(r.prototype);
t.prototype.getLabel = function() {
return this.dom.label;
};
t.prototype.setLabel = function(t) {
this.dom.label = t;
return this;
};
t.prototype.getSelected = function() {
return this.dom.defaultSelected;
};
t.prototype.setSelected = function(t) {
this.dom.defaultSelected = n(t);
return this;
};
t.prototype.getPlaceholder = function() {
return this.placeholder;
};
t.prototype.setPlaceholder = function(t) {
this.placeholder = t;
return this;
};
o(t, "jx_ui_Option");
return t;
}();
}).call(e, i(14), i(16), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
var t = i(171), r = t, a = i(129);
t = function(i, n, o, s, _) {
if (!(this instanceof t)) return new t(i, n, o, s, _);
if (!t.__jx__jcss_generated) {
e.generate(this, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
r.call(this, i, n, o, s, _);
a.__constructor.call(this);
};
t.__jx__jcss = {};
t.prototype = n(r.prototype);
t.prototype.__jx__super = a;
o(t, "meshim_widget_widgets_TextArea");
return t;
}();
}).call(e, i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(e, i, n, r, a) {
if (!(this instanceof t)) return new t(e, i, n, r, a);
a || (a = {});
a.tagName || (a.tagName = "textarea");
o.call(this, e, i, n, r, a);
}
var o = i(128);
t.prototype = e(o.prototype);
t.prototype.setCols = function(t) {
this.dom.cols = t;
return this;
};
t.prototype.getCols = function() {
return this.dom.cols;
};
t.prototype.setRows = function(t) {
this.dom.rows = t;
return this;
};
t.prototype.getRows = function() {
return this.dom.rows;
};
t.prototype.setResize = function(t) {
"resize" in this.style && (this.style.resize = t);
};
t.prototype.getInitialValue = function() {
return this._initialValue;
};
t.prototype.setInitialValue = function(t) {
this._initialValue = t && (t.toString ? t.toString() : t);
return this;
};
n(t, "jx_ui_TextArea");
return t;
}();
}).call(e, i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
addClass: "bottom"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
e.mobile(h);
e.windowSize(h, "bottom_");
}
var e = i(95);
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "absolute",
"bottom, left": 0,
width: "100%",
textAlign: "center",
"*overflow": "hidden",
paddingTop: "$$margin",
paddingBottom: 0,
height: "$$bottomHeight",
borderWidth: "$$bottomBorderWidth",
borderStyle: "$$bottomBorderStyle",
borderColor: "$$bottomBorderColor",
"&.bottom_padding_bottom": {
paddingBottom: "$$margin",
height: "$$bottomHeightBottomPadding"
},
"&.bottom_small": {
"paddingLeft, paddingRight": "10px"
},
"&.bottom_medium": {
"paddingLeft, paddingRight": "20px"
},
"&.bottom_large": {
"paddingLeft, paddingRight": "50px"
}
},
"&.note": {
height: "auto",
fontSize: "$$fontSizeXS",
padding: "$$margin",
borderWidth: "$$bottomNoteBorderWidth",
borderStyle: "$$bottomNoteBorderStyle",
borderColor: "$$bottomNoteBorderColor"
},
"&.padding_bottom": {
height: "$$bottomHeightBottomPadding"
},
"&.mobile": {
position: "relative",
padding: "$$margin",
height: "auto"
}
};
a(t, "meshim_widget_widgets_Bottom");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t(i, n, o, s, _) {
if (!(this instanceof t)) return new t(i, n, o, s, _);
if (!t.__jx__jcss_generated) {
e.generate(this, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
r.call(this, i, n, o, s, _);
var l = a.root.$("connection").$("message$string"), d = this;
d.autobind(l, "value", function(t) {
d.setDisabled(!!t);
});
}
var r = i(174), a = i(40);
t.__jx__jcss = {};
t.prototype = n(r.prototype);
t.prototype.__jx__super = r;
o(t, "meshim_widget_widgets_ConnAwareSubmit");
return t;
}();
}).call(e, i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r) {
t.exports = function() {
function t(i, o, r, s, _) {
if (!(this instanceof t)) return new t(i, o, r, s, _);
if (!t.__jx__jcss_generated) {
e.generate(this, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
_ || (_ = {});
_.tagName || (_.tagName = "input");
_.type || (_.type = "submit");
a.call(this, i, o, r, s, _);
this.setValue(this._value);
var l = this;
this._setValue = function() {
l.setValue(l._value);
};
n && n.onLanguage && n.onLanguage(this._setValue);
}
var a = i(157);
t.__jx__jcss = {
"**self": {}
};
t.prototype = o(a.prototype);
t.prototype.__jx__super = a;
t.prototype.setValue = function(t) {
this._value = t;
return a.prototype.setValue.call(this, t);
};
t.prototype.destroy = function() {
n && n.unLanguage && n.unLanguage(this._setValue);
a.prototype.destroy.call(this);
};
r(t, "meshim_widget_widgets_Submit");
return t;
}();
}).call(e, i(30), i(22), i(14), i(4));
}, function(t, e, i) {
(function(e, i, n, o) {
t.exports = function() {
var t = function() {
function t() {
if (l || d) return !0;
var t, i = window[window.GoogleAnalyticsObject || "ga"];
if (e(i)) {
d = i;
t = !0;
}
if (window._gaq && window._gat) {
l = window._gaq;
u = window._gat;
t = !0;
}
return t;
}
function o(t) {
var n;
t == h.NEW && d ? e(d.getAll) && (n = d.getAll()) : t == h.OLD && u && (e(u._getTrackers) ? n = u._getTrackers() : e(u._getTrackerByName) && (n = [ u._getTrackerByName() ]));
return i(n) ? n : [];
}
function r(t, e, i, n) {
try {
a(t, e, i, n);
} catch (o) {}
}
function a(e, i, n, o) {
if (t() && e) {
d && s(e, i, n, o);
l && _(e, i, n, o);
}
}
function s(t, i, r, a) {
c = o(h.NEW);
var s = {
hitType: "event",
eventCategory: r || f,
eventAction: t
};
n(i, !0) || (s.eventLabel = i);
n(a, !0) || (s.eventValue = a);
if (c.length) for (var _ = 0, l = c.length; _ < l; _++) e(c[_].send) && c[_].send("event", s); else d("send", s);
}
function _(t, i, r, a) {
c = o(h.OLD);
l.push(function() {
for (var o = 0, s = c.length; o < s; o++) if (e(c[o]._trackEvent)) {
n(i, !0) && (i = void 0);
n(a, !0) && (a = void 0);
c[o]._trackEvent(r || f, t, i, a);
}
});
}
var l, d, u, c, h = {
OLD: "ga.js",
NEW: "analytics.js"
}, f = "Zopim Livechat", p = {
trackEvent: r
};
return p;
}();
o(t, "meshim_widget_controllers_GoogleAnalytics");
return t;
}();
}).call(e, i(9), i(21), i(10), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(t, e, i) {
var n = o(e, i);
t.addChildren(n);
}
function o(t, i) {
t += "";
e(i) || (i = [ i ]);
var n, o, s = [], _ = [ t ];
for (n = 0, o = i.length; n < o; n++) _ = a(_, i[n]);
for (n = 0, o = _.length; n < o; n++) s[n] = r(_[n]);
return s;
}
function r(t) {
if ("string" == typeof t) return t;
var e, i = t.children, n = [];
e = _.extend({}, t.attributes, t.tagName ? {
tagName: t.tagName
} : null);
if (i) for (var o = 0, a = i.length; o < a; o++) n[o] = r(i[o]); else n = null;
return [ t.jxmlConstructor || s, null, null, n, e ];
}
function a(t, i) {
var n = [];
t = t.slice();
for (var o = 0; o < t.length; o++) {
var r, s = t[o];
if ("string" == typeof s) {
r = i(s);
e(r) ? n = n.concat(r) : n.push(r);
} else {
s.children && (s.children = a(s.children, i));
n.push(s);
}
}
return n;
}
var s = i(17), _ = i(57), l = {
appendTo: t,
toJXMLElements: o,
parseChildrenText: a
};
n(l, "meshim_common_StringParser");
return l;
}();
}).call(e, i(21), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(t) {
for (var e, i = /\r?\n/g, n = 0, o = []; null !== (e = i.exec(t)); ) {
var r = e[0], a = i.lastIndex - r.length;
a > n && o.push(t.substring(n, a));
o.push({
tagName: "br"
});
n = i.lastIndex;
}
n < t.length && o.push(t.substring(n));
return o;
}
e(t, "meshim_common_stringParser_BRParser");
return t;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(t) {
for (var e, i = n.search.hurl, r = 0, a = []; null !== (e = i.exec(t)); ) {
var s = e[0].trim(), _ = i.lastIndex - s.length;
_ > r && a.push(t.substring(r, _));
a.push({
jxmlConstructor: o,
attributes: {
href: s
},
children: [ s ]
});
r = i.lastIndex;
}
r < t.length && a.push(t.substring(r));
return a;
}
var n = i(70), o = i(179);
e(t, "meshim_common_stringParser_URLWithProtocolParser");
return t;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__jx_ui_html_a = i(94);
t.exports = function() {
function t(a, s, _, l, d) {
if (!(this instanceof t)) return new t(a, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__jx_ui_html_a, "", "", [], {
xmlns: "jx.ui.html"
} ], c = u[0].call(this, a, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.setAttribute("rel", "noreferrer");
h.setAttribute("target", "_blank");
r.isIE && h.on("click", e);
}
function e(t) {
t && t.preventDefault();
var e, i;
e = h.getAttribute("href");
if (e) {
i = window.open();
i.opener = null;
i.location.href = e;
}
}
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = i;
h.__jx__native = !1;
}
return h;
}
var i;
t.prototype = a(e.__$$__jx_ui_html_a.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_a;
t.__jx__jcss = {};
s(t, "meshim_common_stringParser_SafeAnchor");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(7), i(14), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(t) {
for (var e, i, _ = n.search.url, l = 0, d = []; null !== (i = _.exec(t)); ) {
var u = i[0].trim(), c = i[2], h = _.lastIndex - u.length;
if (n.tld.test(c)) {
h > l && d.push(t.substring(l, h));
var f = o.parseURL("//" + u).hostname;
e = f === a ? s : "http://";
d.push({
jxmlConstructor: r,
attributes: {
href: e + u
},
children: [ u ]
});
l = _.lastIndex;
}
}
l < t.length && d.push(t.substring(l));
return d;
}
var n = i(70), o = i(181), r = i(179), a = window.location.hostname, s = window.location.protocol + "//";
e(t, "meshim_common_stringParser_URLWithoutProtocolParser");
return t;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
var t = {
parseURL: function(t) {
var e = window.document.createElement("a");
e.href = t;
return {
hostname: e.hostname,
pathname: e.pathname,
protocol: e.protocol,
search: e.search,
hash: e.hash,
port: e.port
};
}
};
e(t, "meshim_common_URLUtils");
return t;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s, _) {
e.__$$__meshim_widget_widgets_ChatWindowContent = i(138);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(140);
e.__$$__meshim_widget_widgets_Body = i(183);
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_widgets_form_Profile = i(141);
e.__$$__meshim_widget_widgets_Form = i(158);
e.__$$__meshim_widget_widgets_Button = i(157);
t.exports = function() {
function t(s, _, d, u, c) {
if (!(this instanceof t)) return new t(s, _, d, u, c);
_ = _ || n.generateID();
var h = o(146), f = [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__meshim_widget_widgets_Body, "message", "", [], {
id: "message"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_form_Profile, "", "", [], {
hideLabel: "",
disabled: "true"
} ], [ e.__$$__meshim_widget_widgets_Form, "form", "", [], {
id: "form",
readOnly: "true"
} ] ], {
addClass: "form_container"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "another", "", [ h ], {
id: "another",
addClass: "wide"
} ] ], {
addClass: "controls"
} ] ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], p = f[0].call(this, s, _, null, n.mangleIDs(_, f[3]), f[4]), g = p || this;
n.set(_, g);
var m = n.get(_ + "__message"), $ = n.get(_ + "__form"), b = n.get(_ + "__another");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var w = function() {
function t() {
$.setDataNode(s);
g.autobind(l, "value", function() {
m.setText(n.get(l));
});
g.autobind(u, "value", function(t) {
1 != t || _.getValue() || a(function() {
u.update(0);
});
});
b.on("click", function() {
u.update(0);
});
}
var e = i(40), n = i(97), o = e.root.$("livechat"), r = o.$("settings").$("forms").$("offline_form"), s = r.$("form"), _ = r.$("form_submitted"), l = r.$("post_submit_message$string"), d = o.$("ui").$("chat_window").$("pre_chat_offline_form"), u = d.$("stack_index$int");
t();
}();
for (var x in w) w.hasOwnProperty(x) && (g[x] = w[x]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(d);
g.setAttributes && g.setAttributes(c);
"function" == typeof g.addChildren ? g.addChildren(u) : n.addChildren(g, u);
if (g !== this) {
g.__jx__constructor = l;
g.__jx__native = !1;
}
return g;
}
var l;
t.prototype = s(e.__$$__meshim_widget_widgets_ChatWindowContent.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowContent;
t.__jx__jcss = {
".form_container": {
background: "$$formSubmittedBg",
borderRadius: "$$formSubmittedRadius",
borderWidth: "$$formSubmittedBorderWidth",
borderStyle: "$$formSubmittedBorderStyle",
borderColor: "$$formSubmittedBorderColor"
},
".profile_form": {},
".generated_form": {
marginBottom: "5px"
},
".controls": {
marginTop: "15px",
marginBottom: "10px"
}
};
_(t, "meshim_widget_components_chatWindow_preChatOfflineForm_PostSubmit");
l = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(12), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t(i, n, o, a, s) {
if (!(this instanceof t)) return new t(i, n, o, a, s);
if (!t.__jx__jcss_generated) {
e.generate(this, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
r.call(this, i, n, o, a, s);
}
var r = i(17);
t.__jx__jcss = {
"**self": {
lineHeight: "1.2",
marginBottom: "$$marginL"
},
"&.short": {
marginBottom: "0"
}
};
t.prototype = n(r.prototype);
t.prototype.__jx__super = r;
o(t, "meshim_widget_widgets_Body");
return t;
}();
}).call(e, i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s, _) {
e.__$$__meshim_widget_widgets_ChatWindowContent = i(138);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(140);
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_widgets_Header = i(185);
e.__$$__jx_ui_Label = i(101);
e.__$$__meshim_widget_widgets_form_DepartmentSelect = i(165);
e.__$$__meshim_widget_widgets_Bottom = i(172);
e.__$$__meshim_widget_widgets_Button = i(157);
t.exports = function() {
function t(s, _, d, u, c) {
if (!(this instanceof t)) return new t(s, _, d, u, c);
_ = _ || n.generateID();
var h = o(147), f = o(148), p = o(149), g = [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__jx_ui_Widget, "department_picker", "", [ [ e.__$$__meshim_widget_widgets_Header, "", "", [ [ e.__$$__jx_ui_Label, "", "", [ h ], {} ] ], {} ], [ e.__$$__meshim_widget_widgets_form_DepartmentSelect, "department", "", [], {
id: "department",
addClass: "department",
disableWhenOffline: "false"
} ] ], {
id: "department_picker"
} ], [ e.__$$__meshim_widget_widgets_Header, "", "", [ [ e.__$$__jx_ui_Label, "", "", [ f ], {} ], [ e.__$$__jx_ui_Label, "", "", [], {
text: " "
} ], [ e.__$$__jx_ui_Label, "timezone_container", "", [], {
id: "timezone_container",
addClass: "timezone_container"
} ] ], {} ], [ e.__$$__jx_ui_Widget, "days", "", [], {
id: "days"
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "back", "", [ p ], {
id: "back",
addClass: "wide"
} ] ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
absPaddingBottom: "bottomHeight"
} ], m = g[0].call(this, s, _, null, n.mangleIDs(_, g[3]), g[4]), $ = m || this;
n.set(_, $);
var b = n.get(_ + "__department_picker"), w = n.get(_ + "__department"), x = n.get(_ + "__timezone_container"), v = n.get(_ + "__days"), y = n.get(_ + "__back");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var j = function() {
function t() {
$.autobind(C, "value", function(t) {
if (s != t) {
s = t;
n();
}
});
$.autobind(A, "value", function(t) {
if (_ != t) {
_ = t;
n();
}
});
$.autobind(m, "value", function(t) {
if (t) {
t = r(t);
x.setText("(" + t + ")");
}
});
$.autobind(S, "value", e);
$.autobind(I, "value", e);
$.autobind(k, "value", function(t) {
l = t;
e();
});
$.autobind(B, "value", function(t) {
if (d != t) {
d = t;
n();
}
});
w.on("change", e);
y.on("click", function() {
p.update(0);
});
}
function e() {
if (l) {
var t = w.getValue();
if ("account" === l) u = S.getValue(); else {
var e = I.getValue();
u = t ? e && e[t] && e[t].schedule || S.getValue() : e && e.overall && e.overall.schedule;
}
n();
}
}
function n() {
if (s && d && u && l) {
b.setDisplay("account" == l ? "none" : "");
w.setHide("account" == l);
var t, e = N[_] || N.daily, i = [];
for (var n in e) if (e.hasOwnProperty(n)) if (a(e[n])) i.push({
enabled$bool: u[e[n][0]].enabled$bool,
periods: u[e[n][0]].periods,
days: [ e[n][1] ]
}); else {
t = !1;
for (var r = 0, c = i.length; r < c; r++) if (o(i[r], u[e[n]])) {
i[r].days.push(e[n]);
t = !0;
break;
}
t || i.push({
enabled$bool: u[e[n]].enabled$bool,
periods: u[e[n]].periods,
days: [ e[n] ]
});
}
v.empty();
for (var h = 0, p = i.length; h < p; h++) new f(v).setData(i[h]);
}
}
function o(t, e) {
if (!t.enabled$bool && !e.enabled$bool) return !0;
if (t.enabled$bool == e.enabled$bool) {
var i, n = t.periods, o = e.periods, r = 0, a = 0;
for (i in n) if (n.hasOwnProperty(i)) {
if (n[i].start$int !== (o[i] && o[i].start$int) || n[i].end$int !== (o[i] && o[i].end$int)) return;
r++;
}
for (i in o) o.hasOwnProperty(i) && a++;
if (r == a) return !0;
}
}
function r(t) {
return t.replace(/_/g, " ");
}
var s, _, l, d, u, c = i(40), h = i(97), f = i(186), p = c.root.$("livechat").$("ui").$("chat_window").$("pre_chat_offline_form").$("stack_index$int"), g = c.root.$("livechat").$("settings"), m = g.$("timezone$string"), j = g.$("operating_hours"), C = j.$("enabled$bool"), A = j.$("mode$string"), S = j.$("schedule"), I = j.$("dept_schedules"), k = j.$("type$string"), B = j.$("display_notice$bool"), N = {
weekday_weekend: [ [ 1, h.datetime.weekday ], [ 0, h.datetime.weekend ] ],
daily: [ 1, 2, 3, 4, 5, 6, 0 ]
};
t();
}();
for (var C in j) j.hasOwnProperty(C) && ($[C] = j[C]);
$.fire && $.fire("init");
$.setStyle && $.setStyle(d);
$.setAttributes && $.setAttributes(c);
"function" == typeof $.addChildren ? $.addChildren(u) : n.addChildren($, u);
if ($ !== this) {
$.__jx__constructor = l;
$.__jx__native = !1;
}
return $;
}
var l;
t.prototype = s(e.__$$__meshim_widget_widgets_ChatWindowContent.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowContent;
t.__jx__jcss = {
".timezone_container": {
fontWeight: "normal"
},
".department": {
marginBottom: "20px"
}
};
_(t, "meshim_widget_components_chatWindow_preChatOfflineForm_OperatingHours");
l = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(21), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t(i, n, o, a, s) {
if (!(this instanceof t)) return new t(i, n, o, a, s);
if (!t.__jx__jcss_generated) {
e.generate(this, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
r.call(this, i, n, o, a, s);
}
var r = i(183);
t.__jx__jcss = {
"**self": {
fontWeight: "bold"
}
};
t.prototype = n(r.prototype);
t.prototype.__jx__super = r;
o(t, "meshim_widget_widgets_Header");
return t;
}();
}).call(e, i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_widgets_Header = i(185);
e.__$$__meshim_widget_widgets_Body = i(183);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "days_el", "", [], {
id: "days_el",
addClass: "short"
} ], [ e.__$$__meshim_widget_widgets_Body, "periods_el", "", [], {
id: "periods_el"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], h = c[0].call(this, a, s, null, n.mangleIDs(s, c[3]), c[4]), f = h || this;
n.set(s, f);
var p = n.get(s + "__days_el"), g = n.get(s + "__periods_el");
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t(t) {
for (var e = 0, i = t.length; e < i; e++) r(t[e]) && (t[e] = d[t[e]]);
return t;
}
function e(t) {
for (var e, i, n, o = [], r = 0, a = t.length; r < a; r++) {
if ("number" != typeof t[r]) return t;
e = t[r];
i = t[r - 1];
n = t[r + 1];
r > t[r] && (e += l);
r - 1 > t[r - 1] && (i += l);
r + 1 > t[r + 1] && (n += l);
if (r && i == e - 1) {
if (r != a - 1 && n == e + 1) continue;
o.push(" â€” ", t[r]);
} else {
r && o.push(", ");
o.push(t[r]);
}
}
return o;
}
var n = i(48), o = i(97), a = i(187), s = i(101), _ = i(17), l = 7, d = o.datetime.days, u = "12", c = 0, h = 1440;
f.setData = function(i) {
if (i && i.days) {
p.empty();
var r = i.days;
if (r.length == l) p.setText(o.datetime.everyday); else {
r = t(e(r));
for (var d = 0, f = r.length; d < f; d++) new s(p, null, null, null, {
text: r[d]
});
}
g.empty();
var m, $ = i.periods;
if (i.enabled$bool) {
if ($) for (var b in $) if ($.hasOwnProperty(b)) if ($[b].start$int === c && $[b].end$int === h) {
m = new _(g);
m.setText(o.datetime.all_day);
} else {
m = new a(g);
m.setStart(n.formatMinutesAsHours($[b].start$int, u));
m.setEnd(n.formatMinutesAsHours($[b].end$int, u));
}
} else g.setText(o.pre_chat_offline_form.operating_hours.closed);
}
};
}();
for (var $ in m) m.hasOwnProperty($) && (f[$] = m[$]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = a(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {};
s(t, "meshim_widget_components_chatWindow_preChatOfflineForm_operatingHours_Group");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(23), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__jx_ui_Widget = i(17);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], h = c[0].call(this, a, s, null, n.mangleIDs(s, c[3]), c[4]), f = h || this;
n.set(s, f);
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
f.setStart = e;
f.setEnd = n;
if (r && r.onLanguage) {
r.onLanguage(o);
f.onDestruction(function() {
r.unLanguage(o);
});
}
}
function e(t) {
a = t;
o();
}
function n(t) {
s = t;
o();
}
function o() {
var t = l.replace("<start_time>", a || "").replace("<end_time>", s || "");
f.setText(t);
}
var a, s, _ = i(97), l = _.pre_chat_offline_form.operating_hours.period;
t();
}();
for (var g in p) p.hasOwnProperty(g) && (f[g] = p[g]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = a(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {};
s(t, "meshim_widget_components_chatWindow_preChatOfflineForm_operatingHours_Period");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(22), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s, _, l) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(90);
e.__$$__meshim_widget_widgets_ChatWindowDisconnectedToast = i(132);
e.__$$__meshim_widget_components_chatWindow_chatPanel_File = i(189);
e.__$$__meshim_widget_widgets_ChatWindowContent = i(138);
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatPanelHeader = i(190);
e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatLogContainer = i(208);
e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatTextArea = i(243);
e.__$$__meshim_widget_widgets_Branding = i(91);
e.__$$__meshim_widget_widgets_Button = i(157);
t.exports = function() {
function t(_, l, u, c, h) {
if (!(this instanceof t)) return new t(_, l, u, c, h);
l = l || n.generateID();
var f = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__meshim_widget_widgets_ChatWindowDisconnectedToast, "", "", [], {
addClass: "disconnected_toast"
} ], [ e.__$$__meshim_widget_components_chatWindow_chatPanel_File, "", "", [], {} ], [ e.__$$__meshim_widget_widgets_ChatWindowContent, "chat_panel_container", "", [ [ e.__$$__jx_ui_Widget, "served_by_container", "", [ [ e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatPanelHeader, "", "", [], {} ] ], {
id: "served_by_container",
"class": "served_by_container"
} ], [ e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatLogContainer, "chat_log", "", [], {
id: "chat_log",
addClass: "chat_log"
} ], [ e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatTextArea, "chat_text_area", "", [], {
id: "chat_text_area",
addClass: "chat_text_area"
} ], [ e.__$$__meshim_widget_widgets_Branding, "", "", [], {
addClass: "chat_panel_branding",
hideOnDesktop: "true"
} ], [ e.__$$__meshim_widget_widgets_Button, "scroll_top_btn", "", [], {
id: "scroll_top_btn",
"class": "scroll_top_btn"
} ] ], {
id: "chat_panel_container",
"class": "chat_panel_container",
absPaddingTop: "chatPanelProfileCardContainerHeight"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatPanel": "meshim.widget.components.chatWindow.chatPanel",
titleBar: "",
actionBar: "default",
hideBrandingMobile: "true"
} ], p = f[0].call(this, _, l, null, n.mangleIDs(l, f[3]), f[4]), g = p || this;
n.set(l, g);
var m = n.get(l + "__chat_panel_container"), $ = n.get(l + "__served_by_container"), b = n.get(l + "__chat_log"), w = n.get(l + "__chat_text_area"), x = n.get(l + "__scroll_top_btn");
if (!t.__jx__jcss_generated) {
o.generate(_, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var v = function() {
function t() {
U.mobile(g);
U.rtl(g);
g.autobind(et, "value", function(t) {
if (t) {
it = t;
I();
}
});
H.onAnimationEnd(g, g, function() {
if (E) {
j(!0);
T = null;
b.getScrollTop() && y() ? E = !1 : setTimeout(function() {
j(!0);
E = !1;
}, Y);
} else if (T) {
b.setScrollTop(T);
b.getScrollTop() == T ? T = null : setTimeout(function() {
b.setScrollTop(T);
T = null;
}, Y);
}
nt && ot || e();
});
H.onTransitionEnd(g, m, function(t) {
t.target.jx_wrapper == m && ft && j(!0);
});
g.autobind(at, "value", e);
g.autobind(rt, "value", e);
g.autobind(_t, "value", function(t) {
B = t;
o();
l();
_();
});
g.autobind(lt, "value", function(t) {
N = t;
o();
l();
_();
});
ut && !ht && r.window.on("focus", _);
g.autobind(K, "value", function() {
ft = y();
});
g.autobind(K, "keys", function(t) {
t && t.length && (B && N == g.getName() ? gt() : E = !0);
});
g.autobind(J, "value", function(t) {
t && B && N == g.getName() ? a(j) : E = !0;
});
g.autobind(Q, "value", function(t) {
t && ft && a(j);
});
g.on("show", d);
H.onTransitionEnd(g, g, u);
g.autobind(st, "value", c);
if (ht) {
m.setAbsPaddingTop();
b.defaultPlacement.insertBefore($, b.defaultPlacement.getFirstChild());
new q(x, null, null, null, {
className: "scroll_top_icon",
icon: "arrow_up"
});
x.on("click", function() {
x.setDisplay("none");
window.scrollTo(0, 0);
});
r.window.on("resize", function() {
h();
f();
});
r.window.on("orientationchange", function() {
h();
f();
});
r.window.on("scroll", function() {
h();
v();
f();
});
g.on("show", function() {
v();
});
r.window.on("resize", pt);
r.window.on("orientationchange", pt);
g.autobind(K, "keys", pt);
g.on("show", pt);
w.on("click", function() {
window.setTimeout(function() {
j();
}, 200);
});
V.isChromeIOSMobile && (g.style.paddingBottom = "42px");
}
}
function e() {
k(!0);
a(n, g, "once");
}
function n() {
if (g.dom) {
w.updateStyles();
S();
b.updateScrollStyles();
}
}
function o() {
B && N == g.getName() && e();
}
function _() {
ht || z.testSafariFocusBug() || B && N == g.getName() && w.focus();
}
function l() {
if (B && N == g.getName()) {
if (E) {
j(!0);
b.getScrollTop() && y() ? E = !1 : G && !H.isIE || setTimeout(function() {
j(!0);
E = !1;
}, Y);
T = null;
} else if (T) {
b.setScrollTop(T);
b.getScrollTop() == T ? T = null : G && !H.isIE || setTimeout(function() {
b.setScrollTop(T);
T = null;
}, Y);
}
} else T = b.getScrollTop();
}
function d() {
a(j);
g.un("show", d);
S();
}
function u() {
window.setTimeout(j, 300);
H.unTransitionEnd(g, g, u);
S();
}
function c(t) {
$.setDisplay(t ? "block" : "none");
!t || ht ? m.setAbsPaddingTop() : m.setAbsPaddingTop("chatPanelProfileCardContainerHeight");
}
function h() {
w.setStyle("width:" + (g.getWidth() - 2) + "px");
}
function f() {
P && window.clearTimeout(P);
P = window.setTimeout(function() {
window.innerHeight >= 120 && window.scrollY > g.titleBar.getHeight() ? x.setDisplay("block") : x.setDisplay("none");
}, 100);
}
function p() {
var t, e, i;
b.setChatLogMarginTop("0px");
t = g.titleBar.getHeight() + $.getHeight() + w.getHeight();
e = b.getScrollHeight() - $.getHeight();
i = window.document.documentElement.clientHeight - t;
if (e < i) {
g.style.height = "100%";
e > 0 ? b.setChatLogMarginTop(i - 31 - e + "px") : b.setChatLogMarginTop(i - e + "px");
} else {
g.style.height = "auto";
b.setChatLogMarginTop("10px");
}
}
function v() {
O && window.clearTimeout(O);
O = window.setTimeout(function() {
y() ? w.setStyle("position:absolute; left: 0px;") : w.setStyle("position:fixed; left:" + Math.round((window.innerWidth - g.getWidth()) / 2 + 1) + "px;");
}, 50);
}
function y() {
return ht ? window.scrollY + window.innerHeight >= g.getScrollHeight() : b.getScrollTop() + b.getHeight() >= b.getScrollHeight();
}
function j(t) {
if (g.dom) if (ht) {
t ? window.scrollTo(0, g.getScrollHeight()) : a(function() {
window.scrollTo(0, g.getScrollHeight());
});
window.setTimeout(function() {
v();
}, 100);
} else t ? b.setScrollTop(b.getScrollHeight()) : C();
}
function C() {
if (!L && !y()) {
W = +new Date();
R = b.getScrollTop();
b.getScrollHeight() - b.getHeight() - R <= bt ? b.setScrollTop(b.getScrollHeight()) : L = window.setInterval(A, $t);
}
}
function A() {
if (y()) {
window.clearInterval(L);
L = null;
} else {
var t = +new Date();
if (t >= W + mt) {
b.setScrollTop(b.getScrollHeight());
window.clearInterval(L);
L = null;
} else b.setScrollTop(R + (t - W) / mt * (b.getScrollHeight() - R));
}
}
function S() {
var t = w.getComputedStyle();
if (t) {
nt = (parseInt(t.paddingTop, 10) || 0) + (parseInt(t.paddingBottom, 10) || 0) + (parseInt(t.borderTopWidth, 10) + (s.isWindows ? 1 : 0) || 0) + (parseInt(t.borderBottomWidth, 10) + (s.isWindows ? 1 : 0) || 0);
I();
}
}
function I() {
D && window.clearTimeout(D);
k(D);
D = window.setTimeout(k, 500);
}
function k(t) {
D && window.clearTimeout(D);
D = null;
if (g.dom && "height$int" in it) {
ot = it.height$int;
t || (ft = y());
m.setStyle("padding-bottom", it.height$int + nt + "px");
ft && j(ht && "" === et.$("value$string").getValue());
}
}
var B, N, T, E, D, O, P, L, W, R, F = i(55), M = i(40), V = i(52), H = i(48), z = i(248), U = i(95), q = i(96), G = H.isStyleSupported("animation"), Y = 200, X = M.root.$("livechat"), K = X.$("channel").$("log"), Z = X.$("ui").$("chat_window"), Q = Z.$("typing_info").$("agent_typing$bool"), J = Z.$("file_upload_scroll$bool"), tt = Z.$("chat_panel"), et = tt.$("textarea"), it = {}, nt = 0, ot = 0, rt = X.$("ui").$("theme_loaded$bool"), at = X.$("settings").$("theme").$("chat_window").$("size$string"), st = X.$("ui").$("chat_window").$("display_profile_card$bool"), _t = Z.$("display$bool"), lt = Z.$("main_stack_name$string"), dt = X.$("ui").$("popout$bool"), ut = dt.getValue(), ct = X.$("ui").$("mobile$bool"), ht = ct.getValue(), ft = !0, pt = F.debounce(p, 200), gt = F.debounce(j, 100), mt = 200, $t = 16, bt = 200;
t();
}();
for (var y in v) v.hasOwnProperty(y) && (g[y] = v[y]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(u);
g.setAttributes && g.setAttributes(h);
"function" == typeof g.addChildren ? g.addChildren(c) : n.addChildren(g, c);
if (g !== this) {
g.__jx__constructor = d;
g.__jx__native = !1;
}
return g;
}
var d;
t.prototype = _(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {
".chat_panel_container": {
position: "relative",
"width, height": "100%",
zIndex: 20,
transition: "padding 0.1s ease-in-out",
"*overflow": "visible !important",
".served_by_container": {
position: "absolute",
"top, left": 0,
width: "100%",
padding: "$$paddingXL",
height: "$$chatPanelProfileCardContainerHeight",
background: "$$chatPanelProfileCardContainerBackground",
borderWidth: "$$chatPanelProfileCardContainerBorderWidth",
borderStyle: "$$chatPanelProfileCardContainerBorderStyle",
borderColor: "$$chatPanelProfileCardContainerBorderColor"
},
".chat_text_area": {
position: "absolute",
bottom: 0,
left: 0,
width: "100%"
},
".chat_log": {
".scrollable_inner": {
padding: 0
}
}
},
".disconnected_toast": {
top: "25%"
},
".scroll_top_btn": {
position: "fixed",
top: "20px",
left: "50%",
width: "60px",
height: "40px",
marginLeft: "-30px",
padding: "0px",
zIndex: "1000",
display: "none",
".scroll_top_icon": {
lineHeight: "44px",
textAlign: "center",
fontSize: "16px"
}
},
"&.mobile": {
".served_by_container": {
position: "relative",
padding: "10px",
height: "auto"
},
".chat_panel_container": {
".chat_log": {
marginBottom: "30px"
}
},
".chat_panel_branding": {
display: "block",
position: "absolute",
padding: "5px",
bottom: "45px",
margin: "0",
zIndex: "30"
},
".disconnected_toast": {
top: "60px"
}
},
"&.mobile.ltr": {
".chat_panel_branding": {
left: "10px"
}
},
"&.mobile.rtl": {
".chat_panel_branding": {
right: "10px"
}
}
};
l(t, "meshim_widget_components_chatWindow_ChatPanel");
d = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(6), i(12), i(7), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s, _, l) {
e.__$$__meshim_widget_widgets_Toast = i(134);
e.__$$__jx_ui_html_div = i(120);
t.exports = function() {
function t(_, l, u, c, h) {
if (!(this instanceof t)) return new t(_, l, u, c, h);
l = l || n.generateID();
var f = [ e.__$$__meshim_widget_widgets_Toast, "", "", [ [ e.__$$__jx_ui_html_div, "message", "", [], {
id: "message"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], p = f[0].call(this, _, l, null, n.mangleIDs(l, f[3]), f[4]), g = p || this;
n.set(l, g);
var m = n.get(l + "__message");
if (!t.__jx__jcss_generated) {
o.generate(_, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
l.onTransitionEnd(g, g, e);
b && a.window.on("click", e);
g.onDestruction(function() {
b && a.window.un("click", e);
});
g.autobind($, "value", function(t) {
if (t) {
"size" == t ? m.setText(u[t].replace("<size>", c)) : m.setText(u[t] || u["default"]);
p && window.clearTimeout(p);
f && g.removeClass("fade_out");
g.setDisplay("");
f && g.dom.offsetHeight;
f && s(function() {
g.addClass("fade_out");
});
p = window.setTimeout(e, h);
} else e();
});
}
function e() {
g.setDisplay("none");
}
var n = i(40), o = i(51), _ = i(42), l = i(48), d = i(97), u = d.file_upload.error, c = o.prettySize(_.FILE_UPLOAD_MAX, {
base2: !0
}), h = 3100, f = l.isStyleSupported("transition");
r.isFF && (f = !1);
var p, $ = n.root.$("livechat").$("ui").$("chat_window").$("chat_panel").$("file_toast").$("error$string"), b = n.root.$("livechat").$("ui").$("popout$bool");
t();
}();
for (var b in $) $.hasOwnProperty(b) && (g[b] = $[b]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(u);
g.setAttributes && g.setAttributes(h);
"function" == typeof g.addChildren ? g.addChildren(c) : n.addChildren(g, c);
if (g !== this) {
g.__jx__constructor = d;
g.__jx__native = !1;
}
return g;
}
var d;
t.prototype = _(e.__$$__meshim_widget_widgets_Toast.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Toast;
t.__jx__jcss = {
"**self": {
position: "absolute",
zIndex: "1000",
top: "50%",
left: "50%",
width: "160px",
height: "auto",
marginTop: "-32px",
marginLeft: "-80px",
padding: "10px",
textAlign: "center",
fontWeight: "bold",
transition: "opacity 0.5s linear 2.5s",
opacity: 1,
"&": "$$fileToast",
"&.fade_out": {
opacity: 0
}
}
};
l(t, "meshim_widget_components_chatWindow_chatPanel_File");
d = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(7), i(6), i(12), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__jx_ui_html_div = i(120);
e.__$$__jx_ui_html_table = i(103);
e.__$$__jx_ui_html_tbody = i(104);
e.__$$__jx_ui_html_tr = i(105);
e.__$$__jx_ui_html_td = i(106);
e.__$$__jx_ui_ViewStack = i(88);
e.__$$__meshim_widget_widgets_AgentProfileCard = i(191);
e.__$$__meshim_widget_widgets_MultiProfilesCard = i(196);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_table, "", "", [ [ e.__$$__jx_ui_html_tbody, "", "", [ [ e.__$$__jx_ui_html_tr, "", "", [ [ e.__$$__jx_ui_html_td, "", "", [ [ e.__$$__jx_ui_ViewStack, "stack", "", [ [ e.__$$__meshim_widget_widgets_AgentProfileCard, "agent_card", "", [], {
id: "agent_card",
addClass: "card"
} ], [ e.__$$__meshim_widget_widgets_MultiProfilesCard, "multi_agents_card", "", [], {
id: "multi_agents_card",
addClass: "card cursor_pointer"
} ] ], {
id: "stack"
} ] ], {
pseudo: "served_by_cell"
} ], [ e.__$$__jx_ui_html_td, "rating_cell", "", [], {
pseudo: "rating_cell",
id: "rating_cell",
"class": "display_none"
} ] ], {} ] ], {} ] ], {
"class": "profile_table"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], h = c[0].call(this, a, s, null, n.mangleIDs(s, c[3]), c[4]), f = h || this;
n.set(s, f);
var p = n.get(s + "__stack"), g = n.get(s + "__agent_card"), m = n.get(s + "__multi_agents_card"), $ = n.get(s + "__rating_cell");
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var b = function() {
function t() {
p.on("instantiate", function(t) {
var e = p.children[t];
e.onGravatarClick = n;
e.onContentClick = n;
0 === t ? g = e : m = e;
});
p.setIndex(0);
f.autobind(y, "keys", e);
f.autobind(S, "value", o);
f.autobind(j, "value", o);
f.autobind(I, "value", o);
N && f.addClass("mobile");
}
function e() {
var t = y.getKeys().length;
if (t > 1) {
if (1 === p.getIndex()) return;
p.setIndex(1);
g.setDataNode(null);
m.setDataNode(y);
} else {
if (0 !== p.getIndex()) {
p.setIndex(0);
m.setDataNode(null);
}
var e;
if (1 === t) {
e = y.$(y.getKeys()[0]);
g.addClass("cursor_pointer");
} else {
e = A;
g.removeClass("cursor_pointer");
}
g.setDataNode(e);
}
}
function n() {
B.getValue() && l.resetUnreadCount();
y.getKeys().length && k.update("agent_list");
}
function o() {
var t = r(S.getValue()), e = r(j.getValue()), i = r(I.getValue());
a(t && e && i);
}
function a(t) {
if (t) {
w || s();
$.removeClass("display_none");
} else $.addClass("display_none");
}
function s() {
w = new b($).setPseudo("rating_bar");
w.setDataNode(C);
w.setSize("small");
w.on("change", _);
}
function _(t) {
T && d.scrollToBottom();
C && h.writeNode(C, t);
var e = "chat_panel", i = {
good: "Good",
bad: "Bad"
};
c.trackEvent("Chat_Rating_" + (i[t] || "Removed"), e);
}
var l = i(85), d = i(197), u = i(40), c = i(175), h = i(48), b = i(199), w = null, x = u.root.$("livechat"), v = x.$("channel"), y = x.$("agents"), j = v.$("served$bool"), C = v.$("rating$string"), A = x.$("settings").$("concierge"), S = x.$("settings").$("rating").$("enabled$bool"), I = x.$("settings").$("theme").$("chat_window").$("profile_card").$("display_rating$bool"), k = x.$("ui").$("chat_window").$("main_stack_name$string"), B = x.$("ui").$("popout$bool"), N = x.$("ui").$("mobile$bool").getValue(), T = x.$("ui").$("mobile_overlay$bool").getValue();
t();
}();
for (var w in b) b.hasOwnProperty(w) && (f[w] = b[w]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = a(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
height: "100%",
".profile_table": {
width: "100%"
},
".card": {
".avatar_cell": {
width: "50px",
verticalAlign: "bottom",
".profile_avatar": {
position: "absolute",
bottom: "0",
"width, height": "50px",
borderWidth: "$$chatPanelProfileCardAvatarBorderWidth",
borderStyle: "$$chatPanelProfileCardAvatarBorderStyle",
borderColor: "$$chatPanelProfileCardAvatarBorderColor",
borderRadius: "$$chatPanelProfileCardAvatarRadius",
boxShadow: "$$chatPanelProfileCardAvatarShadow"
}
},
".content_cell": {
padding: "0 10px",
verticalAlign: "bottom",
width: "100%",
".profile_name, .profile_title": {
overflow: "hidden",
width: "100%",
whiteSpace: "nowrap"
}
}
},
".rating_cell": {
width: "52px",
verticalAlign: "middle"
},
".cursor_pointer": {
cursor: "pointer"
},
".display_none": {
display: "none"
}
},
"&.mobile": {
".card": {
".avatar_cell": {
width: "40px",
verticalAlign: "middle",
".profile_avatar": {
position: "relative",
"width, height": "40px"
}
},
".content_cell": {
verticalAlign: "middle",
".profile_name": {
marginTop: "3px"
}
}
},
".rating_cell": {
width: "88px"
}
}
};
s(t, "meshim_widget_components_chatWindow_chatPanel_ChatPanelHeader");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(16), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_ProfileCard = i(192);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = [ e.__$$__meshim_widget_widgets_ProfileCard, "", "", [], {
xmlns: "meshim.widget.widgets"
} ], h = c[0].call(this, a, s, null, n.mangleIDs(s, c[3]), c[4]), f = h || this;
n.set(s, f);
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t(t) {
n.call(f, t);
if (t && t !== l) {
var e = t.$("title$string"), i = new s(e, d);
f.setTitleNode(i);
}
}
function e() {
n = f.setDataNode || function() {};
f.setDataNode = t;
}
var n, o = r(208), a = i(40), s = i(195), _ = i(41), l = a.root.$$("livechat.settings.concierge"), d = new _("title$string");
d.update(o);
e();
}();
for (var g in p) p.hasOwnProperty(g) && (f[g] = p[g]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_ProfileCard.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ProfileCard;
t.__jx__jcss = {};
s(t, "meshim_widget_widgets_AgentProfileCard");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(22), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_html_div = i(120);
e.__$$__jx_ui_html_table = i(103);
e.__$$__jx_ui_html_tbody = i(104);
e.__$$__jx_ui_html_tr = i(105);
e.__$$__jx_ui_html_td = i(106);
e.__$$__meshim_widget_widgets_Gravatar = i(144);
e.__$$__meshim_widget_widgets_profileCard_MemberName = i(193);
e.__$$__meshim_widget_widgets_profileCard_TitleHolder = i(194);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_table, "", "", [ [ e.__$$__jx_ui_html_tbody, "", "", [ [ e.__$$__jx_ui_html_tr, "", "", [ [ e.__$$__jx_ui_html_td, "", "", [ [ e.__$$__meshim_widget_widgets_Gravatar, "gravatar", "", [], {
id: "gravatar",
addClass: "profile_avatar"
} ] ], {
"class": "avatar_cell"
} ], [ e.__$$__jx_ui_html_td, "content_cell", "", [ [ e.__$$__meshim_widget_widgets_profileCard_MemberName, "name_holder", "", [], {
id: "name_holder",
addClass: "profile_name"
} ], [ e.__$$__meshim_widget_widgets_profileCard_TitleHolder, "title_holder", "", [], {
id: "title_holder",
addClass: "profile_title"
} ] ], {
pseudo: "content_cell",
id: "content_cell"
} ] ], {} ] ], {} ] ], {
"class": "profile_table"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:widget": "meshim.widget"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
var f = n.get(a + "__gravatar"), p = n.get(a + "__content_cell"), g = n.get(a + "__name_holder"), m = n.get(a + "__title_holder");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
f.on("click", function() {
h.onGravatarClick && h.onGravatarClick();
});
p.on("click", function() {
h.onContentClick && h.onContentClick();
});
d.getValue() && h.addClass("mobile");
h.autobind(_, "value", function(t) {
h[t ? "removeClass" : "addClass"]("no_avatar");
});
h.autobind(l, "value", function(t) {
h[t ? "removeClass" : "addClass"]("no_title_name");
});
h.setDataNode = e;
h.setTitleNode = n;
}
function e(t) {
f.setMemberNode(t);
if (t) {
o = t.$("display_name$string");
g.setDataNode(o);
r = t.$("title$string");
n(r);
} else {
g.setDataNode(null);
n(null);
}
}
function n(t) {
r = t;
m.setDataNode(r);
}
var o, r, a = i(40), s = a.root.$("livechat"), _ = s.$("settings").$("theme").$("chat_window").$("profile_card").$("display_avatar$bool"), l = s.$("settings").$("theme").$("chat_window").$("profile_card").$("display_title_name$bool"), d = s.$("ui").$("mobile$bool");
t();
}();
for (var b in $) $.hasOwnProperty(b) && (h[b] = $[b]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
width: "100%",
position: "relative",
".profile_table": {
width: "100%",
tableLayout: "fixed",
fontSize: "100%",
borderSpacing: "0px",
borderCollapse: "collapse",
td: {
padding: "0px"
}
},
".profile_avatar": {
width: "32px",
height: "32px",
borderWidth: "$$profileCardAvatarBorderWidth",
borderStyle: "$$profileCardAvatarBorderStyle",
borderColor: "$$profileCardAvatarBorderColor",
borderRadius: "$$profileCardAvatarRadius",
boxShadow: "$$profileCardAvatarShadow"
},
".profile_name": {
fontWeight: "bold",
color: "$$profileCardNameColor"
},
".profile_title": {
color: "$$profileCardTitleColor"
},
".profile_name, .profile_title": {
lineHeight: "1.2"
}
},
"**self.no_avatar .profile_table": {
".avatar_cell": {
display: "none"
},
".content_cell": {
paddingLeft: "0px"
}
},
"**self.no_title_name .profile_table": {
".content_cell": {
visibility: "hidden"
}
},
"**self.mobile": {
".profile_table": {
height: "100%"
}
}
};
a(t, "meshim_widget_widgets_ProfileCard");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_html_div = i(120);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:widget": "meshim.widget",
"xmlns:mui": "meshim.ui"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.setText(o.get(n));
}
function e(e) {
if (n !== e) {
n && h.autounbind(n, "value", t);
n = e;
n && h.autobind(n, "value", t);
}
}
var n, o = i(97);
h.setDataNode = e;
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
whiteSpace: "inherit",
overflow: "hidden",
textOverflow: "ellipsis",
fontWeight: "bold",
lineHeight: "1.2",
paddingBottom: "2px"
}
};
a(t, "meshim_widget_widgets_profileCard_MemberName");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_html_div = i(120);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:widget": "meshim.widget",
"xmlns:mui": "meshim.ui"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.setText(o.get(n));
}
function e(e) {
if (n !== e) {
n && h.autounbind(n, "value", t);
n = e;
n && h.autobind(n, "value", t);
}
}
var n, o = i(97);
h.setDataNode = e;
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
whiteSpace: "inherit",
overflow: "hidden",
textOverflow: "ellipsis",
paddingBottom: "2px"
}
};
a(t, "meshim_widget_widgets_profileCard_TitleHolder");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t() {
var t = [].slice.call(arguments);
if (t.length < 1) throw "Invalid chain: <empty>";
var e = null;
"string" == typeof t[t.length - 1] && (e = t.pop());
r.call(this, "chained$value");
this._chain = t;
this._default_primitive = e;
this._leafNodeValueCheck = o(this._leafNodeValueCheck, this);
}
function o(t, e) {
return function() {
t.apply(e, arguments);
};
}
var r = i(41), a = t.prototype = e(r.prototype);
a.bindValue = function() {
if (0 === this.listeners_value.length) for (var t = this._chain.length; t--; ) this._chain[t].bindValue(this._leafNodeValueCheck);
r.prototype.bindValue.apply(this, arguments);
};
a.unbindValue = function() {
r.prototype.unbindValue.apply(this, arguments);
if (0 === this.listeners_value.length) for (var t = this._chain.length; t--; ) this._chain[t].unbindValue(this._leafNodeValueCheck);
};
a.getChainedValue = function() {
for (var t = 0, e = this._chain.length; t < e; t++) {
var i = this._chain[t].getValue();
if (i) return i;
}
return this._default_primitive;
};
a._leafNodeValueCheck = function() {
this.update(this.getChainedValue());
};
n(t, "meshim_common_ChainedValueDataNode");
return t;
}();
}).call(e, i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_html_div = i(120);
e.__$$__jx_ui_html_table = i(103);
e.__$$__jx_ui_html_tbody = i(104);
e.__$$__jx_ui_html_tr = i(105);
e.__$$__jx_ui_html_td = i(106);
e.__$$__meshim_widget_widgets_Gravatar = i(144);
e.__$$__meshim_widget_widgets_profileCard_MemberName = i(193);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_table, "", "", [ [ e.__$$__jx_ui_html_tbody, "", "", [ [ e.__$$__jx_ui_html_tr, "", "", [ [ e.__$$__jx_ui_html_td, "", "", [ [ e.__$$__meshim_widget_widgets_Gravatar, "gravatar", "", [], {
id: "gravatar",
pseudo: "profile_avatar"
} ] ], {
pseudo: "avatar_cell"
} ], [ e.__$$__jx_ui_html_td, "content_cell", "", [ [ e.__$$__meshim_widget_widgets_profileCard_MemberName, "agent0", "", [], {
id: "agent0",
addClass: "profile_name"
} ], [ e.__$$__meshim_widget_widgets_profileCard_MemberName, "agent1", "", [], {
id: "agent1",
addClass: "profile_name"
} ] ], {
pseudo: "content_cell",
id: "content_cell"
} ] ], {} ] ], {} ] ], {
"class": "profile_table"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
var f = n.get(a + "__gravatar"), p = n.get(a + "__content_cell"), g = n.get(a + "__agent0"), m = n.get(a + "__agent1");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
h.setDataNode = e;
f.on("click", function() {
h.onGravatarClick && h.onGravatarClick();
});
p.on("click", function() {
h.onContentClick && h.onContentClick();
});
l.getValue() && h.addClass("mobile");
h.autobind(s, "value", function(t) {
h[t ? "removeClass" : "addClass"]("no_avatar");
});
h.autobind(_, "value", function(t) {
h[t ? "removeClass" : "addClass"]("no_title_name");
});
}
function e(t) {
if (o) {
if (o === t) return;
h.autounbind(o, "keys", n);
}
o = t;
if (o) {
f.setGroupNode(t);
h.autobind(o, "keys", n);
}
}
function n() {
var t = o.getKeys();
g.setDataNode(t.length <= 0 ? null : o.$(t[0]).$("display_name$string"));
m.setDataNode(t.length <= 1 ? null : o.$(t[1]).$("display_name$string"));
}
var o, r = i(40), a = r.root.$("livechat"), s = a.$("settings").$("theme").$("chat_window").$("profile_card").$("display_avatar$bool"), _ = a.$("settings").$("theme").$("chat_window").$("profile_card").$("display_title_name$bool"), l = a.$("ui").$("mobile$bool");
t();
}();
for (var b in $) $.hasOwnProperty(b) && (h[b] = $[b]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
width: "100%",
position: "relative",
".profile_table": {
width: "100%",
tableLayout: "fixed",
fontSize: "100%",
borderSpacing: "0px",
borderCollapse: "collapse",
td: {
padding: "0px"
}
},
".profile_avatar": {
width: "32px",
height: "32px",
"&": "$$profileCardAvatar"
}
},
"**self.mobile": {
".profile_table": {
height: "100%"
}
},
"**self.no_avatar .profile_table": {
".avatar_cell": {
display: "none"
},
".content_cell": {
paddingLeft: "0px"
}
},
"**self.no_title_name .profile_table": {
".content_cell": {
visibility: "hidden"
}
}
};
a(t, "meshim_widget_widgets_MultiProfilesCard");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t() {
w = V.root;
x = w.$("livechat");
v = x.$("ui").$("chat_button");
y = x.$("ui").$("chat_window");
A = x.$("channel").$("typing");
I = x.$("channel").$("log");
j = y.$("chat_panel");
C = j.$("textarea");
S = j.$("scrollable");
k = x.$("ui").$("chat_button").$("button_clicked$bool");
B = y.$("display$bool");
N = y.$("main_stack_name$string");
e.window.on("resize", c);
I.on("keys", u);
k.on("value", p);
D = 0;
L = !1;
W = !1;
O = !0;
}
function o(t) {
C.update({
value$string: t
});
if (t) {
T || _();
clearTimeout(E);
E = setTimeout(l, H);
} else if (T !== !1) {
E = clearTimeout(E);
l();
}
}
function r() {
return D <= 5;
}
function a(t, e) {
if (O) {
t = t || z.SMOOTH;
var i = S.$(t).getValue() || 0, n = {};
n[t] = i + 1;
S.update(n);
if (void 0 === e) {
clearTimeout(P);
P = setTimeout(function() {
a(t, !0);
}, 250);
}
}
}
function s(t) {
r() && a(t);
}
function _() {
T = !0;
A.write({
typing$bool: !0
});
M.setUserChoice(!0);
}
function l() {
T = !1;
A.write({
typing$bool: !1
});
}
function d(t) {
var e = t.trim();
if (e) {
V.livechat.sendChatMsg({
msg: e
});
o("");
a(z.SMOOTH);
}
}
function u() {
s(z.SMOOTH);
}
function c() {
D = void 0;
a(z.INSTANT);
}
function h(t) {
D = t;
L && (W = !0);
O && S.$("scrolled_to_bottom$bool").update(r());
W && g();
U();
}
function f() {
a(z.SMOOTH);
}
function p() {
a(z.INSTANT);
}
function g() {
O && r() && "chat_panel" === N.getValue() && B.getValue() === !0 && 0 !== v.$("unread_count$int").getValue() && F.resetUnreadCount();
}
function m() {
L = !0;
g();
}
function $() {
L = !1;
}
function b() {
E = clearTimeout(E);
P = clearTimeout(P);
I.un("keys", u);
k.un("value", p);
w = x = v, y = j = C = A = S = I = k = B = N = T = D = O = L = W = void 0;
}
var w, x, v, y, j, C, A, S, I, k, B, N, T, E, D, O, P, L, W, R = i(55), F = i(85), M = i(198), V = i(40), H = 12e4, z = {
SMOOTH: "smooth_scroll_count$int",
INSTANT: "instant_scroll_count$int"
}, U = R.debounce(function() {
W = !1;
}, 80), q = {
TYPING_TIMEOUT: H,
SCROLL_TYPES: z,
init: t,
scrollToBottom: a,
userFocusTextArea: f,
userInputValue: o,
userChangeOrientation: c,
userClickChatButton: p,
userDistFromBottom: h,
userSendMessage: d,
userReceiveMessage: u,
userTouchStart: m,
userTouchEnd: $,
resetState: b
};
n(q, "meshim_widget_controllers_ChatPanelController");
return q;
}();
}).call(e, i(6), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t() {
c = $.root;
h = c.$("livechat").$("settings").$("cookie_law");
f = h.$("enabled$bool");
p = c.$("livechat").$("profile");
g = p.$("allow_cookies$bool");
var t = m.getAllowCookieLaw();
"boolean" == typeof t && p.write({
allow_cookies$bool: t
});
}
function o() {
var t = "Zendesk Chat", e = c.$("connection").$("status$string").getValue();
e ? window.console && window.console.log && window.console.log(t + ": Cookie Law mode must be enabled immediately after embedding script") : h.write({
enabled$bool: !0
});
}
function r(t) {
t = e(t);
var i = s(), n = _();
if (t !== i) {
m.setAllowCookieLaw(t);
p.write({
allow_cookies$bool: t
});
var o = a();
if (o) {
t === !1 && $.livechat.clearAll();
t !== n && $.livechat.reconnect();
}
}
}
function a() {
var t = f.getValue();
return !!t;
}
function s() {
return g.getValue();
}
function _() {
var t = s();
return "boolean" != typeof t || t;
}
function l() {
var t = a(), e = _();
return t && e === !1;
}
function d() {
var t = s();
"boolean" != typeof t && r(!1);
}
function u() {
if (w.isCookieDenied()) {
var t = b.cookie_law.request_use_cookies_golion + "\n\n" + b.cookie_law.privacy_policy + ": https://www.zendesk.com/privacy";
if (window.confirm(t)) {
w.setUserChoice(!0);
return !0;
}
return !1;
}
return !0;
}
var c, h, f, p, g, m = i(44), $ = i(40), b = i(97), w = {
init: t,
enableCookieLaw: o,
setUserChoice: r,
isCookieDenied: l,
setDefaultImplicitConsent: d,
requestPermission: u
};
n(w, "meshim_widget_controllers_CookieLaw");
return w;
}();
}).call(e, i(16), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_widgets_ratingBar_emoticon_Emoticon = i(200);
e.__$$__meshim_widget_widgets_ratingBar_thumb_Thumb = i(206);
t.exports = function() {
function t(r, a, s, _, l) {
if (!(this instanceof t)) return new t(r, a, s, _, l);
a = a || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_ratingBar_emoticon_Emoticon, "emoticon_rating_options", "", [], {
id: "emoticon_rating_options",
addClass: "button_bar",
visible: "none"
} ], [ e.__$$__meshim_widget_widgets_ratingBar_thumb_Thumb, "thumb_rating_options", "", [], {
id: "thumb_rating_options",
addClass: "button_bar",
visible: "none"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], u = d[0].call(this, r, a, null, n.mangleIDs(a, d[3]), d[4]), c = u || this;
n.set(a, c);
var h = n.get(a + "__emoticon_rating_options"), f = n.get(a + "__thumb_rating_options");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
c.setDataNode = e;
c.getValue = i;
c.setValue = n;
c.setSize = s;
a();
d.on("change", r);
}
function e(t) {
_ && c.autounbind(_, "value", o);
_ = t;
_ && c.autobind(_, "value", o);
}
function i() {
return u;
}
function n(t) {
u = t;
d.setValue(t);
d.updateTitle(u);
}
function o(t) {
u !== t && n(t);
}
function r() {
var t = d.getValue();
u === t && (t = null);
n(t);
c.fire("change", t);
}
function a() {
l = "thumb";
if ("thumb" === l) {
f.show();
h.hide();
d = f;
} else if ("emoticon" === l) {
f.hide();
h.show();
d = h;
} else {
f.hide();
h.hide();
d = null;
}
}
function s(t) {
d.addClass(t);
}
var _, l, d, u;
t();
}();
for (var g in p) p.hasOwnProperty(g) && (c[g] = p[g]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(s);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative",
".button_bar": {
width: "100%",
textAlign: "center"
}
}
};
a(t, "meshim_widget_widgets_RatingBar");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_ButtonBar = i(201);
e.__$$__meshim_widget_widgets_ratingBar_emoticon_Good = i(203);
e.__$$__meshim_widget_widgets_ratingBar_emoticon_Bad = i(205);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = [ e.__$$__meshim_widget_widgets_ButtonBar, "", "", [ [ e.__$$__meshim_widget_widgets_ratingBar_emoticon_Good, "good_option", "", [], {
id: "good_option",
addClass: "rating_button"
} ], [ e.__$$__meshim_widget_widgets_ratingBar_emoticon_Bad, "bad_option", "", [], {
id: "bad_option",
addClass: "rating_button"
} ] ], {
noMangle: "true",
"xmlns:widgets": "meshim.widget.widgets"
} ], h = c[0].call(this, a, s, null, n.mangleIDs(s, c[3]), c[4]), f = h || this;
n.set(s, f);
var p = n.get(s + "__good_option"), g = n.get(s + "__bad_option");
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t() {
f.updateTitle = e;
p.setValue(a.GOOD);
g.setValue(a.BAD);
n();
o.mobile(f);
}
function e(t) {
if (t === a.GOOD) {
p.setTitle(s.REMOVE);
g.setTitle(s.BAD);
} else if (t === a.BAD) {
g.setTitle(s.REMOVE);
p.setTitle(s.GOOD);
} else n();
}
function n() {
p.setTitle(s.GOOD);
g.setTitle(s.BAD);
}
var o = i(95), a = {
GOOD: "good",
BAD: "bad"
}, s = {
GOOD: r(209),
BAD: r(210),
REMOVE: r(211)
};
t();
}();
for (var $ in m) m.hasOwnProperty($) && (f[$] = m[$]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_ButtonBar.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ButtonBar;
t.__jx__jcss = {
".rating_button": {
borderRadius: "50%",
".rating_icon": {
display: "inline"
},
"&.active": {
backgroundColor: "$$chatRatingsEmoticonActive",
cursor: "pointer"
}
},
"&.small": {
".rating_button": {
"width, height": "24px",
border: "1px solid $$chatRatingsEmoticonColor",
padding: "6px 3px 3px",
".rating_icon": {
lineHeight: 1.1
},
"&:first-child": {
marginRight: "3px"
}
}
},
"&.big": {
".rating_button": {
"width, height": "50px",
border: "2px solid $$chatRatingsEmoticonColor",
fontSize: "25px",
paddingTop: "14px",
"&:first-child": {
marginRight: "10px"
}
}
},
"&.desktop": {
".rating_button.active:hover": {
backgroundColor: "$$chatRatingsEmoticonHover"
}
},
"&.mobile": {
"&.small .rating_button": {
"width, height": "40px",
fontSize: "18px",
padding: "12px 3px 3px",
"&:first-child": {
marginRight: "5px"
}
},
"&.big": {
".rating_button": {
"width, height": "62px",
fontSize: "26px",
paddingTop: "20px"
}
}
}
};
s(t, "meshim_widget_widgets_ratingBar_emoticon_Emoticon");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(22), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_ButtonBar = i(202);
t.exports = function() {
function t(r, a, s, _, l) {
if (!(this instanceof t)) return new t(r, a, s, _, l);
a = a || n.generateID();
var d = [ e.__$$__jx_ui_ButtonBar, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
selectable: "false"
} ], u = d[0].call(this, r, a, null, n.mangleIDs(a, d[3]), d[4]), c = u || this;
n.set(a, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(s);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_ButtonBar.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_ButtonBar;
t.__jx__jcss = {
".option": {
cursor: "pointer",
display: "inline-block",
textAlign: "center",
"&:first-child": {},
"&:last-child": {},
"&.active": {
cursor: "default"
},
"&:hover": {},
"&.disabled": {
cursor: "default",
"&.active": {
cursor: "default"
},
"&:hover": {
cursor: "default"
}
}
}
};
a(t, "meshim_widget_widgets_ButtonBar");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
t.exports = function() {
function t(e, i, n, o, r) {
if (!(this instanceof t)) return new t(e, i, n, o, r);
this.navStack = null;
_.call(this, e, i, n, o, r);
this.addClass("button_bar");
r.initialValue && this.setValue(r.initialValue);
this.on("click", function(t) {
var e = t && t.target && t.target.jx_wrapper;
if (e && e !== this) {
for (;e.parentNode && e.parentNode != this; ) e = e.parentNode;
if (!this.getDisabled() && !e.getDisabled()) {
var i = e.getValue();
if ("" !== i && null != i) {
this.setValue(i);
this.fire("change");
}
}
}
});
this.onDestruction(function() {
this.navStack = null;
});
}
var s = i(116), _ = i(17), l = i(18);
t.prototype = e(_.prototype);
t.prototype.appendChild = function(t) {
var e = this.children.length;
n(t) && this.attributes && !o(this.attributes.noMangle) && (t[0] = s);
l.prototype.appendChild.call(this, t);
if (n(t)) {
this.children[e].addClass("option");
r(this.tabIndex) && this.children[e].setTabIndex(this.tabIndex + e);
}
};
t.prototype.setNoMangle = function(t) {
this.attributes.noMangle = o(t);
};
t.prototype.setValue = function(t) {
for (var e = 0, i = this.children.length; e < i; e++) if (this.children[e].getValue() == t) {
this.dom.value = this.children[e].getValue();
this.children[e].addClass("active");
} else this.children[e].removeClass("active");
};
t.prototype.getInitialValue = function() {
return this._initialValue;
};
t.prototype.setInitialValue = function(t) {
this._initialValue = t;
};
t.prototype.reset = function() {
this.setValue(this.getInitialValue());
};
t.prototype.setLabel = function(t, e) {
for (var i = 0, n = this.children.length; i < n; i++) this.children[i].getValue() == t && this.children[i].setText(e);
};
t.prototype.getTabIndex = function() {
return this.tabIndex;
};
t.prototype.setTabIndex = function(t) {
this.tabIndex = parseInt(t, 10) || 0;
for (var e = 0, i = this.children.length; e < i; e++) this.children[e].setTabIndex(this.tabIndex + e);
return this;
};
a(t, "jx_ui_ButtonBar");
return t;
}();
}).call(e, i(14), i(21), i(16), i(23), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__meshim_widget_widgets_ratingBar_emoticon_Button = i(204);
e.__$$__jx_ui_html_span = i(115);
e.__$$__meshim_widget_widgets_IconFont = i(96);
t.exports = function() {
function t(r, a, s, _, l) {
if (!(this instanceof t)) return new t(r, a, s, _, l);
a = a || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_ratingBar_emoticon_Button, "", "", [ [ e.__$$__jx_ui_html_span, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "happy",
addClass: "rating_icon"
} ] ], {
placement: "default_value",
discardPlacement: "true"
} ], [ e.__$$__jx_ui_html_span, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "happier",
addClass: "rating_icon"
} ] ], {
placement: "selected_value",
discardPlacement: "true"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:widgets": "meshim.widget.widgets"
} ], u = d[0].call(this, r, a, null, n.mangleIDs(a, d[3]), d[4]), c = u || this;
n.set(a, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(s);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_ratingBar_emoticon_Button.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ratingBar_emoticon_Button;
t.__jx__jcss = {};
a(t, "meshim_widget_widgets_ratingBar_emoticon_Good");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_html_span = i(115);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_html_span, "", "", [ [ e.__$$__jx_ui_html_span, "", "", [], {
"class": "default_value",
container: "default_value"
} ], [ e.__$$__jx_ui_html_span, "", "", [], {
"class": "selected_value",
container: "selected_value"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
var t = n.root.$("livechat").$("ui").$("mobile$bool");
h.autobind(t, "value", function(t) {
t || h.addClass("desktop");
});
}
var e = i(48), n = i(40);
e.hoverFix(h);
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_html_span.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_span;
t.__jx__jcss = {
"**self": {
width: "50%",
display: "inline-block",
".default_value": {
display: "inline"
},
".selected_value": {
display: "none"
},
"&.desktop.hover, &.desktop:hover, &.active": {
".default_value": {
display: "none"
},
".selected_value": {
display: "inline"
}
}
}
};
a(t, "meshim_widget_widgets_ratingBar_emoticon_Button");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__meshim_widget_widgets_ratingBar_emoticon_Button = i(204);
e.__$$__jx_ui_html_span = i(115);
e.__$$__meshim_widget_widgets_IconFont = i(96);
t.exports = function() {
function t(r, a, s, _, l) {
if (!(this instanceof t)) return new t(r, a, s, _, l);
a = a || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_ratingBar_emoticon_Button, "", "", [ [ e.__$$__jx_ui_html_span, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "sad",
addClass: "rating_icon"
} ] ], {
placement: "default_value",
discardPlacement: "true"
} ], [ e.__$$__jx_ui_html_span, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "sadder",
addClass: "rating_icon"
} ] ], {
placement: "selected_value",
discardPlacement: "true"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:widgets": "meshim.widget.widgets"
} ], u = d[0].call(this, r, a, null, n.mangleIDs(a, d[3]), d[4]), c = u || this;
n.set(a, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(s);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_ratingBar_emoticon_Button.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ratingBar_emoticon_Button;
t.__jx__jcss = {};
a(t, "meshim_widget_widgets_ratingBar_emoticon_Bad");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_ButtonBar = i(201);
e.__$$__meshim_widget_widgets_ratingBar_thumb_Button = i(207);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = [ e.__$$__meshim_widget_widgets_ButtonBar, "", "", [ [ e.__$$__meshim_widget_widgets_ratingBar_thumb_Button, "good_option", "", [], {
id: "good_option",
type: "thumbs_up",
addClass: "rating_button"
} ], [ e.__$$__meshim_widget_widgets_ratingBar_thumb_Button, "bad_option", "", [], {
id: "bad_option",
type: "thumbs_down",
addClass: "rating_button"
} ] ], {
noMangle: "true",
"xmlns:widgets": "meshim.widget.widgets"
} ], h = c[0].call(this, a, s, null, n.mangleIDs(s, c[3]), c[4]), f = h || this;
n.set(s, f);
var p = n.get(s + "__good_option"), g = n.get(s + "__bad_option");
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t() {
f.updateTitle = e;
p.setValue(a.GOOD);
g.setValue(a.BAD);
n();
o.mobile(f);
}
function e(t) {
if (t === a.GOOD) {
p.setTitle(s.REMOVE);
g.setTitle(s.BAD);
} else if (t === a.BAD) {
g.setTitle(s.REMOVE);
p.setTitle(s.GOOD);
} else n();
}
function n() {
p.setTitle(s.GOOD);
g.setTitle(s.BAD);
}
var o = i(95), a = {
GOOD: "good",
BAD: "bad"
}, s = {
GOOD: r(212),
BAD: r(213),
REMOVE: r(214)
};
t();
}();
for (var $ in m) m.hasOwnProperty($) && (f[$] = m[$]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_ButtonBar.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ButtonBar;
t.__jx__jcss = {
".rating_button": {
".rating_icon": {
display: "inline-block",
verticalAlign: "middle"
},
color: "$$chatRatingsThumbLight",
"&.active": {
backgroundColor: "$$chatRatingsThumbActive",
border: "1px solid $$chatRatingsThumbBGHover",
borderRadius: "5px",
color: "$$chatRatingsThumbDark",
cursor: "pointer"
}
},
"&.small": {
".rating_button": {
"width, height": "24px",
fontSize: "18px",
".rating_icon": {
lineHeight: "22px",
paddingLeft: "1px"
},
"&:first-child": {
marginRight: "3px"
}
}
},
"&.big": {
".rating_button": {
"width, height": "50px",
fontSize: "40px",
".rating_icon": {
lineHeight: "48px"
},
"&:first-child": {
marginRight: "10px"
}
}
},
"&.desktop": {
".rating_button.active:hover": {
color: "$$chatRatingsThumbLight"
}
},
"&.mobile": {
"&.small .rating_button": {
"width, height": "40px",
fontSize: "25px",
padding: "6px 3px 3px",
"&:first-child": {
marginRight: "5px"
}
},
"&.big": {
".rating_button": {
"width, height": "62px",
fontSize: "40px",
paddingTop: "12px"
}
}
}
};
s(t, "meshim_widget_widgets_ratingBar_thumb_Thumb");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(22), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_html_span = i(115);
e.__$$__meshim_widget_widgets_IconFont = i(96);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_html_span, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "thumbs", "", [], {
id: "thumbs",
addClass: "rating_icon"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
var f = n.get(a + "__thumbs");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
var t = n.root.$("livechat").$("ui").$("mobile$bool");
h.autobind(t, "value", function(t) {
t || h.addClass("desktop");
});
}
var e = i(48), n = i(40);
h.setType = function(t) {
switch (t) {
case "thumbs_up":
f.setIcon("thumbsup");
break;

case "thumbs_down":
f.setIcon("thumbsdown");
break;

default:
f.setDisplay("none");
}
};
e.hoverFix(h);
t();
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_html_span.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_span;
t.__jx__jcss = {
"**self": {
width: "50%",
display: "inline-block",
border: "1px solid transparent",
".default_value": {
display: "inline"
},
"&.desktop.hover, &.desktop:hover": {
color: "$$chatRatingsThumbDark"
}
}
};
a(t, "meshim_widget_widgets_ratingBar_thumb_Button");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__meshim_widget_widgets_ScrollableFrame = i(140);
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_components_chatWindow_chatPanel_FastInitChatLog = i(209);
e.__$$__meshim_widget_widgets_chatLogRenderer_TypingRenderer = i(242);
t.exports = function() {
function t(r, a, s, _, l) {
if (!(this instanceof t)) return new t(r, a, s, _, l);
a = a || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__jx_ui_Widget, "chat_log_wrapper", "", [ [ e.__$$__meshim_widget_components_chatWindow_chatPanel_FastInitChatLog, "", "", [], {} ], [ e.__$$__meshim_widget_widgets_chatLogRenderer_TypingRenderer, "", "", [], {
addClass: "group_head"
} ] ], {
id: "chat_log_wrapper",
"class": "chat_log_wrapper"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:jx": "jx.controls",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatPanel": "meshim.widget.components.chatWindow.chatPanel"
} ], u = d[0].call(this, r, a, null, n.mangleIDs(a, d[3]), d[4]), c = u || this;
n.set(a, c);
var h = n.get(a + "__chat_log_wrapper");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
c.setChatLogMarginTop = e;
}
function e(t) {
h.setStyle("marginTop", t);
}
t();
}();
for (var p in f) f.hasOwnProperty(p) && (c[p] = f[p]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(s);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_ScrollableFrame.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ScrollableFrame;
t.__jx__jcss = {
".group_head": {
marginTop: "$$margin"
},
".chat_log_wrapper": {
margin: "$$chatLogMargin"
}
};
a(t, "meshim_widget_components_chatWindow_chatPanel_ChatLogContainer");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:jx": "jx.controls"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.autobind(p, "value", function(t) {
if (o != t) {
o = t;
e();
}
});
h.autobind(g, "value", function(t) {
if (r != t) {
r = t;
e();
}
});
}
function e() {
if ("fast_init" == o) {
if (!a) {
a = new l(h);
a.setDataNode(c);
h.autobind(u, "value", n);
h.fire("fast_log_appended");
}
} else if ("registered" == r || "reattached" == r) {
if (a instanceof l) {
h.autounbind(u, "value", n);
a.destroy();
}
a = !0;
if (!s) {
s = new l(h);
s.setDataNode(u);
h.fire("chat_log_appended");
}
}
}
function n(t) {
if (t) {
var e;
for (var i in t) if (t.hasOwnProperty(i)) {
e = t[i];
if (!e) continue;
if (e.unverified$bool && !e.nick$string) {
e.nick$string = "visitor:local";
c.$(i).update(e);
}
}
}
}
var o, r, a, s, _ = i(40), l = i(210), d = _.root.$("livechat"), u = d.$("channel").$("log"), c = d.$("temp").$("prev_log"), f = _.root.$("connection"), p = f.$("message$string"), g = f.$("status$string");
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {};
a(t, "meshim_widget_components_chatWindow_chatPanel_FastInitChatLog");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__jx_controls_List = i(211);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_controls_List, "list", "", [], {
id: "list"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:jx": "jx.controls",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:renderer": "meshim.widget.widgets.chatLogRenderer"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
var f = n.get(a + "__list");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
h.autobind(_, "value", function(t) {
n && h.removeClass("chat_log_" + n);
n = t;
n && h.addClass("chat_log_" + n);
});
h.autobind(l, "value", function(t) {
if (t && o != t) {
o = t;
h.setDataNode(e);
}
});
f.setRenderer(a);
}
var e, n, o, r = i(40), a = i(214), s = r.root.$("livechat"), _ = s.$("settings").$("theme").$("chat_window").$("size$string"), l = s.$("settings").$("theme").$("message_type$string");
h.setDataNode = function(t) {
if (t) {
e = t;
f.setDataNode(e);
}
};
t();
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative"
},
".visitor .chat_bubble": {
background: "$$chatLogVisitorBubbleBg",
borderWidth: "$$chatLogVisitorBubbleBorderWidth",
borderStyle: "$$chatLogVisitorBubbleBorderStyle",
borderColor: "$$chatLogVisitorBubbleBorderColor",
".arrow_border": {
borderColor: "$$chatLogVisitorBubbleBorderColor"
},
".arrow_background": {
borderColor: "$$chatLogVisitorBubbleBg"
},
".image_file_border": {
borderColor: "$$chatLogVisitorBubbleBorderColor"
},
".generic_file_border": {
borderColor: "$$chatLogVisitorBubbleBorderColor"
}
},
".agent .chat_bubble": {
background: "$$chatLogAgentBubbleBg",
borderWidth: "$$chatLogAgentBubbleBorderWidth",
borderStyle: "$$chatLogAgentBubbleBorderStyle",
borderColor: "$$chatLogAgentBubbleBorderColor",
".arrow_border": {
borderColor: "$$chatLogAgentBubbleBorderColor"
},
".arrow_background": {
borderColor: "$$chatLogAgentBubbleBg"
},
".image_file_border": {
borderColor: "$$chatLogAgentBubbleBorderColor"
},
".generic_file_border": {
borderColor: "$$chatLogAgentBubbleBorderColor"
}
},
".log_avatar": {
borderWidth: "$$chatLogAvatarBorderWidth",
borderStyle: "$$chatLogAvatarBorderStyle",
borderColor: "$$chatLogAvatarBorderColor",
borderRadius: "$$chatLogAvatarRadius",
boxShadow: "$$chatLogAvatarShadow"
},
".group_head, .card, .group_children.bubble_avatar, .group_children.bubble": {
marginTop: "$$margin"
},
a: {
color: "inherit"
},
".card": {
"marginLeft, marginRight": "auto"
},
"&.chat_log_small": {
".card": {}
},
"&.chat_log_medium": {
".card": {
maxWidth: "220px"
}
},
"&.chat_log_large": {
".card": {
maxWidth: "260px"
}
}
};
a(t, "meshim_widget_components_chatWindow_chatPanel_ChatLog");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__div = i(212);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = [ e.__$$__div, "", "", [ [ e.__$$__div, "template", "", [ [ e.__$$__div, "", "", [], {} ] ], {
id: "template",
container: "default",
display: "none"
} ], [ e.__$$__div, "content", "", [], {
id: "content"
} ] ], {} ], h = c[0].call(this, a, s, null, n.mangleIDs(s, c[3]), c[4]), f = h || this;
n.set(s, f);
var p = n.get(s + "__template"), g = n.get(s + "__content");
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
f.defaultPlacement = p;
var m = function() {
function t(t) {
A && f.autounbind(A, "keys", o);
A = t;
e();
f.autobind(A, "keys", o);
}
function e() {
g.empty();
k = {};
T = [];
if (E) {
E = 0;
f.fire("jx:list:length", E);
}
}
function o(t, e) {
var i = t.length + e.length > 2;
i && f.removeChild(g);
var n, o, r, s, _ = E;
for (o = 0; o < t.length; o++) {
n = t[o];
if (!(n in k)) {
var l = O(g), d = A.$(n);
k[n] = l;
E++;
C.applySetDataNode(l);
r = S ? w(n) : n;
s = y(r, l);
l.setAttribute("jx:list:rowID", n);
l.setDataNode(d);
a(s);
}
}
for (o = 0; o < e.length; o++) {
n = e[o];
if (n in k) {
r = S ? w(n, !0) : n;
s = v(r);
delete B[r];
k[n] === P && (P = null);
k[n].destroy();
delete k[n];
a(s);
E--;
}
}
i && f.appendChild(g);
_ != E && f.fire("jx:list:length", E);
t.length && f.fire("jx:list:added", t);
}
function a(t) {
if (!(t < 0) && T[t]) {
var e, i, n = T[t], o = k[n];
if (o) {
if (T[t + 1]) {
o.setAttribute("jx:list:nextID", T[t + 1]);
e = k[T[t + 1]];
e.setAttribute("jx:list:prevID", n);
o.fire("update.neighbour", {
next: T[t + 1]
});
e.fire("update.neighbour", {
prev: n
});
} else {
o.removeAttribute("jx:list:nextID");
o.fire("update.neighbour", {
next: null
});
}
if (T[t - 1]) {
o.setAttribute("jx:list:prevID", T[t - 1]);
i = k[T[t - 1]];
i.setAttribute("jx:list:nextID", n);
o.fire("update.neighbour", {
prev: T[t - 1]
});
i.fire("update.neighbour", {
next: n
});
} else {
o.removeAttribute("jx:list:prevID");
o.fire("update.neighbour", {
prev: null
});
}
}
}
}
function s(t) {
for (;t.parentNode && t != f; ) {
var e = t.getAttribute("jx:list:nextID");
if (e) return e;
t = t.parentNode;
}
}
function _(t) {
for (;t.parentNode && t != f; ) {
var e = t.getAttribute("jx:list:prevID");
if (e) return e;
t = t.parentNode;
}
}
function l(t) {
for (;t.parentNode && t != f; ) {
var e = t.getAttribute("jx:list:rowID");
if (e) return e;
t = t.parentNode;
}
}
function d() {
var t, e, i = [];
for (t in k) if (k.hasOwnProperty(t)) {
e = k[t].getAttribute("jx:list:rowID");
e && i.push(e);
}
return i;
}
function u(t) {
var e = k[t];
if (e) return e.jx_wrapper || e;
}
function c(t) {
h(t.target);
}
function h(t) {
var e, i;
if (r(t)) {
i = t;
e = k[i];
} else if ("number" == typeof t) {
e = g.childNodes[t];
e && (i = e.getAttribute("jx:list:rowID"));
} else {
e = t;
for (;e.parentNode && e != g; ) {
i = e.getAttribute("jx:list:rowID");
if (i) {
e.jx_wrapper && (e = e.jx_wrapper);
break;
}
e = e.parentNode;
}
}
if (e && e != P) {
m();
P = e.jx_wrapper || e;
P.addClass("active");
P.fire("jx:list:selected");
f.fire("jx:list:select", i);
}
}
function m() {
P && P.removeClass("active");
P && P.fire("jx:list:deselected");
P = null;
}
function $(t, e) {
if (S != t || I != e) {
I = e;
S = t;
if (S) {
if (!D) {
f.autobind(A, "value", x);
D = !0;
}
} else {
if (D) {
f.autounbind(A, "value", x);
D = !1;
}
I = !1;
}
B = {};
N = {};
E > 1 && b();
}
}
function b() {
var t, e, i;
g.innerHTML = "";
T = [];
for (e in k) if (k.hasOwnProperty(e)) {
t = S ? w(e) : e;
i = y(t, k[e]);
N[e] = t;
B[t] = e;
a(i);
}
}
function w(t, e) {
return e ? N[t] : (A.$(t).getValue(S) + "\0" + t).replace(/ /g, "").toLowerCase();
}
function x(t) {
if (S) {
var e, i, n, o, r, s;
for (n in t) if (t.hasOwnProperty(n)) {
i = t[n];
if (N[n] && i && i[S]) {
e = k[n];
g.removeChild(e);
r = N[n];
o = w(n);
delete B[r];
s = v(r);
a(s);
B[o] = n;
N[n] = o;
s = y(o, e, i[S]);
a(s);
}
}
}
}
function v(t) {
var e = j(T, t);
if (e < 0) {
console.log("Could not find " + t + " in List");
return e;
}
T.splice(e, 1);
return e;
}
function y(t, e) {
var i = (-j(T, t) >> 0) - 1;
i < 0 && "undefined" != typeof console && "log" in console && console.log(t + " is already in List");
T.splice(i, 0, t);
I && (i = T.length - i - 1);
g.insertBefore(e.dom || e, g.childNodes[i] || null);
return i;
}
function j(t, e) {
for (var i, n, o = t.length, r = 0, a = o - 1; r <= a; ) {
i = (r + a) / 2 >> 0;
n = t[i];
if (n < e) r = i + 1; else {
if (!(n > e)) return i;
a = i - 1;
}
}
return -(r + 1);
}
var C = i(213);
f.setDataNode = t;
f.setRenderer = function(t) {
O = t;
};
f.getID = l;
f.getNextID = s;
f.getPrevID = _;
f.getRowIDs = d;
f.getByID = u;
f.clearList = e;
f.select = h;
f.deselect = m;
f.setSort = $;
var A, S, I, k = {}, B = {}, N = {}, T = [], E = 0, D = !1, O = function(t) {
if (p.lastChild.__jx__native) {
var e = p.lastChild.cloneNode(!0);
n.extend(e, !0);
return e;
}
return p.lastChild.__jx__constructor(t);
}, P = null;
g.on("click", c);
}();
for (var $ in m) m.hasOwnProperty($) && (f[$] = m[$]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = a(e.__$$__div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__div;
t.__jx__jcss = {};
s(t, "jx_controls_List");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(19), i(14), i(4));
}, function(t, e, i) {
(function(e, i) {
t.exports = function() {
var t = e.nativeGenerator("div");
i(t, "div");
return t;
}();
}).call(e, i(20), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(t) {
var e, i;
if (t.leaf) {
e = this;
e.autobind(t, "value", function(t) {
"value" in e ? e.value = t : e.setText(t);
});
} else {
e = this.firstChild;
for (;e; ) {
if (e.getAttribute) {
i = e.getAttribute("name");
i ? e.setDataNode(t.descend(i)) : e.setDataNode(t);
}
e = e.nextSibling;
}
}
}
function i(e) {
if (!e.setDataNode) {
e.setDataNode = t;
for (var n = e.firstChild; n; ) {
i(n);
n = n.nextSibling;
}
}
}
var n = {
applySetDataNode: i
};
e(n, "jx_data_SetDataNode");
return n;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_html_div = i(120);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"class": "chat_log_renderer"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.setDataNode = n;
h.onDestruction(function() {
clearTimeout(v);
});
}
function e() {
return j.root.$$("livechat.settings.theme.message_type$string").getValue() || "bubble_avatar";
}
function n(t) {
m && h.autounbind(m, "value", o);
m = t;
h.autobind(m, "value", o);
h.on("update.neighbour", s);
}
function o(t) {
if (t) {
if (t.nick$string) {
b = t.nick$string;
a(b);
}
t.type$string && r(t.type$string);
t.failed$bool && p();
if ("unverified$bool" in t) {
clearTimeout(v);
t.unverified$bool && (v = setTimeout(g, y.RESEND_MSG_TIMEOUT));
}
}
}
function r(t) {
if (t && t !== w) {
if (x) {
h.empty();
x = null;
}
w = t;
switch (t) {
case "chat.mention":
case "chat.msg":
case "chat.file.update":
case "chat.file.upload":
u();
break;

case "chat.request.rating":
c();
break;

case "chat.join":
break;

default:
f();
}
b && a(b);
}
}
function a(t) {
if (x) {
for (var e = t.substring(0, t.indexOf(":")), i = 0, n = 0, o = t.length; n < o; ) {
i += t.charCodeAt(n);
n++;
}
i = i % 8 + 1;
x.addClass(e);
x.addClass(e + "_" + i);
a.assigned = !0;
}
}
function s(t) {
if ("prev" in t && $ != t.prev) {
$ = t.prev;
_();
}
}
function _() {
if (m) if ($) {
var t = m.parentNode.$($), e = t.getValue("nick$string"), i = t.getValue("type$string");
T.test(i) && w === i && e === b ? d() : l();
} else l();
}
function l() {
if (x) {
x.removeClass("group_children");
x.addClass("group_head");
}
}
function d() {
if (x) {
x.addClass("group_children");
x.removeClass("group_head");
}
}
function u() {
var t, i = e();
x && h.empty();
switch (i) {
case "bubble":
t = S;
break;

case "basic_avatar":
t = I;
break;

case "bubble_avatar":
t = k;
break;

default:
t = A;
}
x = new t(h);
x.setDataNode(m);
x.addClass(i);
}
function c() {
x = new B(h);
x.setDataNode(m);
}
function f() {
x = new N(h);
x.setDataNode(m);
x.setPseudo("system_msg");
}
function p() {
C.increment("user_msg_send_failed");
}
function g() {
C.increment("user_msg_send_timeout");
}
var m, $, b, w, x, v, y = i(42), j = i(40), C = i(59), A = i(215), S = i(227), I = i(230), k = i(231), B = i(232), N = i(235), T = /chat\.(msg|memberjoin|changename)/;
$ = b = w = "";
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
position: "relative",
clear: "both",
width: "100%"
}
};
a(t, "meshim_widget_widgets_ChatLogRenderer");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_html_div = i(120);
e.__$$__meshim_widget_widgets_chatLogRenderer_ChatName = i(216);
e.__$$__meshim_widget_widgets_chatLogRenderer_ChatMessage = i(217);
e.__$$__meshim_widget_widgets_chatLogRenderer_ResendChatMessage = i(220);
e.__$$__meshim_widget_widgets_chatLogRenderer_ChatOption = i(221);
e.__$$__meshim_widget_widgets_chatLogRenderer_ChatFile = i(223);
t.exports = function() {
function t(r, a, s, _, l) {
if (!(this instanceof t)) return new t(r, a, s, _, l);
a = a || n.generateID();
var d = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_chatLogRenderer_ChatName, "chat_name", "", [], {
id: "chat_name",
addClass: "chat_name"
} ], [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_chatLogRenderer_ChatMessage, "chat_msg", "", [], {
id: "chat_msg",
addClass: "chat_msg"
} ], [ e.__$$__meshim_widget_widgets_chatLogRenderer_ResendChatMessage, "resend", "", [], {
id: "resend",
addClass: "resend_chat_msg"
} ] ], {
"class": "chat_msg_holder"
} ], [ e.__$$__meshim_widget_widgets_chatLogRenderer_ChatOption, "chat_option", "", [], {
id: "chat_option",
addClass: "chat_option"
} ], [ e.__$$__meshim_widget_widgets_chatLogRenderer_ChatFile, "chat_file", "", [], {
id: "chat_file",
addClass: "chat_file"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui",
"xmlns:logRenderer": "meshim.widget.widgets.chatLogRenderer"
} ], u = d[0].call(this, r, a, null, n.mangleIDs(a, d[3]), d[4]), c = u || this;
n.set(a, c);
var h = n.get(a + "__chat_name"), f = n.get(a + "__chat_msg"), p = n.get(a + "__resend"), g = n.get(a + "__chat_option"), m = n.get(a + "__chat_file");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
c.setDataNode = e;
}
function e(t) {
h.setDataNode(t);
f.setDataNode(t);
p.setDataNode(t);
g.setDataNode(t);
m.setDataNode(t);
}
t();
}();
for (var b in $) $.hasOwnProperty(b) && (c[b] = $[b]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(s);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
marginTop: "10px",
".chat_name": {
fontWeight: "bold",
"&": "$$chatLogName"
},
"&.visitor .chat_name": {
color: "$$chatLogVisitorNameColor"
},
"&.agent .chat_name": {
color: "$$chatLogAgentNameColor"
},
".chat_msg_holder": {
whiteSpace: "pre-wrap",
wordWrap: "break-word",
".chat_msg": {
"&": "$$chatLogMsg"
},
".resend_chat_msg": {
marginLeft: "6px"
}
},
".chat_option": {
input: {
margin: "2px 5px"
}
},
".chat_file": {
"marginTop, marginBottom": "5px",
"&": "$$chatLogFile"
}
},
"**self.group_children": {
marginTop: "0px",
".chat_name": {
display: "none"
}
}
};
a(t, "meshim_widget_widgets_chatLogRenderer_BasicRenderer");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__jx_ui_html_div = i(120);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = o(219), h = o(220), f = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_div, "text", "", [], {
id: "text",
addClass: "text_name"
} ], [ e.__$$__jx_ui_html_div, "change_name", "", [ h ], {
id: "change_name"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui"
} ], p = f[0].call(this, a, s, null, n.mangleIDs(s, f[3]), f[4]), g = p || this;
n.set(s, g);
var m = n.get(s + "__text"), $ = n.get(s + "__change_name");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var b = function() {
function t() {
g.setDataNode = e;
g.autobind(b, "value", a);
g.autobind(v, "value", function(t) {
g.setStyle("cursor", t ? "auto" : "");
$.setText(t ? c : h);
});
}
function e(t) {
_ && g.autounbind(_, "value", n);
_ = t;
g.autobind(_, "value", n);
}
function n(t) {
if (t && t.type$string != y) {
t.nick$string && o(t.nick$string, t.timestamp$int);
t.display_name$string && r(t.display_name$string);
}
}
function o(t, e) {
if (t) {
f = t.split(":")[0];
"visitor" == f && p && r(p);
"agent" == f && w.getValue() && e > w.getValue() && l.root.$$("livechat.ui.sounds").update({
new_message$int: +new Date()
});
if ("visitor" == f && !s.bounded) {
g.addClass("cursor_pointer");
g.on("click", s);
s.bounded = !0;
}
}
}
function r(t) {
if ("visitor" == f) {
t = b.getValue();
if (!p) {
if (u.isDefaultName(t)) {
t = "";
$.setDisplay("");
} else $.setDisplay("none");
p = t;
}
m.setText(p);
} else {
m.setText(t);
$.setDisplay("none");
}
}
function a(t) {
if (t && "string" == typeof t && (!f || "visitor" == f)) {
if (u.isDefaultName(t)) {
t = "";
$.setDisplay("");
} else $.setDisplay("none");
p = t;
m.setText(p);
}
}
function s(t) {
if (x.getValue()) {
if (!u.isDefaultName(b.getValue())) return;
window.scrollTo(0, 0);
}
t.stopPropagation();
d.showProfileMenu();
}
var _, l = i(40), d = i(109), u = i(48), f = "", p = "", b = l.root.$$("livechat.profile.display_name$string"), w = l.root.$$("connection.reattached_timestamp$int"), x = l.root.$$("livechat.ui.mobile$bool"), v = l.root.$("livechat").$("settings").$("login").$("restrict_profile$bool"), y = "chat.file.update";
t();
}();
for (var w in b) b.hasOwnProperty(w) && (g[w] = b[w]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(u);
"function" == typeof g.addChildren ? g.addChildren(d) : n.addChildren(g, d);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = a(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
display: "inline-block"
},
"&.cursor_pointer": {
cursor: "pointer"
},
".text_name": {
"*display": "inline",
wordWrap: "break-word"
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_ChatName");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_html_div = i(120);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [], {
xmlns: "jx.ui.html"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.setDataNode = e;
}
function e(t) {
r && h.autounbind(r, "value", n);
r = t.$("msg$string");
h.autobind(r, "value", n);
}
function n(t) {
t = t || "";
if (!a.file_upload.test(t)) {
var e = s.toJXMLElements(t, f);
o(e);
}
}
function o(t) {
h.empty();
h.setText("");
h.addChildren(t);
}
var r, a = i(70), s = i(176), _ = i(177), l = i(218), d = i(180), u = i(178), c = i(219), f = [ _, d, u, l, c ];
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
display: "inline"
}
};
a(t, "meshim_widget_widgets_chatLogRenderer_ChatMessage");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(t) {
for (var e, i = n.search.email, o = 0, r = []; null !== (e = i.exec(t)); ) {
var a = e[0].trim(), s = e[2], _ = i.lastIndex - a.length;
if (n.tld.test(s)) {
_ > o && r.push(t.substring(o, _));
r.push({
tagName: "a",
attributes: {
href: "mailto:" + a
},
children: [ a ]
});
o = i.lastIndex;
}
}
o < t.length && r.push(t.substring(o));
return r;
}
var n = i(70);
e(t, "meshim_common_stringParser_EmailParser");
return t;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(t) {
for (var e, i = n.search.phone_number, o = 0, r = []; null !== (e = i.exec(t)); ) {
var a = e[0].trim(), s = e[1], _ = e[2], l = i.lastIndex - a.length, d = a.replace(s, "").replace(_, "");
l > o && r.push(t.substring(o, l));
r.push({
tagName: "a",
attributes: {
href: "tel:" + d
},
children: [ a ]
});
o = i.lastIndex;
}
o < t.length && r.push(t.substring(o));
return r;
}
var n = i(70);
e(t, "meshim_common_stringParser_PhoneNumberParser");
return t;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s, _) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_widgets_IconFont = i(96);
t.exports = function() {
function t(s, _, d, u, c) {
if (!(this instanceof t)) return new t(s, _, d, u, c);
_ = _ || n.generateID();
var h = o(217), f = o(218), p = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "exclamation",
title: h
} ], [ e.__$$__jx_ui_Widget, "", "", [ f ], {
"class": "resend"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
display: "none"
} ], g = p[0].call(this, s, _, null, n.mangleIDs(_, p[3]), p[4]), m = g || this;
n.set(_, m);
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
m.setDataNode = e;
m.on("click", o);
}
function e(t) {
if (t != s) {
s && m.autounbind(s, "value", n);
s = t;
s && m.autobind(s, "value", n);
}
}
function n(t) {
if (t) {
t.failed$bool && r();
if ("unverified$bool" in t) {
window.clearTimeout(_);
t.unverified$bool && (_ = window.setTimeout(r, l.RESEND_MSG_TIMEOUT));
}
}
}
function o(t) {
t && a(t.stopPropagation) && t.stopPropagation();
d.livechat.sendChatMsg({
msg: s.getValue("msg$string")
}, s.name);
m.setDisplay("none");
}
function r() {
m.setDisplay("");
}
var s, _, l = i(42), d = i(40);
t();
}();
for (var b in $) $.hasOwnProperty(b) && (m[b] = $[b]);
m.fire && m.fire("init");
m.setStyle && m.setStyle(d);
m.setAttributes && m.setAttributes(c);
"function" == typeof m.addChildren ? m.addChildren(u) : n.addChildren(m, u);
if (m !== this) {
m.__jx__constructor = l;
m.__jx__native = !1;
}
return m;
}
var l;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
".resend": {
textDecoration: "underline"
},
".icon_font": {
position: "relative",
top: "2px",
marginRight: "3px"
}
},
"**self, .icon_font, .resend": {
color: "$$errorColor",
display: "inline-block",
"*display": "inline",
"*zoom": "1",
cursor: "pointer"
}
};
_(t, "meshim_widget_widgets_chatLogRenderer_ResendChatMessage");
l = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(9), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_html_div = i(120);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.setDataNode = e;
}
function e(t) {
s && h.autounbind(s, "value", n);
s = t.$("options$string");
h.autobind(s, "value", n);
}
function n(t) {
t = t || "";
t = o(t);
if (t) {
h.setHTML(t);
r();
}
}
function o(t) {
if (!t) return "";
for (var e, i = t.split("/"), n = "<form>", o = 0, r = i.length; o < r; o++) {
e = l.html(i[o]);
n += '<label><input type="radio" name="option" value="' + e + '">' + e + "</label></br>";
}
n += "</form>";
return n;
}
function r() {
for (var t = h.dom.getElementsByTagName("input"), e = 0, i = t.length; e < i; e++) t[e].onclick = function() {
this.value !== _ && a(this.value);
};
}
function a(t) {
if (t) {
d.livechat.sendChatMsg({
msg: t
});
_ = t;
}
}
var s, _, l = i(222), d = i(40);
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {};
a(t, "meshim_widget_widgets_chatLogRenderer_ChatOption");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(t) {
return "&#" + t.charCodeAt(0) + ";";
}
var i = /[&<>"']/g, n = {
html: function(e) {
return e && e.replace(i, t);
}
};
e(n, "meshim_common_Sanitize");
return n;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__jx_ui_html_div = i(120);
e.__$$__jx_ui_html_p = i(224);
e.__$$__jx_ui_html_img = i(124);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_html_div, "file_progress_container", "", [ [ e.__$$__jx_ui_html_p, "progress_text", "", [], {
id: "progress_text",
"class": "progress_text"
} ], [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_img, "progress_bar", "", [], {
id: "progress_bar",
"class": "progress_bar"
} ] ], {
"class": "progress_container"
} ] ], {
id: "file_progress_container"
} ], [ e.__$$__jx_ui_html_div, "file_details_container", "", [], {
id: "file_details_container",
"class": "file_details_container",
visible: "none"
} ], [ e.__$$__jx_ui_html_div, "file_status", "", [], {
id: "file_status",
"class": "file_status"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], h = c[0].call(this, a, s, null, n.mangleIDs(s, c[3]), c[4]), f = h || this;
n.set(s, f);
var p = n.get(s + "__file_progress_container"), g = n.get(s + "__progress_text"), m = n.get(s + "__progress_bar"), $ = n.get(s + "__file_details_container"), b = n.get(s + "__file_status");
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var w = function() {
function t() {
f.setDisplay("none");
m.setSrc(d.IMAGES_URL + "/loadingbar.gif");
}
function e(t) {
if (t) {
var e;
if (S in t) {
E.lastIndex = 0;
var i = E.exec(t[S]);
if (!i) return;
t[x] = i[1];
t[y] = i[2];
t[v] = i[3];
t[A] = i[4];
t[j] = i[6];
t[I] = "ok";
t[C] = 100;
n(t) && o(t) && a(t);
e = !0;
w.update({
file_upload_scroll$bool: !0
});
}
(x in t || k in t) && f.setDisplay("");
if (!e) {
n() && o() && a();
w.update({
file_upload_scroll$bool: !0
});
}
}
}
function n(t) {
t = t || s.getValue();
if (I in t) {
var e = "ok" == t[I].toLowerCase();
p.setDisplay("none");
if (e) {
$.setDisplay("");
b.removeClass("fail");
return !0;
}
$.setDisplay("none");
b.addClass("fail");
if (!(k in t)) return !0;
b.setText(l.prettyError(t[k])).setDisplay("");
return !1;
}
return !0;
}
function o(t) {
t = t || s.getValue();
if (!(C in t && x in t)) return !1;
var e = t[C] < D, i = t[x].length > 15 ? t[x].substring(0, 12) + "..." : t[x];
g.setText((e ? B : N).replace("<file_name>", i));
p.setDisplay(e ? "" : "none");
$.setDisplay(e ? "none" : "");
b.setDisplay(e ? "none" : "");
return !e;
}
function a(t) {
t = t || s.getValue();
if (!(y in t && v in t)) return !1;
var e;
_ && $.empty();
e = T.test(t[v]) ? c : h;
_ = new e($);
_.setDataNode(s.$("attachment"));
}
var s, _, l = i(51), d = i(42), u = i(40), c = i(225), h = i(226), w = u.root.$$("livechat.ui.chat_window"), x = "file_name$string", v = "file_type$string", y = "file_url$string", j = "thumbnail_url$string", C = "s3_progress$int", A = "file_size$int", S = "msg$string", I = "status$string", k = "error$string", B = r(221), N = r(222), T = /image/i, E = /uploaded: (.+)\nURL: (.+)\nType: (.+)\nSize: (.+)(\nThumb: (.+))?/i, D = 100;
f.setDataNode = function(t) {
s && f.autounbind(s, "value", e);
s = t;
s && f.autobind(s, "value", e);
};
t();
}();
for (var x in w) w.hasOwnProperty(x) && (f[x] = w[x]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = a(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
width: "100%"
},
".progress_text": {
fontSize: "$$fontSizeS",
color: "$$chatLogSystemMsgColor",
fontStyle: "italic"
},
".progress_container": {
position: "relative",
height: "8px",
marginTop: "3px",
borderRadius: "5px",
background: "$$chatLogFileProgressBg",
overflow: "hidden",
".progress_bar": {
position: "absolute",
top: "0px",
left: "0px",
height: "100%"
}
},
".file_details_container": {
overflow: "hidden",
marginTop: "5px"
},
".file_status": {
marginTop: "5px",
textAlign: "center",
fontSize: "$$fontSizeS",
color: "$$chatLogSystemMsgColor",
"&.fail": {
color: "$$errorMessageColor"
}
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_ChatFile");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(22), i(14), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(e, i, n, r, a) {
if (!(this instanceof t)) return new t(e, i, n, r, a);
a || (a = {});
a.tagName = "p";
o.call(this, e, i, n, r, a);
}
var o = i(18);
t.prototype = e(o.prototype);
n(t, "jx_ui_html_p");
return t;
}();
}).call(e, i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__jx_ui_html_a = i(94);
e.__$$__jx_ui_html_div = i(120);
e.__$$__meshim_widget_widgets_IconFont = i(96);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = o(223), h = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_html_a, "a_full", "", [ [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_div, "file_image", "", [], {
id: "file_image",
"class": "file_image"
} ], [ e.__$$__jx_ui_html_div, "reload_container", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "picture",
"class": "reload_icon",
addClass: "icon"
} ], [ e.__$$__jx_ui_html_div, "", "", [ c ], {
"class": "reload_message"
} ] ], {
id: "reload_container",
"class": "reload_container",
display: "none"
} ] ], {
"class": "file_image_container image_file_border"
} ] ], {
id: "a_full",
"class": "anchor",
target: "_blank"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], f = h[0].call(this, a, s, null, n.mangleIDs(s, h[3]), h[4]), p = f || this;
n.set(s, p);
var g = n.get(s + "__a_full"), m = n.get(s + "__file_image"), $ = n.get(s + "__reload_container");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var b = function() {
function t(t) {
if (t && _ in t) {
t[_] = s.replaceFileHostname(t[_]);
g.setHref(t[_]);
a && (a.onload = a.onerror = a.onabort = e);
a = new window.Image();
a.onload = n;
a.onerror = o;
a.onabort = o;
a.src = t[_];
}
}
function e() {}
function n() {
m.setBackgroundImage(a.src);
$.setDisplay("none");
m.setOpacity(1);
}
function o() {
m.setDisplay("none");
$.setDisplay("");
}
var r, a, s = i(48), _ = "url$string";
p.setDataNode = function(e) {
r && p.autounbind(r, "value", t);
r = e;
r && p.autobind(r, "value", t);
};
}();
for (var w in b) b.hasOwnProperty(w) && (p[w] = b[w]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(u);
"function" == typeof p.addChildren ? p.addChildren(d) : n.addChildren(p, d);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = a(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
".anchor": {
textDecoration: "none"
},
".file_image_container": {
display: "table",
width: "120px",
height: "80px",
backgroundColor: "#FFFFFF",
borderCollapse: "separate",
borderRadius: "4px",
borderWidth: "1px",
borderStyle: "solid",
borderColor: "$$borderColor",
textAlign: "center",
overflow: "hidden",
".file_image": {
display: "table-cell",
width: "100%",
height: "100%",
backgroundPosition: "center",
backgroundSize: "cover",
opacity: "0",
transition: "opacity 0.5s"
},
".reload_container": {
display: "table-cell",
verticalAlign: "middle",
".reload_icon": {
fontSize: "24px"
},
".reload_message": {
fontSize: "$$fontSizeS",
color: "$$chatLogSystemMsgColor"
}
}
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_ImageFileRenderer");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__jx_ui_html_div = i(120);
e.__$$__jx_ui_html_a = i(94);
e.__$$__meshim_widget_widgets_IconFont = i(96);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_html_div, "icon_wrapper", "", [ [ e.__$$__jx_ui_html_a, "a_full", "", [ [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "paperclip",
"class": "generic_icon",
addClass: "icon"
} ] ], {
"class": "generic_icon_container generic_file_border"
} ] ], {
id: "a_full",
"class": "anchor",
target: "_blank"
} ] ], {
"class": "icon_wrapper",
id: "icon_wrapper"
} ], [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_a, "file_name", "", [], {
id: "file_name",
"class": "file_name",
target: "_blank"
} ], [ e.__$$__jx_ui_html_div, "file_size", "", [], {
id: "file_size",
"class": "file_size"
} ] ], {
"class": "file_info_container"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
var f = n.get(a + "__icon_wrapper"), p = n.get(a + "__a_full"), g = n.get(a + "__file_name"), m = n.get(a + "__file_size");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
o.rtl(f);
}
function e(t) {
if (t) {
if (s in t) {
t[s] = a.replaceFileHostname(t[s]);
p.setHref(t[s]);
g.setHref(t[s]);
}
_ in t && g.setText(t[_]);
l in t && m.setText(r.prettySize(t[l], {
base2: !0
}));
}
}
var n, o = i(95), r = i(51), a = i(48), s = "url$string", _ = "name$string", l = "size$int";
h.setDataNode = function(t) {
n && h.autounbind(n, "value", e);
n = t;
n && h.autobind(n, "value", e);
};
t();
}();
for (var b in $) $.hasOwnProperty(b) && (h[b] = $[b]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
display: "table",
width: "100%"
},
".icon_wrapper": {
display: "table-cell",
width: "1px",
"&.rtl": {
paddingLeft: "$$paddingL"
},
"&.ltr": {
paddingRight: "$$paddingL"
}
},
".anchor": {
textDecoration: "none"
},
".generic_icon_container": {
display: "table",
width: "44px",
height: "44px",
backgroundColor: "#FFFFFF",
borderCollapse: "separate",
borderRadius: "4px",
borderWidth: "1px",
borderStyle: "solid",
borderColor: "$$borderColor",
textAlign: "center",
".generic_icon": {
display: "table-cell",
paddingTop: "12px",
paddingLeft: "4px",
fontSize: "24px"
}
},
".file_info_container": {
display: "table-cell",
verticalAlign: "top",
padding: "0px",
".file_name": {
fontSize: "$$fontSizeS",
wordBreak: "break-all",
textDecoration: "none"
},
".file_size": {
marginTop: "2px",
fontSize: "$$fontSizeS"
}
}
};
a(t, "meshim_widget_widgets_chatLogRenderer_GenericFileRenderer");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_html_div = i(120);
e.__$$__meshim_widget_widgets_chatLogRenderer_ChatBubble = i(228);
t.exports = function() {
function t(r, a, s, _, l) {
if (!(this instanceof t)) return new t(r, a, s, _, l);
a = a || n.generateID();
var d = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_chatLogRenderer_ChatBubble, "bubble", "", [], {
id: "bubble",
addClass: "chat_bubble"
} ], [ e.__$$__jx_ui_html_div, "", "", [], {
"class": "clear_both"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:logRenderer": "meshim.widget.widgets.chatLogRenderer"
} ], u = d[0].call(this, r, a, null, n.mangleIDs(a, d[3]), d[4]), c = u || this;
n.set(a, c);
var h = n.get(a + "__bubble");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
c.setDataNode = function(t) {
h.setDataNode(t);
};
}
t();
}();
for (var p in f) f.hasOwnProperty(p) && (c[p] = f[p]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(s);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
".clear_both": {
clear: "both",
height: "0px",
overflow: "hidden",
lineHeight: "0px",
fontSize: "0px"
}
},
"**self.group_children": {
".chat_name": {
display: "none"
}
}
};
a(t, "meshim_widget_widgets_chatLogRenderer_BubbleLogRenderer");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__meshim_widget_widgets_chatLogRenderer_ArrowBubble = i(229);
e.__$$__meshim_widget_widgets_chatLogRenderer_BasicRenderer = i(215);
t.exports = function() {
function t(r, a, s, _, l) {
if (!(this instanceof t)) return new t(r, a, s, _, l);
a = a || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_chatLogRenderer_ArrowBubble, "", "", [ [ e.__$$__meshim_widget_widgets_chatLogRenderer_BasicRenderer, "content", "", [], {
id: "content",
"class": "content"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:logRenderer": "meshim.widget.widgets.chatLogRenderer",
addClass: "chat_bubble"
} ], u = d[0].call(this, r, a, null, n.mangleIDs(a, d[3]), d[4]), c = u || this;
n.set(a, c);
var h = n.get(a + "__content");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
c.setDataNode = e;
}
function e(t) {
n || h.setDataNode(t);
n && c.autounbind(n, "value", i);
n = t.$("nick$string");
c.autobind(n, "value", i);
}
function i(t) {
if (t) if (o.test(t)) {
c.setArrowPointing("left");
c.setFloat("left");
} else if (r.test(t)) {
c.setArrowPointing("right");
c.setFloat("right");
}
}
var n, o = /^agent/, r = /^visitor:/;
t();
}();
for (var p in f) f.hasOwnProperty(p) && (c[p] = f[p]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(s);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_chatLogRenderer_ArrowBubble.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_chatLogRenderer_ArrowBubble;
t.__jx__jcss = {
"**self": {
maxWidth: "90%",
clear: "both",
padding: "5px 10px",
margin: "0px 5px",
borderRadius: "4px",
".arrow_border": {},
".arrow_background": {},
".arrow_border": {
top: "auto !important",
bottom: "5px",
marginTop: "0px",
borderWidth: "6px"
},
".arrow_background": {
top: "auto !important",
bottom: "6px",
marginTop: "0px",
borderWidth: "5px"
},
".content": {
marginTop: "0px"
}
}
};
a(t, "meshim_widget_widgets_chatLogRenderer_ChatBubble");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_html_div = i(120);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_div, "$$defaultplacement$$", "", [], {
"class": "arrow_content",
container: "default",
position: "relative",
id: "$$defaultplacement$$"
} ], [ e.__$$__jx_ui_html_div, "", "", [], {
"class": "arrow arrow_border"
} ], [ e.__$$__jx_ui_html_div, "", "", [], {
"class": "arrow arrow_background"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
var f = n.get(a + "__$$defaultplacement$$");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
h.defaultPlacement = f;
var p = function() {
function t() {
h.setArrowPointing = function(t) {
h.removeClass("left").removeClass("right");
h.addClass(t);
};
e.rtl(h);
}
var e = i(95);
t();
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
position: "relative",
border: "1px solid #000000",
background: "#ffffff",
".arrow": {
position: "absolute",
border: "0px solid transparent",
height: 0,
width: 0,
fontSize: 0,
lineHeight: 0,
pointerEvents: "none"
},
".arrow_border": {
borderWidth: "8px",
marginTop: "8px"
},
".arrow_background": {
borderWidth: "7px",
marginTop: "9px"
},
"&.ltr.left, &.rtl.right": {
".arrow": {
right: "100%",
top: 0,
borderLeftColor: "transparent !important",
borderTopColor: "transparent !important",
borderBottomColor: "transparent !important"
}
},
"&.rtl.left, &.ltr.right": {
".arrow": {
left: "100%",
top: 0,
borderRightColor: "transparent !important",
borderTopColor: "transparent !important",
borderBottomColor: "transparent !important"
}
}
}
};
a(t, "meshim_widget_widgets_chatLogRenderer_ArrowBubble");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_html_table = i(103);
e.__$$__jx_ui_html_tbody = i(104);
e.__$$__jx_ui_html_tr = i(105);
e.__$$__jx_ui_html_td = i(106);
e.__$$__meshim_widget_widgets_Avatar = i(143);
e.__$$__meshim_widget_widgets_chatLogRenderer_BasicRenderer = i(215);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_html_table, "", "", [ [ e.__$$__jx_ui_html_tbody, "", "", [ [ e.__$$__jx_ui_html_tr, "", "", [ [ e.__$$__jx_ui_html_td, "", "", [ [ e.__$$__meshim_widget_widgets_Avatar, "avatar", "", [], {
id: "avatar",
addClass: "log_avatar",
hideAuthType: "true"
} ] ], {
"class": "avatar_cell"
} ], [ e.__$$__jx_ui_html_td, "", "", [ [ e.__$$__meshim_widget_widgets_chatLogRenderer_BasicRenderer, "content", "", [], {
id: "content",
addClass: "content"
} ] ], {} ] ], {} ] ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets",
"class": "basicAvatarRenderer"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
var f = n.get(a + "__avatar"), p = n.get(a + "__content");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
r.rtl(h);
h.setDataNode = e;
}
function e(t) {
o && h.autounbind(o, "value", n);
p.setDataNode(t);
o = t.$("nick$string");
h.autobind(o, "value", n);
}
function n(t) {
t && f.setMemberId(t);
}
var o, r = i(95);
t();
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_html_table.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_table;
t.__jx__jcss = {
"**self": {
position: "relative",
width: "100%",
tableLayout: "fixed",
borderSpacing: "0px",
borderCollapse: "collapse",
fontSize: "100%",
td: {
verticalAlign: "top",
padding: "0px"
},
".log_avatar": {
width: "24px",
height: "24px"
},
".avatar_cell": {
width: "24px"
},
".content": {
marginTop: "0px",
marginLeft: "8px"
}
},
"&.rtl": {
".content": {
marginLeft: "0px",
marginRight: "8px"
}
},
"**self.group_children": {
".log_avatar": {
display: "none"
},
".chat_name": {
display: "none"
}
}
};
a(t, "meshim_widget_widgets_chatLogRenderer_BasicAvatarRenderer");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_html_table = i(103);
e.__$$__jx_ui_html_tbody = i(104);
e.__$$__jx_ui_html_tr = i(105);
e.__$$__jx_ui_html_td = i(106);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_html_table, "", "", [ [ e.__$$__jx_ui_html_tbody, "", "", [ [ e.__$$__jx_ui_html_tr, "", "", [ [ e.__$$__jx_ui_html_td, "left_cell", "", [], {
id: "left_cell"
} ], [ e.__$$__jx_ui_html_td, "right_cell", "", [], {
id: "right_cell"
} ] ], {} ] ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
var f = n.get(a + "__left_cell"), p = n.get(a + "__right_cell");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
h.setDataNode = e;
}
function e(t) {
o && h.autounbind(o, "value", n);
r = t;
o = t.$("nick$string");
h.autobind(o, "value", n);
}
function n(t) {
if (t) {
f.empty();
p.empty();
f.removeClass("avatar_cell");
p.removeClass("avatar_cell");
if (_.test(t)) {
new a(f).setHideAuthType(!0).setMemberId(t).addClass("log_avatar");
new s(p).setDataNode(r);
f.addClass("avatar_cell");
} else {
new a(p).setHideAuthType(!0).setMemberId(t).addClass("log_avatar");
new s(f).setDataNode(r);
p.addClass("avatar_cell");
}
}
}
var o, r, a = i(143), s = i(228), _ = /^agent/;
t();
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_html_table.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_table;
t.__jx__jcss = {
"**self": {
position: "relative",
width: "100%",
fontSize: "100%",
tableLayout: "fixed",
borderSpacing: "0px",
borderCollapse: "collapse",
td: {
verticalAlign: "bottom",
padding: "0px"
},
".chat_bubble": {
display: "inline",
margin: "0 8px"
},
".log_avatar": {
width: "32px",
height: "32px"
},
".avatar_cell": {
width: "32px"
}
},
"**self.group_children": {
".chat_name": {
display: "none"
}
}
};
a(t, "meshim_widget_widgets_chatLogRenderer_BubbleAvatarRenderer");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__meshim_widget_widgets_chatLogRenderer_RatingPrompt = i(233);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_chatLogRenderer_RatingPrompt, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:chatLogRenderer": "meshim.widget.widgets.chatLogRenderer"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.setDataNode = e;
h.autobind(s, "value", n);
h.autobind(l, "value", n);
h.autobind(d, "value", n);
}
function e(t) {
var e = t.$("timestamp$int");
if (o !== e) {
o && h.autounbind(o, "value", n);
o = e;
o && h.autobind(o, "value", n);
}
}
function n() {
if (o) {
var t = s.getValue(), e = o.getValue(), i = l.getValue(), n = d.getValue();
t && i && n && n <= e ? h.setDisplay("") : h.setDisplay("none");
} else h.setDisplay("none");
}
var o, r = i(40), a = r.root.$("livechat"), s = a.$("settings").$("rating").$("enabled$bool"), _ = a.$("channel"), l = _.$("chatting$bool"), d = _.$("start$time");
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__meshim_widget_widgets_chatLogRenderer_RatingPrompt.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_chatLogRenderer_RatingPrompt;
t.__jx__jcss = {
"**self": {
fontSize: "$$fontSizeS",
color: "$$chatLogSystemMsgColor",
background: "$$chatLogSystemMsgBg",
borderWidth: "$$chatLogSystemMsgBorderWidth",
borderStyle: "$$chatLogSystemMsgBorderStyle",
borderColor: "$$chatLogSystemMsgBorderColor",
padding: "$$chatLogSystemMsgPadding",
textAlign: "center"
}
};
a(t, "meshim_widget_widgets_chatLogRenderer_RequestRatingPrompt");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__jx_ui_html_div = i(120);
e.__$$__meshim_widget_widgets_chatLogRenderer_Button = i(234);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = o(216), h = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_chatLogRenderer_Button, "rate_this_chat", "", [ c ], {
id: "rate_this_chat"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], f = h[0].call(this, a, s, null, n.mangleIDs(s, h[3]), h[4]), p = f || this;
n.set(s, p);
var g = n.get(s + "__rate_this_chat");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function e() {
t.last_instance && t.last_instance.destroy();
t.last_instance = p;
p.autobind(g, "click", n);
}
function n() {
r.update("rating_panel");
}
var o = i(40), r = o.root.$("livechat").$("ui").$("chat_window").$("main_stack_name$string");
e();
}();
for (var $ in m) m.hasOwnProperty($) && (p[$] = m[$]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(u);
"function" == typeof p.addChildren ? p.addChildren(d) : n.addChildren(p, d);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = a(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
marginTop: "5px",
marginBottom: "5px"
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_RatingPrompt");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__meshim_widget_widgets_Button = i(157);
t.exports = function() {
function t(r, a, s, _, l) {
if (!(this instanceof t)) return new t(r, a, s, _, l);
a = a || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_Button, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:widgets": "meshim.widget.widgets",
addClass: "secondary chat_log_button"
} ], u = d[0].call(this, r, a, null, n.mangleIDs(a, d[3]), d[4]), c = u || this;
n.set(a, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(s);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_Button.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Button;
t.__jx__jcss = {
"**self.chat_log_button": {
width: "auto",
maxWidth: "100%",
padding: "6px"
}
};
a(t, "meshim_widget_widgets_chatLogRenderer_Button");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__jx_ui_html_div = i(120);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = [ e.__$$__jx_ui_html_div, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], h = c[0].call(this, a, s, null, n.mangleIDs(s, c[3]), c[4]), f = h || this;
n.set(s, f);
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
f.setDataNode = e;
f.onDestruction(a);
r.onLanguage && r.onLanguage(o);
}
function e(t) {
s && f.autounbind(s, "value", n);
_ = t;
s = _.$("type$string");
f.autobind(s, "value", n);
}
function n(t) {
if (t && !l) {
switch (t) {
case "chat.memberjoin":
l = new u(f);
break;

case "chat.memberleave":
l = new u(f);
d = new m(f);
d.setDataNode(_);
break;

case "chat.changename":
l = new c(f);
break;

case "chat.rating":
l = new h(f);
break;

case "chat.comment":
l = new p(f);
break;

case "chat.event":
l = new g(f);
}
o();
}
}
function o() {
if (_) {
l && l.setDataNode(_);
d && d.setDataNode(_);
}
}
function a() {
r.unLanguage && r.unLanguage(o);
}
var s, _, l, d, u = i(236), c = i(237), h = i(238), p = i(239), g = i(240), m = i(241);
t();
}();
for (var g in p) p.hasOwnProperty(g) && (f[g] = p[g]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = a(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
fontSize: "$$fontSizeS",
color: "$$chatLogSystemMsgColor",
background: "$$chatLogSystemMsgBg",
borderWidth: "$$chatLogSystemMsgBorderWidth",
borderStyle: "$$chatLogSystemMsgBorderStyle",
borderColor: "$$chatLogSystemMsgBorderColor",
padding: "$$chatLogSystemMsgPadding",
textAlign: "center"
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_SystemLogRenderer");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(22), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_html_div = i(120);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_div, "log_message", "", [], {
id: "log_message"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
var f = n.get(a + "__log_message");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
h.setDataNode = e;
d.on("value", function(t) {
r = t;
});
}
function e(t) {
o && h.autounbind(o, "value", n);
o = t.$("display_name$string");
h.autobind(o, "value", n);
}
function n(t) {
var e = o.parentNode.getValue("nick$string") || "";
e = e.split(":")[0];
var i = o.parentNode.getValue("type$string");
if (e && t || "chat.memberleave" === i && "visitor" === e) {
h.parentNode.setDisplay("");
var n = o.parentNode.getValue("timestamp$int"), a = l[i] || "";
a = a.replace("<name>", t);
if ("visitor" == e) if ("chat.memberleave" != i) {
a = s.chat_log["chat.visitorjoin"];
h.parentNode.addClass("visitor_join");
} else {
a = s.chat_log["chat.visitorleave"];
h.parentNode.addClass("visitor_leave");
}
"agent" == e && "chat.memberjoin" == i && r && n > r && _.trackEvent("Served by Operator", t);
f.setText(a);
} else h.parentNode.setDisplay("none");
}
var o, r, a = i(40), s = i(97), _ = i(175), l = s.chat_log, d = a.root.$$("connection.reattached_timestamp$int");
t();
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {};
a(t, "meshim_widget_widgets_chatLogRenderer_MemberChange");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_html_div = i(120);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_html_div, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:mui": "meshim.ui"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.setDataNode = e;
}
function e(t) {
o && h.autounbind(o, "value", n);
o = t;
o && h.autobind(o, "value", n);
}
function n() {
var t = o.getValue();
if (t) {
var e = t.display_name$string, i = t.new_display_name$string, n = "";
e && i && (n = a.replace("<old_name>", e).replace("<new_name>", i));
h.parentNode.setDisplay(n ? "" : "none");
h.setText(n);
}
}
var o, r = i(97), a = r.chat_log["chat.changename"];
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {};
a(t, "meshim_widget_widgets_chatLogRenderer_NameChange");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__jx_ui_html_div = i(120);
e.__$$__meshim_widget_widgets_chatLogRenderer_Button = i(234);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = o(215), h = [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__jx_ui_html_div, "rating_msg", "", [], {
id: "rating_msg"
} ], [ e.__$$__meshim_widget_widgets_chatLogRenderer_Button, "leave_a_comment", "", [ c ], {
id: "leave_a_comment",
addClass: "leave_a_comment"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:widgets": "meshim.widget.widgets"
} ], f = h[0].call(this, a, s, null, n.mangleIDs(s, h[3]), h[4]), p = f || this;
n.set(s, p);
var g = n.get(s + "__rating_msg"), m = n.get(s + "__leave_a_comment");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function e() {
p.setDataNode = s;
p.disableLeaveComment = a;
p.autobind($, "value", o);
p.autobind(b, "value", r);
p.autobind(w, "value", r);
p.autobind(x, "value", r);
t.last_instance && t.last_instance.disableLeaveComment();
t.last_instance = p;
m.on("click", n);
}
function n() {
v.update("rating_panel");
}
function o() {
var t = $.getValue();
p.setDisplay(t ? "" : "none");
}
function r() {
if (m && d) {
var t = b.getValue(), e = w.getValue(), i = d.getValue("timestamp$int"), n = e && i > t, o = x.getValue(), r = o && i <= o;
n && !r || a();
}
}
function a() {
if (m) {
p.autounbind(x, "value", r);
m.un("click", n);
m.destroy();
m = null;
}
}
function s(t) {
if (d !== t) {
d && p.autounbind(d, "value", _);
d = t;
t && p.autobind(d, "value", _);
}
}
function _() {
var t = d.getValue();
if (t) {
var e = t.new_rating$string;
g.setText(l(e));
r();
}
}
function l(t) {
return t ? h[t] : h.cancel;
}
var d, u = i(97), c = i(40), h = u.chat_log["chat.rating"], f = c.root.$("livechat"), $ = f.$("settings").$("rating").$("enabled$bool"), b = f.$("channel").$("start$time"), w = f.$("channel").$("chatting$bool"), x = f.$("channel").$("last_comment_ts$int"), v = f.$("ui").$("chat_window").$("main_stack_name$string");
e();
}();
for (var b in $) $.hasOwnProperty(b) && (p[b] = $[b]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(u);
"function" == typeof p.addChildren ? p.addChildren(d) : n.addChildren(p, d);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = a(e.__$$__jx_ui_html_div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_div;
t.__jx__jcss = {
"**self": {
padding: "0px 10px",
".leave_a_comment": {
margin: "5px 0px"
}
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_Rating");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__div = i(212);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__div, "", "", [], {} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.setText(r);
h.autobind(s, "value", e);
}
function e() {
s.getValue() ? h.setDisplay("") : h.setDisplay("none");
}
var n = i(97), o = i(40), r = n.chat_log["chat.comment"], a = o.root.$("livechat"), s = a.$("settings").$("rating").$("enabled$bool");
h.setDataNode = function() {};
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__div.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__div;
t.__jx__jcss = {};
a(t, "meshim_widget_widgets_chatLogRenderer_Comment");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t(t) {
if (t && "msg$string" in t) {
var e = t.msg$string, i = e.match(/There are currently ([0-9]+) visitor/);
i && (e = o.system_msg.queue.replace("<number>", i[1]));
h.setText(e || "");
}
}
function e() {}
var n, o = i(97);
h.setDataNode = function(e) {
if (e != n) {
n && h.autounbind(n, "value", t);
n = e;
n && h.autobind(n, "value", t);
}
};
e();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {};
a(t, "meshim_widget_widgets_chatLogRenderer_GenericSystemMsg");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__meshim_widget_widgets_chatLogRenderer_RatingPrompt = i(233);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_chatLogRenderer_RatingPrompt, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:chatLogRenderer": "meshim.widget.widgets.chatLogRenderer"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.setDataNode = e;
h.autobind(s, "value", n);
h.autobind(u, "value", n);
h.autobind(l, "value", n);
h.autobind(d, "value", n);
}
function e(t) {
var e = t.$("timestamp$int");
if (o !== e) {
o && h.autounbind(o, "value", n);
o = e;
o && h.autobind(o, "value", n);
}
}
function n() {
if (o) {
var t = s.getValue(), e = o.getValue(), i = d.getValue(), n = c.getValue(), r = l.getValue() && i && i <= e;
t && r && n === e && !u.getValue() ? h.setDisplay("") : h.setDisplay("none");
} else h.setDisplay("none");
}
var o, r = i(40), a = r.root.$("livechat"), s = a.$("settings").$("rating").$("enabled$bool"), _ = a.$("channel"), l = _.$("chatting$bool"), d = _.$("start$time"), u = _.$("rating$string"), c = _.$("last_agent_leave_ts$int");
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__meshim_widget_widgets_chatLogRenderer_RatingPrompt.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_chatLogRenderer_RatingPrompt;
t.__jx__jcss = {};
a(t, "meshim_widget_widgets_chatLogRenderer_MemberLeaveRatingPrompt");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_chatLogRenderer_SystemLogRenderer = i(235);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = [ e.__$$__meshim_widget_widgets_chatLogRenderer_SystemLogRenderer, "", "", [], {
"xmlns:widgets": "meshim.widget.widgets"
} ], h = c[0].call(this, a, s, null, n.mangleIDs(s, c[3]), c[4]), f = h || this;
n.set(s, f);
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
f.autobind(s.$("num_typing_agents$int"), "value", e);
if (r && r.onLanguage) {
r.onLanguage(e);
f.onDestruction(function() {
r.unLanguage(e);
});
}
}
function e() {
var t = s.$("num_typing_agents$int").getValue();
if (t >= 1) {
f.setText((1 == t ? o.chat_panel.name_is_typing : o.chat_panel.agents_are_typing).replace("<name>", s.$("agent_names$string").getValue()));
f.setDisplay("");
} else f.setDisplay("none");
}
var n = i(40), o = i(97), a = n.root.$("livechat"), s = a.$("ui").$("chat_window").$("typing_info");
t();
}();
for (var g in p) p.hasOwnProperty(g) && (f[g] = p[g]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_chatLogRenderer_SystemLogRenderer.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_chatLogRenderer_SystemLogRenderer;
t.__jx__jcss = {
"**self": {
width: "100%"
}
};
s(t, "meshim_widget_widgets_chatLogRenderer_TypingRenderer");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(22), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s, _, l, d) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_widgets_FakeInput = i(142);
e.__$$__meshim_widget_widgets_Button = i(157);
e.__$$__meshim_widget_widgets_AutoResizeTextArea = i(244);
e.__$$__meshim_widget_widgets_IconFont = i(96);
e.__$$__meshim_widget_widgets_EmoticonPicker = i(245);
e.__$$__jx_ui_Label = i(101);
e.__$$__jx_ui_Frame = i(247);
t.exports = function() {
function t(l, d, c, h, f) {
if (!(this instanceof t)) return new t(l, d, c, h, f);
d = d || n.generateID();
var p = o(150), g = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_FakeInput, "fake_input", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "send", "", [], {
id: "send",
addClass: "send primary fit"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_AutoResizeTextArea, "textarea", "", [], {
id: "textarea",
addClass: "textarea unstyled"
} ] ], {
addClass: "textarea_wrapper"
} ] ], {
addClass: "float_wrapper"
} ], [ e.__$$__meshim_widget_widgets_IconFont, "toggle_picker", "", [], {
id: "toggle_picker",
addClass: "toggle_picker",
icon: "smiley",
tabIndex: "0",
tagName: "button"
} ], [ e.__$$__meshim_widget_widgets_EmoticonPicker, "picker", "", [], {
id: "picker",
addClass: "picker"
} ], [ e.__$$__jx_ui_Label, "", "", [ [ e.__$$__jx_ui_Frame, "", "", [ p ], {} ] ], {
addClass: "drop_label",
tabIndex: "0"
} ] ], {
id: "fake_input",
addClass: "fake_input"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], m = g[0].call(this, l, d, null, n.mangleIDs(d, g[3]), g[4]), $ = m || this;
n.set(d, $);
var b = n.get(d + "__fake_input"), w = n.get(d + "__send"), x = n.get(d + "__textarea"), v = n.get(d + "__toggle_picker"), y = n.get(d + "__picker");
if (!t.__jx__jcss_generated) {
r.generate(l, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var j = function() {
function t(t) {
function e() {
$.dom && (I || $.removeClass("dragover"));
}
t.stopPropagation();
t.preventDefault();
if (n()) if (a.isWebKit) if ("dragover" == t.type) {
I = !0;
k && window.clearTimeout(k);
$.addClass("dragover");
} else {
I = !1;
k = window.setTimeout(e, 200);
} else "dragover" == t.type ? $.addClass("dragover") : $.removeClass("dragover");
}
function e(e, i) {
if (n()) {
t(e);
var r;
if (i) {
r = e && e.dataTransfer && e.dataTransfer.files;
if (!r || !r.length) return;
P.reconnectIfServerRetired(function() {
o(r);
});
}
}
}
function n() {
return S && !$.getDisabled();
}
function o(t) {
if (S && window.FormData) {
var e = new window.FormData(), i = [], n = [], o = 0, r = P.getHost();
if (r) {
for (var a = 0, s = t.length; a < s; a++) {
if (!E.isValidType(t[a].name, A)) {
it.update("type");
return;
}
i.push(t[a].name);
n.push(t[a].type);
o += t[a].size || 0;
e.append("file_" + t[a].name, t[a]);
}
if (o > T.FILE_UPLOAD_MAX) it.update("size"); else {
i = i.join(", ");
n = n.join(", ");
var _ = L.livechat.sendFile({
file_name: i,
file_type: n,
file_size: o
}), l = new window.XMLHttpRequest(), d = {
ts: _
};
B = "https://" + r + T.FILE_UPLOAD_PATH + "?" + D.buildQuery(d);
if (l.upload) {
l.open("POST", B, !0);
l.setRequestHeader("X-Zopim-MID", tt.getValue());
l.setRequestHeader("X-Zopim-UID", et.getValue());
l.send(e);
R.increment("file_upload");
}
}
}
}
}
function r() {
N = !0;
X.write({
typing$bool: N
});
W.setUserChoice(!0);
}
function l() {
N = !1;
X.write({
typing$bool: N
});
}
function d() {
w.setText(M.chat_panel.sendbutton_text);
x.setPlaceholder(M.chat_panel.chattextarea_placeholder);
j = Q.getValue();
C = J.getValue();
F.mobile($);
F.rtl($);
x.setDataNode(Y);
y.setDataNode(U, q);
x.on("focus", function() {
g();
p();
b.addClass("focus");
Z.update(!0);
});
x.on("blur", function() {
b.removeClass("focus");
Z.update(!1);
});
$.autobind(K, "value", function() {
s(function() {
$.dom && x.updateStyles();
});
});
$.autobind(Y, "value", function(t) {
t && "overflow$bool" in t && (t.overflow$bool ? $.addClass("overflow") : $.removeClass("overflow"));
});
var i = 12e4, n = 0;
$.autobind(Y.$("value$string"), "value", function(t) {
if (t) {
N || r();
window.clearTimeout(n);
n = window.setTimeout(l, i);
} else if (N) {
window.clearTimeout(n);
l();
}
});
$.autobind(U, "value", function(t) {
t ? v.addClass("active") : v.removeClass("active");
m = t;
});
$.autobind(G, "value", function(t) {
v.setDisplay(t ? "" : "none");
t ? $.addClass("emoticons_enabled") : $.removeClass("emoticons_enabled");
});
$.autobind(q, "value", function(t) {
t && x.insertAtCaret(t);
});
y.on("click", function() {
$.focus();
});
v.on("click", function(t) {
t.stopPropagation();
U.update(!m);
$.focus();
});
for (var o = $; o && o.parentNode && "body" != o.parentNode.tagName.toLowerCase(); ) o = o.parentNode;
o && o.on("click", f);
j && _.window.on("click", f);
$.onDestruction(function() {
o && o.un("click", f);
j && _.window.un("click", f);
});
$.autobind(nt, "value", u);
$.autobind(rt, "value", u);
$.autobind(st, "value", u);
$.autobind(at, "value", c);
if (window.File && window.FileList && window.FileReader) {
$.on("dragover", t);
$.on("dragleave", t);
$.on("drop", function(t) {
e(t, !0);
});
}
x.on("keydown", function(t) {
if (13 == t.keyCode && !t.shiftKey && !t.ctrlKey && !t.altKey) {
t.preventDefault();
h();
}
});
w.on("click", function() {
g();
p();
h();
});
$.autobind(_t, "value", function(t) {
$.setDisabled("idle_disconnect" === t);
});
}
function u() {
var t = nt.getValue(), e = rt.getValue(), i = st.getValue("color_customization_enabled$int") || st.getValue("widget_customization_enabled$int");
S = !!i && (!t || e !== !1);
}
function c() {
var t = at.getValue() || "";
A = t.trim().replace(/\s*,\s*/g, ",").split(",");
}
function h() {
var t = x.getValue().trim();
if (t) {
L.livechat.sendChatMsg({
msg: t
});
x.setValue("");
}
}
function f(t) {
for (var e = t.target.jx_wrapper; e && e.parentNode && e.parentNode != $; ) {
if (e == y) return;
e = e.parentNode;
}
U.update(!1);
}
function p() {
L.root.$("livechat").$("ui").$("chat_window").update({
menu_stack_name$string: ""
});
}
function g() {
O.resetUnreadCount();
}
var m, j, C, A, S, I, k, B, N, T = i(42), E = i(51), D = i(28), O = i(85), P = i(58), L = i(40), W = i(198), R = i(59), F = i(95), M = i(97), V = L.root, H = V.$("livechat"), z = H.$("ui").$("chat_window").$("chat_panel"), U = z.$("emoticon_picker").$("display$bool"), q = z.$("emoticon_picker").$("value$string"), G = H.$("settings").$("emoticons").$("enabled$bool"), Y = z.$("textarea"), X = H.$("channel").$("typing"), K = H.$("ui").$("theme_loaded$bool"), Z = H.$("ui").$("hide_branding$bool"), Q = H.$("ui").$("popout$bool"), J = H.$("ui").$("mockup$bool"), tt = H.$("profile").$("mid$string"), et = H.$("profile").$("uid$string"), it = H.$("ui").$("chat_window").$("chat_panel").$("file_toast").$("error$string"), nt = H.$("features").$("file_sending_settings$bool"), ot = H.$("settings").$("file_sending"), rt = ot.$("enabled$bool"), at = ot.$("allowed_extensions$string"), st = H.$("settings").$("package"), _t = V.$("connection").$("status$string");
$.focus = function() {
if (!C) {
x.updateHeight();
x.focus();
}
};
$.blur = function() {
x.updateHeight();
x.blur();
};
$.updateStyles = function() {
x.updateStyles();
};
d();
}();
for (var C in j) j.hasOwnProperty(C) && ($[C] = j[C]);
$.fire && $.fire("init");
$.setStyle && $.setStyle(c);
$.setAttributes && $.setAttributes(f);
"function" == typeof $.addChildren ? $.addChildren(h) : n.addChildren($, h);
if ($ !== this) {
$.__jx__constructor = u;
$.__jx__native = !1;
}
return $;
}
var u;
t.prototype = l(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative",
width: "100%",
padding: "10px",
height: "auto",
"*zoom": 1,
padding: "$$chatTextAreaPadding",
borderWidth: "$$chatTextAreaBorderWidth",
borderStyle: "$$chatTextAreaBorderStyle",
borderColor: "$$chatTextAreaBorderColor",
"&.emoticons_enabled.overflow": {
".toggle_picker": {}
},
"&.emoticons_enabled": {
".textarea": {}
},
"&.dragover": {
".fake_input": {
boxShadow: "none",
border: "none"
},
".drop_label": {
display: "block"
}
},
"&.disabled": {
opacity: "0.5"
}
},
".fake_input": {
position: "relative",
overflow: "visible",
"*zoom": 1,
padding: 0,
color: "$$chatTextAreaInputColor",
background: "$$chatTextAreaInputBg",
borderWidth: "$$chatTextAreaInputBorderWidth",
borderStyle: "$$chatTextAreaInputBorderStyle",
borderColor: "$$chatTextAreaInputBorderColor",
borderRadius: "$$chatTextAreaInputRadius",
boxShadow: "$$chatTextAreaInputShadow"
},
".fake_input.focus": {
color: "$$chatTextAreaInputFocusColor",
background: "$$chatTextAreaInputFocusBg",
borderColor: "$$chatTextAreaInputFocusBorderColor",
boxShadow: "$$chatTextAreaInputFocusShadow"
},
".drop_label, .file_input": {
display: "none",
position: "absolute",
"top, left": 0,
"width, height": "100%"
},
".drop_label": {
textAlign: "center",
color: "$$chatTextAreaDropColor",
background: "$$chatTextAreaDropBg",
borderWidth: "$$chatTextAreaDropBorderWidth",
borderStyle: "$$chatTextAreaDropBorderStyle",
borderColor: "$$chatTextAreaDropBorderColor",
".container": {
border: "none",
background: "transparent"
}
},
".file_input": {
opacity: 0
},
".toggle_picker": {
position: "absolute",
"top, right": 0,
cursor: "pointer",
fontSize: "18px",
lineHeight: "24px",
"&:hover": {},
"&:focus": {
outline: "none"
}
},
".picker": {
position: "absolute",
bottom: "100%"
},
".textarea": {
display: "block",
"width, height": "100%",
resize: "none",
transition: "height 0.1s ease-in-out",
fontSize: "$$chatTextAreaInputFontSize",
minHeight: "$$chatTextAreaInputMinHeight",
maxHeight: "$$chatTextAreaInputMaxHeight",
padding: "$$chatTextAreaInputPadding",
lineHeight: "$$chatTextAreaInputLineHeight"
},
".send": {
display: "none"
},
".float_wrapper": {
overflow: "hidden"
},
".textarea_wrapper": {
display: "block",
overflow: "hidden"
},
"&.mobile": {
position: "fixed",
zIndex: "1000",
padding: 0,
".fake_input": {},
".textarea": {
padding: "10px"
},
".send": {
display: "block",
"float": "right",
margin: "$$chatTextAreaSubmitMargin",
padding: "$$chatTextAreaSubmitPadding"
},
".toggle_picker": {
display: "none"
}
},
"&.rtl.mobile": {
".send": {
"float": "left"
}
}
};
d(t, "meshim_widget_components_chatWindow_chatPanel_ChatTextArea");
u = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(7), i(12), i(6), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
t.exports = function() {
function t(i, r, a, _, l) {
if (!(this instanceof t)) return new t(i, r, a, _, l);
this.$node;
if (!t.__jx__jcss_generated) {
e.generate(this, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
this.minHeight = 0;
this.maxHeight = window.Infinity;
this.vBoxOffset = 0;
this.hBoxOffset = 0;
l || (l = {});
l.overflow || (l.overflow = "hidden");
l.overflowY || (l.overflowY = "hidden");
s.call(this, i, r, a, _, l);
this.style.wordWrap = "break-word";
this.style.resize = "none";
this.compatMode = n.bugs.noBoxSizing && "CSS1Compat" != this.doc.compatMode && this.doc != document;
if (!this.compatMode) {
this.fakeTextArea = new s(this.doc.body, null, null, null, {
className: this.getClassName(),
tabIndex: "-1"
});
try {
this.fakeTextArea.setStyle("position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; word-wrap:break-word; height:0 !important; overflow:hidden; min-height:0 !important; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box;");
} catch (d) {}
this.onDestruction(function() {
this.fakeTextArea.destroy();
});
}
var u = this;
o(function() {
u.dom && u.updateStyles();
});
this._updateValueNode = function() {
this.updateValueNode();
};
this._readValueNode = function(t) {
u.readValueNode(t);
};
this.on("input", this._updateValueNode);
this.on("change", this._updateValueNode);
this.on("keyup", this._updateValueNode);
this._updateHeight = function() {
this.updateHeight();
};
if ("onpropertychange" in this.dom) if ("oninput" in this.dom) {
this.on("input", this._updateHeight);
this.on("keyup", this._updateHeight);
} else this.on("propertychange", this._updateHeight); else this.on("input", this._updateHeight);
}
var s = i(170);
t.__jx__jcss = {
"**self": {}
};
t.prototype = r(s.prototype);
t.prototype.__jx__super = s;
t.prototype.updateValueNode = function() {
if (this.$node) {
this._updatingValueNode = !0;
this.$node.$("value$string").update(this.getValue());
this._updatingValueNode = !1;
}
};
t.prototype.readValueNode = function(t) {
this.$node && (this._updatingValueNode || null != t && this.setValue(t));
};
t.prototype.updateHeight = function() {
if ((this.compatMode || this.fakeTextArea) && !this.active) {
var t, e, i;
this.active = !0;
if (this.compatMode) {
this.style.height = 0;
t = this.dom.offsetHeight - this.vBoxOffset;
} else {
this.fakeTextArea.setValue(this.getValue());
this.fakeTextArea.style.overflowY = this.style.overflowY;
i = parseInt(this.style.height, 10);
this.fakeTextArea.style.width = Math.max(Math.max(this.dom.offsetWidth, 0) - this.hBoxOffset, 0) + "px";
this.fakeTextArea.dom.scrollTop = 0;
this.fakeTextArea.dom.scrollTop = 9e4;
t = this.fakeTextArea.dom.scrollTop;
}
var n = this.maxHeight - this.vBoxOffset, r = this.minHeight - this.vBoxOffset;
if (t > n) {
t = n;
e = "scroll";
} else t < r && (t = r);
t += this.vBoxOffset;
t = Math.max(t, 0);
this.style.overflowY = e || "hidden";
this.style.height = t + "px";
this.$node && this.$node.update({
height$int: t,
overflow$bool: !!e
});
var a = this;
o(function() {
a.active = !1;
});
}
};
var _ = [ "Top", "Bottom" ], l = [ "Left", "Right" ];
t.prototype.updateBoxOffset = function() {
var t = this.getComputedStyle();
if (t) {
this.vBoxOffset = 0;
this.hBoxOffset = 0;
var e;
if ("border-box" === t.boxSizing || "border-box" === t.MozBoxSizing || "border-box" === t.webkitBoxSizing || n.isIE <= 7 && "CSS1Compat" != this.doc.compatMode) {
for (e = 0; e < 2; e++) this.vBoxOffset += (parseInt(t["padding" + _[e]], 10) || 0) + (parseInt(t["border" + _[e] + "Width"], 10) || 0);
for (e = 0; e < 2; e++) this.hBoxOffset += (parseInt(t["padding" + l[e]], 10) || 0) + (parseInt(t["border" + l[e] + "Width"], 10) || 0);
}
return this;
}
};
t.prototype.setDataNode = function(t) {
this.$node && this.autounbind(this.$node.$("value$string"), "value", this._readValueNode);
this.$node = t;
if (this.$node) {
this.autobind(this.$node.$("value$string"), "value", this._readValueNode);
this.updateValueNode();
this.updateHeight();
}
return this;
};
t.prototype.setValue = function(t) {
s.prototype.setValue.call(this, t);
this.updateValueNode();
this.updateHeight();
return this;
};
t.prototype.updateMinMaxHeight = function() {
var t = this.getComputedStyle();
if (t) {
this.minHeight = parseInt(t.minHeight, 10);
this.maxHeight = parseInt(t.maxHeight, 10);
if (!this.minHeight && isNaN(this.maxHeight)) {
this.style.height = "";
this.minHeight = this.maxHeight = this.dom.offsetHeight;
}
isNaN(this.maxHeight) && (this.maxHeight = this.minHeight);
this.$node && this.$node.update({
min_height$string: this.minHeight,
max_height$string: this.maxHeight
});
return this;
}
};
t.prototype.updateClonedStyles = function() {
if (this.fakeTextArea) {
var t = [ "fontFamily", "fontSize", "fontWeight", "letterSpacing", "textTransform", "wordSpacing", "textIndent" ];
this.fakeTextArea.style.lineHeight = "99px";
"99px" === this.fakeTextArea.style.lineHeight && t.push("lineHeight");
this.fakeTextArea.style.lineHeight = "";
var e = this.getComputedStyle();
if (e) for (var i = 0, n = t.length; i < n; i++) this.fakeTextArea.style[t[i]] = e[t[i]];
}
};
t.prototype.updateStyles = function() {
n.isIE8 && (this.style.minHeight = "");
this.updateMinMaxHeight();
this.updateClonedStyles();
this.updateBoxOffset();
n.isIE8 && (this.style.minHeight = this.minHeight - this.vBoxOffset + "px");
this.updateHeight();
var t = this;
n.isIE8 && o(function() {
t.updateHeight();
});
return this;
};
a(t, "meshim_widget_widgets_AutoResizeTextArea");
return t;
}();
}).call(e, i(30), i(7), i(12), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:components": "meshim.widget.components"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t(t) {
h.setDisplay(t ? "" : "none");
}
function e() {
var t, e = 0;
for (var i in s) if (s.hasOwnProperty(i)) {
t = new r(h, null, null, null, {
className: "meshim_widget_widgets_Emoticon " + i,
title: i,
value: s[i],
tabIndex: 0
});
t.setAttribute("data-index", e);
l.push(t);
++e % _ == 0 && new a(h, null, null, null, {
tagName: "br"
});
}
h.on("click", function(t) {
var e = t.target.jx_wrapper;
if (e != h) {
for (;e.parentNode !== h; ) e = e.parentNode;
var i = e.getValue();
if (i) {
o && o.update(e.getValue());
n && n.update(!1);
}
}
});
h.on("keydown", function(t) {
var e;
t.target.jx_wrapper;
switch (t.keyCode) {
case 13:
e = t.target.jx_wrapper.getValue();
if (e) {
o && o.update(t.target.jx_wrapper.getValue());
n && n.update(!1);
}
break;

case 27:
n && n.update(!1);
break;

case 9:
return;

case 38:
e = l[parseInt(t.target.jx_wrapper.getAttribute("data-index"), 10) - _];
e && e.focus();
break;

case 40:
e = l[parseInt(t.target.jx_wrapper.getAttribute("data-index"), 10) + _];
e && e.focus();
break;

case 37:
e = l[parseInt(t.target.jx_wrapper.getAttribute("data-index"), 10) - 1];
e && e.focus();
break;

case 39:
e = l[parseInt(t.target.jx_wrapper.getAttribute("data-index"), 10) + 1];
e && e.focus();
break;

default:
return;
}
t.preventDefault();
});
}
var n, o, r = i(246), a = i(17), s = {
ambivalent: ":|",
angry: ":(",
blush: ":?",
confused: ":?",
crazy: ":?",
crying: ":?",
frown: ":?",
gasp: ":?"
}, _ = 6, l = [];
h.setDataNode = function(e, i) {
n && h.autounbind(n, "value", t);
n = e;
o = i;
n && h.autobind(n, "value", t);
};
e();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
".meshim_widget_widgets_Emoticon": {
"&:focus": {
outline: "none"
}
}
};
a(t, "meshim_widget_widgets_EmoticonPicker");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(e, i, n, r, a) {
if (!(this instanceof t)) return new t(e, i, n, r, a);
o.call(this, e, i, n, r, a);
this.on("focus", function() {
this.addClass("focus");
});
this.on("blur", function() {
this.removeClass("focus");
});
}
var o = i(17);
t.prototype = e(o.prototype);
n(t, "meshim_widget_widgets_Emoticon");
return t;
}();
}).call(e, i(14), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t(e, i, n, o, _) {
if (!(this instanceof t)) return new t(e, i, n, o, _);
_ || (_ = {});
this.iframe_quirks = e.ownerDocument != document;
this.container = new r(e, null, null, null, {});
this.container.addClass("container");
var l = this;
this.container.destroy = function() {
l.destroy();
};
this.container.empty = function() {
l.empty();
};
this.container_middle = new r(this.container, null, null, null, {});
this.container_middle.addClass("container_middle");
r.call(this, this.container_middle, i, n, o, _);
this.useDisplay = !0;
if (s) {
this.container.setStyle("position", "relative");
this.container_middle.setStyle("position", "absolute");
this.setStyle("position", "relative");
(a || this.iframe_quirks) && this.container_middle.setStyle("width", "100%").setStyle("left", 0);
} else {
_.visible || this.container.setStyle("display", "table");
this.container_middle.setStyle("display", "table-cell").setStyle("width", "100%");
this.setStyle("display", "table");
}
this.container.setStyle("overflow", "hidden").setStyle("width", "100%").setStyle("height", "100%");
_.hAlign || this.setHAlign();
_.vAlign || this.setVAlign();
}
var r = i(17), a = e.isQuirks, s = e.bugs.noBoxSizing, _ = s ? "block" : "table";
t.prototype = n(r.prototype);
t.prototype.show = function() {
if (this.container && this.container.dom.style.display != _) {
this.container.setVisible(_);
this.fire("show");
}
return this;
};
t.prototype.hide = function() {
if (this.container && "none" != this.container.dom.style.display) {
this.container.setVisible("none");
this.fire("hide");
}
return this;
};
t.prototype.isVisible = function() {
return this.container && this.container.dom.style.display == _;
};
t.prototype.setZIndex = function(t) {
this.container && this.container.setZIndex(t);
return this;
};
t.prototype.destroy = function() {
r.prototype.destroy.call(this);
if (this.container) {
r.prototype.empty.call(this.container);
this.container.empty = null;
r.prototype.destroy.call(this.container);
this.container = this.container_middle = null;
}
};
t.prototype.getHAlign = function() {
return this.hAlign;
};
t.prototype.setHAlign = function(t) {
switch (t) {
case "left":
a || this.iframe_quirks ? this.container_middle.setStyle("text-align", "left") : s ? this.setStyle("margin-left", "0").setStyle("margin-right", "auto") : this.container_middle.setStyle("left", "0%").setStyle("right", "");
this.hAlign = t;
break;

case "right":
a || this.iframe_quirks ? this.container_middle.setStyle("text-align", "right") : s ? this.setStyle("margin-left", "auto").setStyle("margin-right", "0") : this.container_middle.setStyle("left", "").setStyle("right", "0%");
this.hAlign = t;
break;

default:
a || this.iframe_quirks ? this.container_middle.setStyle("text-align", "center") : s && this.container_middle.setStyle("left", "").setStyle("right", "");
this.setStyle("margin-left", "auto").setStyle("margin-right", "auto");
this.hAlign = "center";
}
};
t.prototype.getVAlign = function() {
return this.vAlign;
};
t.prototype.setVAlign = function(t) {
switch (t) {
case "top":
if (s) {
this.container_middle.setStyle("top", "0%").setStyle("bottom", "");
this.setStyle("top", "");
} else this.container_middle.setStyle("vertical-align", "top");
this.vAlign = t;
break;

case "bottom":
if (s) {
this.container_middle.setStyle("top", "").setStyle("bottom", "0%");
this.setStyle("top", "");
} else this.container_middle.setStyle("vertical-align", "bottom");
this.vAlign = t;
break;

default:
if (s) {
this.container_middle.setStyle("top", "50%").setStyle("bottom", "");
this.setStyle("top", "-50%");
} else this.container_middle.setStyle("vertical-align", "middle");
this.vAlign = "middle";
}
return this;
};
t.prototype.getAlign = function() {
return this.hAlign + " " + this.vAlign;
};
t.prototype.setAlign = function(t) {
if ("string" == typeof t) {
t = t.replace(/^\s*|\s*$/, "").replace(/\s+/g, " ").split(" ");
this.setHAlign(t[0]);
this.setVAlign(t[1]);
}
};
o(t, "jx_ui_Frame");
return t;
}();
}).call(e, i(7), i(14), i(4));
}, function(t, e, i) {
(function(e, i) {
t.exports = function() {
function t() {
if (!e.isWebKit || e.isChrome) return !1;
var t = document.activeElement;
return t && "select" === t.tagName.toLowerCase();
}
function n() {
if (e.isIE && document.documentMode && !(e.isStrict && document.documentMode > 7)) for (var t = document.getElementsByTagName("select"), i = t.length; i--; ) {
var n = t[i].style, o = n.display;
n.display = "none";
n.display = o;
}
}
function o() {
n();
}
var r = {
testSafariFocusBug: t,
ieQuirksModeFix: o
};
i(r, "meshim_widget_utils_BrowserQuirks");
return r;
}();
}).call(e, i(7), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(90);
e.__$$__meshim_widget_widgets_ViewStack = i(87);
e.__$$__meshim_widget_components_chatWindow_postChatForm_RatingForm = i(250);
e.__$$__meshim_widget_components_chatWindow_postChatForm_CommentsForm = i(253);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__meshim_widget_widgets_ViewStack, "vs", "", [ [ e.__$$__meshim_widget_components_chatWindow_postChatForm_RatingForm, "", "", [], {} ], [ e.__$$__meshim_widget_components_chatWindow_postChatForm_CommentsForm, "", "", [], {} ] ], {
id: "vs"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:postChatForm": "meshim.widget.components.chatWindow.postChatForm",
titleBar: "hidePopout",
actionBar: "none"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
var f = n.get(a + "__vs");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
h.autobind(o, "value", function(t) {
0 == t && e ? o.update(1) : 1 != t || e ? f.setIndex(t || 0) : o.update(0);
});
h.autobind(r, "value", function(t) {
e = t;
});
}
var e, n = i(40), o = n.root.$("livechat").$("ui").$("chat_window").$("post_chat_form").$("stack_index$int"), r = n.root.$$("livechat.channel.rating$string");
t();
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {};
a(t, "meshim_widget_components_chatWindow_PostChatForm");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__meshim_widget_widgets_ChatWindowContent = i(138);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(140);
e.__$$__meshim_widget_widgets_Header = i(185);
e.__$$__meshim_widget_widgets_Body = i(183);
e.__$$__meshim_widget_widgets_RatingBar = i(199);
e.__$$__meshim_widget_widgets_motif_Chat = i(251);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "header", "", [], {
id: "header"
} ], [ e.__$$__meshim_widget_widgets_Body, "message", "", [], {
id: "message"
} ], [ e.__$$__meshim_widget_widgets_RatingBar, "rating_bar", "", [], {
id: "rating_bar",
addClass: "rating_bar",
description: "true"
} ], [ e.__$$__meshim_widget_widgets_motif_Chat, "", "", [], {
addClass: "chat_motif"
} ] ], {
addClass: "scrollable_frame"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:components": "meshim.widget.components",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
var f = n.get(a + "__header"), p = n.get(a + "__message"), g = n.get(a + "__rating_bar");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t() {
o.mobile(h);
g.setDataNode(l);
h.autobind(a, "value", function() {
f.setText(n.get(a));
});
h.autobind(s, "value", function() {
p.setText(n.get(s));
});
}
var e = i(40), n = i(97), o = i(95), r = e.root.$("livechat").$("settings").$("forms").$("post_chat_form"), a = r.$("header$string"), s = r.$("message$string"), _ = e.root.$("livechat").$("channel"), l = _.$("rating$string");
t();
}();
for (var $ in m) m.hasOwnProperty($) && (h[$] = m[$]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__meshim_widget_widgets_ChatWindowContent.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowContent;
t.__jx__jcss = {
"**self": {
textAlign: "center"
},
".rating_bar": {
display: "inline-block",
width: "150px"
},
".chat_motif": {
position: "absolute",
"bottom, left": 0
},
".scrollable_frame": {
paddingBottom: "0 !important"
},
"&.mobile": {
".chat_motif": {
position: "relative"
}
}
};
a(t, "meshim_widget_components_chatWindow_postChatForm_RatingForm");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_Motif = i(252);
t.exports = function() {
function t(a, s, _, l, d) {
if (!(this instanceof t)) return new t(a, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_Motif, "", "", [], {
"xmlns:widgets": "meshim.widget.widgets",
items: "hill, bubble b1, bubble b2, bubble b3, bubble b4, bubble b5"
} ], c = u[0].call(this, a, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t(t) {
var e = h.dom.getElementsByClassName(t)[0];
if (e) {
e.style.OTransform = "none";
e.style.transform = "none";
}
}
if (r.isOpera) {
t("b3");
t("b4");
t("b5");
}
r.isIE8 && h.setDisplay("none");
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = i;
h.__jx__native = !1;
}
return h;
}
var i;
t.prototype = a(e.__$$__meshim_widget_widgets_Motif.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Motif;
t.__jx__jcss = {
"**self": {
width: "100%",
height: "50px",
fontFamily: 'zopim, "Segoe UI Symbol", "Arial Unicode MS", "Lucida Sans Unicode", sans-serif',
"*display": "none"
},
"*": {
position: "absolute"
},
".hill": {
width: "95%",
height: "20px",
bottom: 0,
left: "2.5%",
borderTopLeftRadius: "50% 100%",
borderTopRightRadius: "50% 100%",
background: "$$chatMotifHill"
},
".bubble": {
top: 0,
color: "$$chatMotifBubble",
"&:before": {
content: "'\\1f4ac'"
}
},
".b1": {
fontSize: "24px",
top: "12px",
left: "10%",
opacity: .4
},
".b2": {
fontSize: "16px",
top: "16px",
left: "21%"
},
".b3": {
fontSize: "16px",
top: "13px",
right: "33.5%",
opacity: .4
},
".b4": {
fontSize: "16px",
top: "14px",
right: "26%"
},
".b5": {
fontSize: "35px",
top: 0,
right: "11%",
opacity: .2
},
".b3, .b4, .b5": {
transform: "scale(-1, 1)"
}
};
s(t, "meshim_widget_widgets_motif_Chat");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(7), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
var t = i(17);
h.setItems = function(e) {
e = e.split(",");
for (var i = 0, n = e.length; i < n; i++) new t(h, null, null, null, {
className: e[i]
});
};
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative"
}
};
a(t, "meshim_widget_widgets_Motif");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_ChatWindowContent = i(138);
e.__$$__jx_ui_Form = i(118);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(140);
e.__$$__meshim_widget_widgets_Body = i(183);
e.__$$__jx_ui_TextArea = i(171);
e.__$$__meshim_widget_widgets_Bottom = i(172);
e.__$$__meshim_widget_widgets_Submit = i(174);
e.__$$__meshim_widget_widgets_Button = i(157);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = o(151), h = o(152), f = [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__jx_ui_Form, "form", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__meshim_widget_widgets_Body, "message", "", [], {
id: "message"
} ], [ e.__$$__jx_ui_TextArea, "comments", "", [], {
id: "comments",
addClass: "comments"
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__meshim_widget_widgets_Submit, "", "", [], {
value: c
} ], [ e.__$$__meshim_widget_widgets_Button, "skip", "", [ h ], {
id: "skip",
addClass: "secondary"
} ] ], {
addClass: "padding_bottom"
} ] ], {
id: "form"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:components": "meshim.widget.components",
"xmlns:widgets": "meshim.widget.widgets",
absPaddingBottom: "bottomHeight"
} ], p = f[0].call(this, a, s, null, n.mangleIDs(s, f[3]), f[4]), g = p || this;
n.set(s, g);
var m = n.get(s + "__form"), $ = n.get(s + "__message"), b = n.get(s + "__comments"), w = n.get(s + "__skip");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var x = function() {
function t() {
b.setLabelElement($);
g.autobind(d, "value", function() {
e();
});
g.autobind(_, "value", function(t) {
n = t;
e();
});
m.on("submit", function(t) {
t.preventDefault();
if (g.validate()) {
s.write({
comments_user$string: b.getValue().trim()
});
l.update("chat_panel");
}
});
w.on("click", function() {
l.update("chat_panel");
});
}
function e() {
$.setText(r.get(d.$$(n + ".message$string")));
b.setPlaceholder(r.get(d.$$(n + ".placeholder$string")));
}
var n, o = i(40), r = i(97), a = o.root.$("livechat"), s = a.$("settings").$("forms").$("post_chat_form"), _ = a.$("channel").$("rating$string"), l = o.root.$("livechat").$("ui").$("chat_window").$("main_stack_name$string"), d = s.$("comments_messages");
t();
}();
for (var v in x) x.hasOwnProperty(v) && (g[v] = x[v]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(u);
"function" == typeof g.addChildren ? g.addChildren(d) : n.addChildren(g, d);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_ChatWindowContent.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowContent;
t.__jx__jcss = {
".comments": {
width: "100%",
height: "25%"
}
};
s(t, "meshim_widget_components_chatWindow_postChatForm_CommentsForm");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(90);
e.__$$__meshim_widget_widgets_ViewStack = i(87);
e.__$$__meshim_widget_components_chatWindow_cookieForm_Accept = i(255);
e.__$$__meshim_widget_components_chatWindow_cookieForm_Decline = i(256);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__meshim_widget_widgets_ViewStack, "vs", "", [ [ e.__$$__meshim_widget_components_chatWindow_cookieForm_Accept, "", "", [], {} ], [ e.__$$__meshim_widget_components_chatWindow_cookieForm_Decline, "", "", [], {} ] ], {
id: "vs"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:cookieForm": "meshim.widget.components.chatWindow.cookieForm",
titleBar: "hidePopout",
actionBar: ""
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
var f = n.get(a + "__vs");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
h.autobind(n, "value", function(t) {
f.setIndex(t === !1 ? 0 : 1);
});
}
var e = i(40), n = e.root.$("livechat").$("profile").$("allow_cookies$bool");
t();
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {
a: {
color: "inherit"
}
};
a(t, "meshim_widget_components_chatWindow_CookieForm");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_ChatWindowContent = i(138);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(140);
e.__$$__meshim_widget_widgets_Header = i(185);
e.__$$__meshim_widget_widgets_Body = i(183);
e.__$$__jx_ui_Localizer = i(121);
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_widgets_Bottom = i(172);
e.__$$__jx_ui_Form = i(118);
e.__$$__meshim_widget_widgets_Submit = i(174);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = o(153), h = o(154), f = o(155), p = o(156), g = [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "", "", [ p ], {} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [ [ e.__$$__jx_ui_Localizer, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [], {
tagName: "a",
href: "https://www.zopim.com/privacy#cookie",
target: "_blank"
} ] ], {
content: c
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ h ], {
addClass: "note"
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__jx_ui_Form, "form", "", [ [ e.__$$__meshim_widget_widgets_Submit, "", "", [], {
addClass: "wide",
value: f
} ] ], {
id: "form"
} ] ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
absPaddingBottom: "bottomHeight"
} ], m = g[0].call(this, a, s, null, n.mangleIDs(s, g[3]), g[4]), $ = m || this;
n.set(s, $);
var b = n.get(s + "__form");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var w = function() {
function t() {
b.on("submit", function(t) {
t.preventDefault();
o.update("chat_panel");
n.setUserChoice(!0);
});
}
var e = i(40), n = i(198), o = e.root.$("livechat").$("ui").$("chat_window").$("main_stack_name$string");
t();
}();
for (var x in w) w.hasOwnProperty(x) && ($[x] = w[x]);
$.fire && $.fire("init");
$.setStyle && $.setStyle(l);
$.setAttributes && $.setAttributes(u);
"function" == typeof $.addChildren ? $.addChildren(d) : n.addChildren($, d);
if ($ !== this) {
$.__jx__constructor = _;
$.__jx__native = !1;
}
return $;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_ChatWindowContent.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowContent;
t.__jx__jcss = {};
s(t, "meshim_widget_components_chatWindow_cookieForm_Accept");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_ChatWindowContent = i(138);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(140);
e.__$$__meshim_widget_widgets_Header = i(185);
e.__$$__meshim_widget_widgets_Body = i(183);
e.__$$__jx_ui_Localizer = i(121);
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_widgets_Bottom = i(172);
e.__$$__jx_ui_Form = i(118);
e.__$$__meshim_widget_widgets_Controls = i(257);
e.__$$__meshim_widget_widgets_Submit = i(174);
e.__$$__meshim_widget_widgets_Button = i(157);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = o(157), h = o(158), f = o(159), p = o(160), g = o(161), m = [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "", "", [ g ], {} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [ [ e.__$$__jx_ui_Localizer, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [], {
tagName: "a",
href: "https://www.zopim.com/privacy#cookie",
target: "_blank"
} ] ], {
content: c
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ h ], {
addClass: "note"
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__jx_ui_Form, "form", "", [ [ e.__$$__meshim_widget_widgets_Controls, "", "", [ [ e.__$$__meshim_widget_widgets_Submit, "", "", [], {
placement: "primary",
addClass: "wide",
value: f
} ], [ e.__$$__meshim_widget_widgets_Button, "cancel", "", [ p ], {
placement: "secondary",
id: "cancel",
addClass: "wide secondary"
} ] ], {} ] ], {
id: "form"
} ] ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
absPaddingBottom: "bottomHeight"
} ], $ = m[0].call(this, a, s, null, n.mangleIDs(s, m[3]), m[4]), b = $ || this;
n.set(s, b);
var w = n.get(s + "__form"), x = n.get(s + "__cancel");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var v = function() {
function t() {
w.on("submit", function(t) {
t.preventDefault();
n.setUserChoice(!1);
});
x.on("click", function() {
o.update("chat_panel");
});
}
var e = i(40), n = i(198), o = e.root.$("livechat").$("ui").$("chat_window").$("main_stack_name$string");
t();
}();
for (var y in v) v.hasOwnProperty(y) && (b[y] = v[y]);
b.fire && b.fire("init");
b.setStyle && b.setStyle(l);
b.setAttributes && b.setAttributes(u);
"function" == typeof b.addChildren ? b.addChildren(d) : n.addChildren(b, d);
if (b !== this) {
b.__jx__constructor = _;
b.__jx__native = !1;
}
return b;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_ChatWindowContent.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowContent;
t.__jx__jcss = {};
s(t, "meshim_widget_components_chatWindow_cookieForm_Decline");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__jx_ui_Widget = i(17);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "primary", "", [], {
id: "primary",
addClass: "button_container left",
container: "primary"
} ], [ e.__$$__jx_ui_Widget, "secondary", "", [], {
id: "secondary",
addClass: "button_container right",
container: "secondary"
} ], [ e.__$$__jx_ui_Widget, "", "", [], {
addClass: "clear_both"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], h = c[0].call(this, a, s, null, n.mangleIDs(s, c[3]), c[4]), f = h || this;
n.set(s, f);
var p = n.get(s + "__primary"), g = n.get(s + "__secondary");
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t() {
e();
if (r && r.onLanguage) {
r.onLanguage(e);
f.onDestruction(function() {
r.unLanguage(e);
});
}
}
function e() {
var t = !!(r && r.rtl && r.rtl()), e = o != t;
p.addClass(e ? "right" : "left");
p.removeClass(e ? "left" : "right");
g.addClass(e ? "left" : "right");
g.removeClass(e ? "right" : "left");
}
var n = i(40), o = n.root.$("livechat").$("ui").$("mobile$bool").getValue() || !1;
t();
}();
for (var $ in m) m.hasOwnProperty($) && (f[$] = m[$]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = a(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
".button_container": {
width: "48%"
},
".left": {
"float": "left"
},
".right": {
"float": "right"
},
".clear_both": {
clear: "both"
}
};
s(t, "meshim_widget_widgets_Controls");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(22), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(90);
e.__$$__jx_ui_Form = i(118);
e.__$$__meshim_widget_widgets_ChatWindowContent = i(138);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(140);
e.__$$__meshim_widget_widgets_Body = i(183);
e.__$$__meshim_widget_widgets_form_Profile = i(141);
e.__$$__meshim_widget_widgets_Form = i(158);
e.__$$__meshim_widget_widgets_Bottom = i(172);
e.__$$__meshim_widget_widgets_Controls = i(257);
e.__$$__meshim_widget_widgets_Submit = i(174);
e.__$$__meshim_widget_widgets_Button = i(157);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = o(119), h = o(120), f = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__jx_ui_Form, "form", "", [ [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__meshim_widget_widgets_Body, "message", "", [], {
id: "message"
} ], [ e.__$$__meshim_widget_widgets_form_Profile, "profile", "", [], {
id: "profile"
} ], [ e.__$$__meshim_widget_widgets_Form, "form_generator", "", [], {
id: "form_generator"
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__meshim_widget_widgets_Controls, "", "", [ [ e.__$$__meshim_widget_widgets_Submit, "", "", [], {
placement: "primary",
addClass: "wide",
value: c
} ], [ e.__$$__meshim_widget_widgets_Button, "cancel", "", [ h ], {
placement: "secondary",
id: "cancel",
addClass: "secondary wide"
} ] ], {} ] ], {} ] ], {
absPaddingBottom: "bottomHeight"
} ] ], {
id: "form",
noValidate: "true"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:components": "meshim.widget.components",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatWindow": "meshim.widget.components.chatWindow",
titleBar: "hidePopout",
actionBar: ""
} ], p = f[0].call(this, a, s, null, n.mangleIDs(s, f[3]), f[4]), g = p || this;
n.set(s, g);
var m = n.get(s + "__form"), $ = n.get(s + "__message"), b = n.get(s + "__profile"), w = n.get(s + "__form_generator"), x = n.get(s + "__cancel");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var v = function() {
function t() {
w.setDataNode(a);
b.setDataNode(a);
g.autobind(r, "value", function(t) {
$.setText(t || "");
});
g.autobind(_, "value", function(t) {
e = t;
b.setDisplay(t ? "" : "none");
b.setDisabled(t);
});
m.on("submit", function(t) {
t.preventDefault();
if (m.validate(!0)) {
b.submit();
w.submit(s, b);
l.update("chat_panel");
}
});
x.on("click", function() {
l.update("chat_panel");
});
}
var e, n = i(40), o = n.root.$("livechat").$("settings").$("forms").$("card_form"), r = o.$("message$string"), a = o.$("form"), s = o.$("form_submitted"), _ = o.$("profile_required$bool"), l = n.root.$("livechat").$("ui").$("chat_window").$("main_stack_name$string");
t();
}();
for (var y in v) v.hasOwnProperty(y) && (g[y] = v[y]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(u);
"function" == typeof g.addChildren ? g.addChildren(d) : n.addChildren(g, d);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {};
s(t, "meshim_widget_components_chatWindow_CardForm");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s, _) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(90);
e.__$$__meshim_widget_widgets_ChatWindowContent = i(138);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(140);
e.__$$__jx_controls_List = i(211);
e.__$$__meshim_widget_widgets_motif_Chat = i(251);
e.__$$__meshim_widget_widgets_Bottom = i(172);
e.__$$__meshim_widget_widgets_Button = i(157);
t.exports = function() {
function t(s, _, d, u, c) {
if (!(this instanceof t)) return new t(s, _, d, u, c);
_ = _ || n.generateID();
var h = o(121), f = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "scrollable_frame", "", [ [ e.__$$__jx_controls_List, "list", "", [], {
id: "list",
addClass: "list"
} ], [ e.__$$__meshim_widget_widgets_motif_Chat, "chat_motif", "", [], {
id: "chat_motif",
addClass: "chat_motif"
} ] ], {
id: "scrollable_frame"
} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "back", "", [ h ], {
id: "back",
addClass: "back wide"
} ] ], {
addClass: "padding_bottom"
} ] ], {
absPaddingBottom: "bottomHeightBottomPadding"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:jx": "jx.controls",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatWindow": "meshim.widget.components.chatWindow",
titleBar: "hidePopout",
actionBar: "none"
} ], p = f[0].call(this, s, _, null, n.mangleIDs(_, f[3]), f[4]), g = p || this;
n.set(_, g);
var m = n.get(_ + "__scrollable_frame"), $ = n.get(_ + "__list"), b = n.get(_ + "__chat_motif"), w = n.get(_ + "__back");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var x = function() {
function t() {
$.setRenderer(n);
$.setDataNode(o);
g.autobind(o, "keys", function() {
a(function() {
if (g.dom) {
var t = $.offsetHeight, e = m.getHeight(), i = b.getHeight();
t <= e && e - t > i ? g.removeClass("many_agents") : g.addClass("many_agents");
}
});
});
w.on("click", function() {
r.update("chat_panel");
});
}
var e = i(40), n = i(260), o = e.root.$("livechat").$("agents"), r = e.root.$("livechat").$("ui").$("chat_window").$("main_stack_name$string");
t();
}();
for (var v in x) x.hasOwnProperty(v) && (g[v] = x[v]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(d);
g.setAttributes && g.setAttributes(c);
"function" == typeof g.addChildren ? g.addChildren(u) : n.addChildren(g, u);
if (g !== this) {
g.__jx__constructor = l;
g.__jx__native = !1;
}
return g;
}
var l;
t.prototype = s(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {
"**self": {},
".list": {
position: "relative",
"width, height": "100%"
},
".chat_motif": {
position: "absolute",
"bottom, left": 0,
transition: "opacity 0.5s",
opacity: 1
},
"&.many_agents .chat_motif": {
opacity: 0
}
};
_(t, "meshim_widget_components_chatWindow_AgentList");
l = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(12), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__meshim_widget_widgets_AgentProfileCard = i(191);
t.exports = function() {
function t(r, a, s, _, l) {
if (!(this instanceof t)) return new t(r, a, s, _, l);
a = a || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_AgentProfileCard, "", "", [], {
xmlns: "meshim.widget.widgets",
addClass: "profile_card"
} ], u = d[0].call(this, r, a, null, n.mangleIDs(a, d[3]), d[4]), c = u || this;
n.set(a, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(s);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_AgentProfileCard.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_AgentProfileCard;
t.__jx__jcss = {
"**self": {
marginBottom: "10px",
".avatar_cell": {
verticalAlign: "top",
width: "32px",
".profile_avatar": {
"width, height": "32px",
bottom: "auto"
}
},
".profile_table .content_cell": {
padding: "0 10px",
verticalAlign: "middle"
}
}
};
a(t, "meshim_widget_components_chatWindow_agentList_AgentProfileCard");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(90);
e.__$$__meshim_widget_widgets_ChatWindowContent = i(138);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(140);
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_widgets_Header = i(185);
e.__$$__meshim_widget_widgets_Body = i(183);
e.__$$__meshim_widget_widgets_Button = i(157);
e.__$$__meshim_widget_widgets_Bottom = i(172);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = o(122), h = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "", "", [], {
text: "Zendesk Chat"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Copyright Â© 2016 Zendesk, Inc. All Rights Reserved."
} ], [ e.__$$__meshim_widget_widgets_Button, "back_top", "", [ c ], {
id: "back_top",
addClass: "back_top wide"
} ], [ e.__$$__meshim_widget_widgets_Header, "", "", [], {
text: "Open Source Licenses"
} ] ], {} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "", "", [], {
text: "chroma.js - JavaScript library for color conversions"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Copyright Â© 2011-2013, Gregor Aisch. All rights reserved."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "3. The name Gregor Aisch may not be used to endorse or promote products derived from this software without specific prior written permission."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: 'THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.'
} ] ], {
"class": "break_top"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "", "", [], {
text: "store.js"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Copyright Â© 2010-2013 Marcus Westin"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: 'Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:'
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: 'THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.'
} ] ], {
"class": "break_top"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "", "", [], {
text: "d3-timer, d3-interpolate"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Copyright 2010-2015 Mike Bostock"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "All rights reserved."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "* Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "* Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "* Neither the name of the author nor the names of contributors may be used to endorse or promote products derived from this software without specific prior written permission."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: 'THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.'
} ] ], {
"class": "break_top"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Header, "", "", [], {
text: "d3-ease"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Copyright 2010-2015 Mike Bostock"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Copyright 2001 Robert Penner"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "All rights reserved."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:"
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "* Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "* Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: "* Neither the name of the author nor the names of contributors may be used to endorse or promote products derived from this software without specific prior written permission."
} ], [ e.__$$__meshim_widget_widgets_Body, "", "", [], {
text: 'THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.'
} ] ], {
"class": "break_top"
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "back", "", [ c ], {
id: "back",
addClass: "back wide"
} ] ], {} ] ], {
absPaddingBottom: "bottomHeight"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
titleBar: "hidePopout",
actionBar: ""
} ], f = h[0].call(this, a, s, null, n.mangleIDs(s, h[3]), h[4]), p = f || this;
n.set(s, p);
var g = n.get(s + "__back_top"), m = n.get(s + "__back");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
n.mobile(p);
m.on("click", function() {
o.update("chat_panel");
});
g.on("click", function() {
o.update("chat_panel");
});
}
var e = i(40), n = i(95), o = e.root.$("livechat").$("ui").$("chat_window").$("main_stack_name$string");
t();
}();
for (var b in $) $.hasOwnProperty(b) && (p[b] = $[b]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(u);
"function" == typeof p.addChildren ? p.addChildren(d) : n.addChildren(p, d);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {
".break_top": {
padding: "10px 0",
borderTop: "1px solid",
borderColor: "$$inputColor",
fontSize: "$$fontSizeXS",
".meshim_widget_widgets_Body": {
color: "$$inputColor",
marginBottom: "$$marginS"
}
},
".back_top": {
display: "none",
"&.mobile": {
marginBottom: "18px",
display: "block"
}
}
};
s(t, "meshim_widget_components_chatWindow_AboutPanel");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_ChatWindowPanel = i(90);
e.__$$__meshim_widget_widgets_ChatWindowDisconnectedToast = i(132);
e.__$$__meshim_widget_widgets_ChatWindowContent = i(138);
e.__$$__meshim_widget_widgets_ScrollableFrame = i(140);
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_widgets_RatingBar = i(199);
e.__$$__meshim_widget_widgets_TextArea = i(170);
e.__$$__meshim_widget_widgets_Bottom = i(172);
e.__$$__meshim_widget_widgets_Controls = i(257);
e.__$$__meshim_widget_widgets_ConnAwareSubmit = i(173);
e.__$$__meshim_widget_widgets_Button = i(157);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = o(123), h = o(124), f = o(125), p = o(126), g = o(127), m = [ e.__$$__meshim_widget_widgets_ChatWindowPanel, "", "", [ [ e.__$$__meshim_widget_widgets_ChatWindowDisconnectedToast, "", "", [], {} ], [ e.__$$__meshim_widget_widgets_ChatWindowContent, "", "", [ [ e.__$$__meshim_widget_widgets_ScrollableFrame, "", "", [ [ e.__$$__jx_ui_Widget, "rating_desc", "", [ c ], {
id: "rating_desc",
addClass: "rating_desc"
} ], [ e.__$$__meshim_widget_widgets_RatingBar, "rating_bar", "", [], {
id: "rating_bar",
addClass: "rating_bar"
} ], [ e.__$$__jx_ui_Widget, "", "", [ h ], {
addClass: "comment_intro"
} ], [ e.__$$__meshim_widget_widgets_TextArea, "comment_area", "", [], {
id: "comment_area",
addClass: "comment_area",
rows: "4",
placeholder: f
} ] ], {} ], [ e.__$$__meshim_widget_widgets_Bottom, "", "", [ [ e.__$$__meshim_widget_widgets_Controls, "", "", [ [ e.__$$__meshim_widget_widgets_ConnAwareSubmit, "send", "", [], {
placement: "primary",
id: "send",
addClass: "send wide",
value: p
} ], [ e.__$$__meshim_widget_widgets_Button, "cancel", "", [ g ], {
placement: "secondary",
id: "cancel",
addClass: "cancel secondary wide"
} ] ], {} ] ], {} ] ], {
absPaddingBottom: "bottomHeight"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
titleBar: "hidePopout",
actionBar: ""
} ], $ = m[0].call(this, a, s, null, n.mangleIDs(s, m[3]), m[4]), b = $ || this;
n.set(s, b);
var w = n.get(s + "__rating_desc"), x = n.get(s + "__rating_bar"), v = n.get(s + "__comment_area"), y = n.get(s + "__send"), j = n.get(s + "__cancel");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var C = function() {
function t() {
b.autobind(S, "value", e);
x.setDataNode($);
x.setSize("big");
y.on("click", s);
j.on("click", function() {
_(!0);
});
b.on("show", l);
b.autobind($, "value", n);
x.on("change", r);
}
function e(t) {
d = t;
j.setText(t ? p.END_CHAT : p.DURING_CHAT);
}
function n(t) {
t ? a(t) : w.setText(f.NOT_RATED);
}
function r() {
var t = x.getValue();
t ? a(t) : w.setText(f.UNRATED);
}
function a(t) {
w.setText("good" == t ? f.RATED_GOOD : f.RATED_BAD);
}
function s() {
var t, e = {
good: "Good",
bad: "Bad"
}, i = "rating_panel" + (d ? "_end_chat" : "_during_chat"), n = x.getValue(), o = $ && $.getValue();
if (n !== o) {
$ && h.writeNode($, n);
c.trackEvent("Chat_Rating_" + (e[n] || "Removed"), i);
t = !0;
}
var r = v.getValue().trim();
if (r) {
m.write({
comment$string: r
});
c.trackEvent("Chat_Comment_Submitted", i);
t = !0;
}
_(!t);
}
function _(t) {
A.update("chat_panel");
window.setTimeout(function() {
if (d) {
u.livechat.endChat();
S.update(null);
}
}, t ? 0 : 2e3);
}
function l() {
x.setValue($.getValue());
n($.getValue());
v.setValue(C.getValue() || "").focus();
}
var d, u = i(40), c = i(175), h = i(48), f = {
NOT_RATED: o(128),
RATED_GOOD: o(129),
RATED_BAD: o(130),
UNRATED: o(131)
}, p = {
DURING_CHAT: o(132),
END_CHAT: o(133)
}, g = u.root.$("livechat"), m = g.$("channel"), $ = m.$("rating$string"), C = m.$("comment$string"), A = g.$("ui").$("chat_window").$("main_stack_name$string"), S = g.$("ui").$("chat_window").$("rating_panel").$("end_chat$bool");
t();
}();
for (var A in C) C.hasOwnProperty(A) && (b[A] = C[A]);
b.fire && b.fire("init");
b.setStyle && b.setStyle(l);
b.setAttributes && b.setAttributes(u);
"function" == typeof b.addChildren ? b.addChildren(d) : n.addChildren(b, d);
if (b !== this) {
b.__jx__constructor = _;
b.__jx__native = !1;
}
return b;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_ChatWindowPanel.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ChatWindowPanel;
t.__jx__jcss = {
".rating_desc": {
textAlign: "center",
marginBottom: "15px"
},
".rating_bar": {
marginBottom: "25px"
},
".comment_intro": {
fontWeight: "700"
},
".comment_area": {
overflow: "auto",
marginTop: "15px"
}
};
s(t, "meshim_widget_components_chatWindow_RatingPanel");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__meshim_widget_widgets_ViewStack = i(87);
e.__$$__meshim_widget_components_chatWindow_SettingsMenu = i(264);
e.__$$__meshim_widget_components_chatWindow_ProfileMenu = i(284);
e.__$$__meshim_widget_components_chatWindow_EndChatMenu = i(290);
e.__$$__meshim_widget_components_chatWindow_EmailTranscriptMenu = i(291);
e.__$$__meshim_widget_components_chatWindow_EmailTranscriptNotification = i(292);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_ViewStack, "", "", [ [ e.__$$__meshim_widget_components_chatWindow_SettingsMenu, "", "", [], {
name: "settings_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_ProfileMenu, "", "", [], {
name: "profile_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_EndChatMenu, "", "", [], {
name: "end_chat_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_EmailTranscriptMenu, "", "", [], {
name: "email_transcript_menu"
} ], [ e.__$$__meshim_widget_components_chatWindow_EmailTranscriptNotification, "", "", [], {
name: "email_transcript_notification"
} ] ], {
"xmlns:ui": "jx.ui",
"xmlns:chatWindow": "meshim.widget.components.chatWindow",
"xmlns:widgets": "meshim.widget.widgets",
onChildHide: "-1"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
var t = i(95);
t.popout(h);
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__meshim_widget_widgets_ViewStack.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ViewStack;
t.__jx__jcss = {
"**self": {
overflow: "visible"
},
"&.popout": {
position: "absolute"
},
"&.mobile": {}
};
a(t, "meshim_widget_components_chatWindow_MenuStack");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__meshim_widget_widgets_Menu = i(265);
e.__$$__meshim_widget_widgets_menu_Section = i(266);
e.__$$__meshim_widget_components_chatWindow_settingsMenu_Profile = i(267);
e.__$$__meshim_widget_components_chatWindow_settingsMenu_Sound = i(270);
e.__$$__meshim_widget_components_chatWindow_settingsMenu_Cookies = i(277);
e.__$$__meshim_widget_components_chatWindow_settingsMenu_About = i(278);
e.__$$__meshim_widget_components_chatWindow_settingsMenu_SendFile = i(279);
e.__$$__meshim_widget_components_chatWindow_settingsMenu_EmailTranscript = i(282);
e.__$$__meshim_widget_components_chatWindow_settingsMenu_EndChat = i(283);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_Menu, "", "", [ [ e.__$$__meshim_widget_widgets_menu_Section, "", "", [ [ e.__$$__meshim_widget_components_chatWindow_settingsMenu_Profile, "", "", [], {} ], [ e.__$$__meshim_widget_components_chatWindow_settingsMenu_Sound, "", "", [], {} ], [ e.__$$__meshim_widget_components_chatWindow_settingsMenu_Cookies, "", "", [], {} ], [ e.__$$__meshim_widget_components_chatWindow_settingsMenu_About, "", "", [], {} ] ], {} ], [ e.__$$__meshim_widget_widgets_menu_Section, "chat_actions", "", [ [ e.__$$__meshim_widget_components_chatWindow_settingsMenu_SendFile, "send_file", "", [], {
id: "send_file"
} ], [ e.__$$__meshim_widget_components_chatWindow_settingsMenu_EmailTranscript, "", "", [], {} ], [ e.__$$__meshim_widget_components_chatWindow_settingsMenu_EndChat, "end_chat", "", [], {
id: "end_chat"
} ] ], {
id: "chat_actions"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu",
"xmlns:settingsMenu": "meshim.widget.components.chatWindow.settingsMenu"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
var f = n.get(a + "__chat_actions"), p = (n.get(a + "__send_file"), n.get(a + "__end_chat"));
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
f.setDisplay("none");
h.autobind(o, "value", function(t) {
p.setDisplay(t ? "" : "none");
t && f.setDisplay("");
});
}
var e = i(40), n = e.root.$("livechat"), o = n.$("channel").$("chatting$bool");
t();
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__meshim_widget_widgets_Menu.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Menu;
t.__jx__jcss = {};
a(t, "meshim_widget_components_chatWindow_SettingsMenu");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
e.mobile(h);
e.tablet(h);
e.rtl(h);
}
var e = i(95);
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "absolute",
minWidth: "180px",
maxWidth: "360px",
zIndex: "100",
bottom: "$$actionBarHeight",
marginBottom: "-2px",
"left, right": "10px",
color: "$$menuColor",
background: "$$menuBg",
borderWidth: "$$menuBorderWidth",
borderStyle: "$$menuBorderStyle",
borderColor: "$$menuBorderColor",
borderRadius: "$$menuRadius",
boxShadow: "$$menuShadow"
},
"&.rtl": {
"left, right": "10px"
},
"&.mobile": {
left: "0",
top: "$$titleBarHeight",
bottom: "auto",
width: "100%",
maxWidth: "$$mobileMaxWidth",
borderTop: "0 none"
},
"&.mobile.rtl": {
right: 0
}
};
a(t, "meshim_widget_widgets_Menu");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
e.mobile(h);
}
var e = i(95);
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
padding: "5px 0",
borderTopWidth: "$$menuBorderWidth",
borderTopStyle: "$$menuBorderStyle",
borderTopColor: "$$menuBorderColor",
"*borderTop": "none",
"*zoom": 1,
"*position": "relative"
},
"&:first-child": {
borderTop: "none"
},
"&.flow": {
padding: "0",
margin: "10px"
},
"&.mobile": {
padding: "0",
borderTop: "0 none"
},
"&.border_top": {
borderTopWidth: "$$menuBorderWidth",
borderTopStyle: "$$menuBorderStyle",
borderTopColor: "$$menuBorderColor"
}
};
a(t, "meshim_widget_widgets_menu_Section");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_menu_Item = i(268);
e.__$$__meshim_widget_widgets_menu_ButtonLabel = i(269);
e.__$$__jx_ui_Label = i(101);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = o(177), h = [ e.__$$__meshim_widget_widgets_menu_Item, "", "", [ [ e.__$$__meshim_widget_widgets_menu_ButtonLabel, "logged_out", "", [ c ], {
id: "logged_out"
} ], [ e.__$$__jx_ui_Label, "name", "", [], {
id: "name",
addClass: "logged_in_name"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], f = h[0].call(this, a, s, null, n.mangleIDs(s, h[3]), h[4]), p = f || this;
n.set(s, p);
var g = n.get(s + "__logged_out"), m = n.get(s + "__name");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
p.on("click", function(t) {
t.stopPropagation();
f.update("profile_menu");
});
p.autobind(c, "value", function(t) {
n = t;
e();
});
p.autobind(h, "value", function(t) {
r = t || "";
e();
});
p.autobind($, "value", function(t) {
p.setDisplay(t ? "none" : "");
});
o && o.onLanguage && o.onLanguage(e);
}
function e() {
if (n) {
r && !l.isDefaultName(r) ? m.setText(a.replace("<name>", r)) : m.setText(s);
g.setDisplay("none");
m.setDisplay("");
} else {
g.setDisplay("");
m.setDisplay("none");
}
}
var n, r, a = o(178), s = o(179), _ = i(40), l = i(48), d = _.root.$("livechat"), u = d.$("profile"), c = u.$("logged_in$bool"), h = u.$("display_name$string"), f = d.$("ui").$("chat_window").$("menu_stack_name$string"), $ = d.$("settings").$("login").$("restrict_profile$bool");
t();
}();
for (var b in $) $.hasOwnProperty(b) && (p[b] = $[b]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(u);
"function" == typeof p.addChildren ? p.addChildren(d) : n.addChildren(p, d);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_menu_Item.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_menu_Item;
t.__jx__jcss = {
"**self": {
display: "none"
},
"&.mobile": {
display: "block"
}
};
s(t, "meshim_widget_components_chatWindow_settingsMenu_Profile");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
type: "button"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
e.mobile(h);
e.rtl(h);
}
var e = i(95);
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
background: "transparent",
border: "none",
position: "relative",
width: "100%",
overflow: "hidden",
cursor: "pointer",
"*zoom": 1,
textAlign: "left",
padding: "$$menuItemPadding",
"*": {
cursor: "pointer"
}
},
"&.rtl": {
textAlign: "right"
},
"&:hover": {
background: "$$menuItemHoverBg"
},
"&.mobile": {
borderTopWidth: "$$menuBorderWidth",
borderTopStyle: "$$menuBorderStyle",
borderTopColor: "$$menuBorderColor"
}
};
a(t, "meshim_widget_widgets_menu_Item");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Button = i(116);
t.exports = function() {
function t(r, a, s, _, l) {
if (!(this instanceof t)) return new t(r, a, s, _, l);
a = a || n.generateID();
var d = [ e.__$$__jx_ui_Button, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], u = d[0].call(this, r, a, null, n.mangleIDs(a, d[3]), d[4]), c = u || this;
n.set(a, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(s);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Button.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Button;
t.__jx__jcss = {
"**self": {
background: "transparent",
border: "0px none",
color: "$$menuColor",
textAlign: "inherit"
}
};
a(t, "meshim_widget_widgets_menu_ButtonLabel");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_menu_Item = i(268);
e.__$$__meshim_widget_widgets_menu_IconFont = i(271);
e.__$$__meshim_widget_widgets_menu_ButtonLabel = i(269);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = o(180), h = [ e.__$$__meshim_widget_widgets_menu_Item, "", "", [ [ e.__$$__meshim_widget_widgets_menu_IconFont, "icon_sound", "", [], {
id: "icon_sound"
} ], [ e.__$$__meshim_widget_widgets_menu_ButtonLabel, "", "", [ c ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], f = h[0].call(this, a, s, null, n.mangleIDs(s, h[3]), h[4]), p = f || this;
n.set(s, p);
var g = n.get(s + "__icon_sound");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t() {
p.on("click", function() {
r.update(!n.isSoundEnabled());
});
p.autobind(r, "value", function() {
g.setIcon(n.isSoundEnabled() ? "sound_on" : "sound_off", !0);
});
}
var e = i(40), n = i(272), o = e.root.$("livechat").$("profile"), r = o.$("notification").$("sound$bool");
t();
}();
for (var $ in m) m.hasOwnProperty($) && (p[$] = m[$]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(u);
"function" == typeof p.addChildren ? p.addChildren(d) : n.addChildren(p, d);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_menu_Item.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_menu_Item;
t.__jx__jcss = {
"**self": {},
"&.mobile": {
display: "none"
}
};
s(t, "meshim_widget_components_chatWindow_settingsMenu_Sound");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_IconFont = i(96);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], h = c[0].call(this, a, s, null, n.mangleIDs(s, c[3]), c[4]), f = h || this;
n.set(s, f);
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
e.rtl(f);
}
var e = i(95), n = {
"true": "tick",
"false": "cross"
}, o = f.setIcon;
f.setIcon = function(t, e) {
e || (t = r(t).toString());
return o.call(f, n[t] || t);
};
t();
}();
for (var g in p) p.hasOwnProperty(g) && (f[g] = p[g]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_IconFont.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_IconFont;
t.__jx__jcss = {
"**self": {
"float": "right",
lineHeight: 1,
position: "relative",
top: "3px",
verticalAlign: "middle",
"&.rtl": {
"float": "left"
}
},
"&.left": {
"float": "left",
"&.rtl": {
"float": "right"
}
}
};
s(t, "meshim_widget_widgets_menu_IconFont");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(16), i(14), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t() {
a = f.root.$$("livechat.settings.sound.disabled$bool");
s = f.root.$$("livechat.profile.notification.sound$bool");
_ = f.root.$$("connection.reattached_timestamp$int");
d = f.root.$$("livechat.ui.sounds");
c = f.root.$("livechat").$("ui").$("mobile$bool");
c.getValue() && s.update(!1);
e.runAfterFirstChildReady(function() {
if (!u) {
u = new p(g);
d.bindValue(o);
}
});
}
function o(t) {
if (t && r()) {
l = _.getValue() || 0;
if (0 !== l) for (var e in t) if (t.hasOwnProperty(e)) {
if (!t[e] || t[e] < l) continue;
e = e.substring(0, e.indexOf("$"));
u.hasSound(e) || u.create(e, m[e]);
u.play(e, 1);
}
}
}
function r() {
var t = a.getValue(), e = s.getValue();
return "boolean" == typeof e ? e : "boolean" != typeof t || !t;
}
var a, s, _, l, d, u, c, h = i(42), f = i(40), p = i(273), g = h.SOUNDS_URL, m = {
new_message: "triad_gbd"
}, $ = {
init: t,
isSoundEnabled: r,
play: function() {}
};
n($, "meshim_widget_controllers_SoundController");
return $;
}();
}).call(e, i(6), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(t) {
var e;
this.url = t;
e = new r(t);
if (e.dom) return e;
e = new a(t);
if (e.dom) return e;
e = new s(t);
return e.dom ? e : void 0;
}
function n() {
return this;
}
function o(t) {
/\/$/.test(t) || (t += "/");
this.repo_url = t || _;
this.repo = {};
}
var r = i(274), a = i(275), s = i(276);
t.prototype.load = t.prototype.play = t.prototype.stop = t.prototype.setVolume = t.prototype.setLoop = n;
var _ = "dashboard/sounds/";
o.prototype.create = function(e, i, n, o) {
var r = new t(this.repo_url + i);
n && r.setVolume(n);
o && r.setLoop(o);
r.title = i;
this.repo[e] = r;
return this;
};
o.prototype.getSound = function(t) {
var e = this.repo[t];
if (e) return e;
throw new window.Error("you have not created " + t + " sound yet");
};
o.prototype.hasSound = function(t) {
try {
this.getSound(t);
return !0;
} catch (e) {
return !1;
}
};
o.prototype.setSrc = function(t, e) {
this.getSound(t).load(this.repo_url + e);
return this;
};
o.prototype.getTitle = function(t) {
this.getSound(t).title;
};
o.prototype.play = function(t, e) {
this.getSound(t).play(parseInt(e, 10) || 0);
return this;
};
o.prototype.stop = function(t) {
this.getSound(t).stop();
return this;
};
o.prototype.setVolume = function(t, e) {
this.getSound(t).setVolume(e);
return this;
};
o.prototype.setLoop = function(t, e) {
this.getSound(t).setLoop(e);
return this;
};
o.prototype.getLoop = function(t) {
this.getSound(t).loop;
};
e(o, "meshim_common_Sounds");
return o;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, i, n) {
t.exports = function() {
function t(t) {
var e = document.createElement("audio"), i = this, n = function() {
o.call(i);
};
if (e.canPlayType) {
var r = /^(probably|maybe)$/i;
try {
if (e.canPlayType("audio/mpeg").match(r)) this.type = "mp3"; else if (e.canPlayType('audio/ogg; codecs="vorbis"').match(r)) this.type = "ogg"; else {
if (!e.canPlayType("audio/wav").match(r)) return;
this.type = "wav";
}
} catch (a) {
return;
}
e.setAttribute("autobuffer", "true");
e.setAttribute("preload", "");
this.dom = e;
this.remainingLoop = 1;
this.loop = 1;
this.play_count = 0;
this.load(t);
this.dom.addEventListener("ended", n, !1);
}
}
function o() {
this.play_count++;
if (e.isSafari && this.play_count >= 50) {
this.play_count = 0;
this.dom.load();
}
if (this.remainingLoop > 0) {
this.remainingLoop--;
r.call(this);
this.dom.play();
}
}
function r() {
this.dom && this.dom.currentTime && (this.dom.currentTime = 0);
}
var a = 10;
t.prototype.load = function(t) {
this.dom.setAttribute("src", t + "." + this.type);
this.remainingLoop = 0;
};
t.prototype.play = function(t) {
this.remainingLoop += t ? t : this.loop;
o.call(this);
};
t.prototype.stop = function() {
this.dom.pause();
r.call(this);
};
t.prototype.setVolume = function(t) {
t = parseInt(t, 10);
if (!isNaN(t)) {
t > a && (t = a);
t < 0 && (t = 0);
this.dom.volume = t / a;
}
};
t.prototype.setLoop = function(t) {
t = parseInt(t, 10);
this.loop = i(t) ? t : 1;
};
n(t, "meshim_common_sounds_AudioTag");
return t;
}();
}).call(e, i(7), i(23), i(4));
}, function(t, e, i) {
(function(e, i, n) {
t.exports = function() {
function t(t) {
var n, o = +new Date() + Math.round(1e4 * Math.random()), r = t.substring(0, t.lastIndexOf("/") + 1) + "JSMP3.swf";
if (e.isIE) {
try {
new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash");
} catch (a) {
return;
}
n = document.createElement("div");
document.body.insertBefore(n, document.body.firstChild);
var s = '<object id="__zopimSoundPlayer' + o + '" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="1" height="1"><param name="movie" value="' + r + '" /><param name="allowScriptAccess" value="always" /></object>';
n.innerHTML = s;
n = n.firstChild;
var _ = document.title.split("#")[0];
i(function() {
document.title !== _ && (document.title = _);
});
} else {
if (!navigator.mimeTypes["application/x-shockwave-flash"]) return;
n = document.createElement("embed");
n.id = "__zopimSoundPlayer" + o;
n.src = r;
n.setAttribute("allowScriptAccess", "always");
document.body.insertBefore(n, document.body.firstChild);
}
n.style.left = n.style.top = "-9999px";
n.style.position = "absolute";
this.dom = n;
this.loop = 1;
this.load(t);
}
var o = 10;
t.prototype.load = function(t) {
if (this.dom.loadSound) {
this.dom.loadSound(t + ".mp3");
this.loaded = !0;
} else {
var e = this;
setTimeout(function() {
e.load(t);
}, 1e3);
}
};
t.prototype.play = function(t) {
if (this.loaded) try {
this.dom.playSound(t || this.loop);
} catch (e) {} else {
var i = this;
setTimeout(function() {
i.play(t);
}, 1e3);
}
};
t.prototype.stop = function() {
if (this.loaded) try {
this.dom.stopSound();
} catch (t) {}
};
t.prototype.setVolume = function(t) {
t = parseInt(t, 10);
if (!isNaN(t)) {
t > o && (t = o);
t < 0 && (t = 0);
if (this.loaded) try {
this.dom.setVolume(t / o);
} catch (e) {} else {
var i = this;
setTimeout(function() {
i.setVolume(t);
}, 500);
}
}
};
t.prototype.setLoop = function(t) {
this.loop = t;
if (this.loaded) try {
this.dom.setLoop(t);
} catch (e) {} else {
var i = this;
setTimeout(function() {
i.setLoop(t);
}, 500);
}
};
n(t, "meshim_common_sounds_FlashSound");
return t;
}();
}).call(e, i(7), i(12), i(4));
}, function(t, e, i) {
(function(e, i) {
t.exports = function() {
function t(t) {
if (e.isIE && !(e.isIE >= 9)) {
var i = document.createElement("bgsound");
document.body ? document.body.insertBefore(i, document.body.firstChild) : document.documentElement.appendChild(i);
this.dom = i;
this.loop = 0;
this.load(t);
}
}
t.prototype.load = function(t) {
this.src = t + ".wav";
};
t.prototype.play = function(t) {
this.dom.src = this.src;
this.dom.loop = t ? t : this.loop;
};
t.prototype.stop = function() {
this.dom.src = "";
};
t.prototype.setVolume = function() {};
t.prototype.setLoop = function(t) {
this.loop = parseInt(t, 10);
};
i(t, "meshim_common_sounds_BGSoundTag");
return t;
}();
}).call(e, i(7), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_menu_Item = i(268);
e.__$$__meshim_widget_widgets_menu_IconFont = i(271);
e.__$$__jx_ui_Label = i(101);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = o(181), h = [ e.__$$__meshim_widget_widgets_menu_Item, "", "", [ [ e.__$$__meshim_widget_widgets_menu_IconFont, "icon", "", [], {
id: "icon"
} ], [ e.__$$__jx_ui_Label, "", "", [ c ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], f = h[0].call(this, a, s, null, n.mangleIDs(s, h[3]), h[4]), p = f || this;
n.set(s, p);
var g = n.get(s + "__icon");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t() {
p.on("click", function() {
a.getValue() && _.update("cookie_form");
});
p.autobind(a, "value", function(t) {
g.setIcon(t);
e();
});
p.autobind(s, "value", e);
}
function e() {
s.getValue() && a.getValue() ? p.setDisplay("") : p.setDisplay("none");
}
var n = i(40), o = n.root.$("livechat"), r = o.$("profile"), a = r.$("allow_cookies$bool"), s = o.$("settings").$("cookie_law").$("enabled$bool"), _ = o.$("ui").$("chat_window").$("main_stack_name$string");
t();
}();
for (var $ in m) m.hasOwnProperty($) && (p[$] = m[$]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(u);
"function" == typeof p.addChildren ? p.addChildren(d) : n.addChildren(p, d);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_menu_Item.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_menu_Item;
t.__jx__jcss = {
"**self": {}
};
s(t, "meshim_widget_components_chatWindow_settingsMenu_Cookies");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_menu_Item = i(268);
e.__$$__meshim_widget_widgets_menu_ButtonLabel = i(269);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = o(182), h = [ e.__$$__meshim_widget_widgets_menu_Item, "", "", [ [ e.__$$__meshim_widget_widgets_menu_ButtonLabel, "", "", [ c ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], f = h[0].call(this, a, s, null, n.mangleIDs(s, h[3]), h[4]), p = f || this;
n.set(s, p);
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
p.on("click", function() {
n.update("about_panel");
});
}
var e = i(40), n = e.root.$("livechat").$("ui").$("chat_window").$("main_stack_name$string");
t();
}();
for (var m in g) g.hasOwnProperty(m) && (p[m] = g[m]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(u);
"function" == typeof p.addChildren ? p.addChildren(d) : n.addChildren(p, d);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_menu_Item.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_menu_Item;
t.__jx__jcss = {};
s(t, "meshim_widget_components_chatWindow_settingsMenu_About");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_menu_Item = i(268);
e.__$$__jx_ui_Label = i(101);
e.__$$__meshim_widget_widgets_SendFile = i(280);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = o(183), h = [ e.__$$__meshim_widget_widgets_menu_Item, "", "", [ [ e.__$$__jx_ui_Label, "", "", [ c ], {} ], [ e.__$$__meshim_widget_widgets_SendFile, "send_file", "", [], {
id: "send_file",
addClass: "send_file"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], f = h[0].call(this, a, s, null, n.mangleIDs(s, h[3]), h[4]), p = f || this;
n.set(s, p);
var g = n.get(s + "__send_file");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t() {
g.on("before_submit", function() {
r.update("");
});
p.autobind(a, "value", e);
p.autobind(_, "value", e);
p.autobind(d, "value", e);
p.autobind(l, "value", e);
}
function e() {
var t = a.getValue(), e = _.getValue(), i = d.getValue("color_customization_enabled$int") || d.getValue("widget_customization_enabled$int"), n = l.getValue(), o = !0;
i ? t && e === !1 && (o = !1) : o = !1;
p.setDisplay(o && n ? "" : "none");
}
var n = i(40), o = n.root.$("livechat"), r = o.$("ui").$("chat_window").$("menu_stack_name$string"), a = o.$("features").$("file_sending_settings$bool"), s = o.$("settings").$("file_sending"), _ = s.$("enabled$bool"), l = o.$("channel").$("chatting$bool"), d = o.$("settings").$("package");
t();
}();
for (var $ in m) m.hasOwnProperty($) && (p[$] = m[$]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(u);
"function" == typeof p.addChildren ? p.addChildren(d) : n.addChildren(p, d);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_menu_Item.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_menu_Item;
t.__jx__jcss = {
".send_file": {
position: "absolute",
"bottom, right": 0
}
};
s(t, "meshim_widget_components_chatWindow_settingsMenu_SendFile");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_widgets_FileUploader = i(281);
e.__$$__jx_ui_Input = i(117);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_FileUploader, "file_form", "", [ [ e.__$$__jx_ui_Input, "file_input", "", [], {
id: "file_input",
name: "file[]",
type: "file",
multiple: "true",
addClass: "file_input"
} ] ], {
id: "file_form"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
var f = n.get(a + "__file_form"), p = n.get(a + "__file_input");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
p.on("change", function() {
if (!_) {
_ = !0;
c.reconnectIfServerRetired(function() {
_ = !1;
e();
});
}
});
h.autobind(v, "value", o);
h.autobind(j, "value", o);
h.autobind(I, "value", o);
h.autobind(C, "value", r);
}
function e() {
if (s && p.getValue()) {
var t = [], e = [], i = 0, o = p.dom.files, r = c.getHost();
if (r) {
if (o) {
for (var _ = 0, $ = o.length; _ < $; _++) {
if (!d.isValidType(o[_].name, a)) {
S.update({
error$string: "type"
});
p.setValue("");
return;
}
t.push(o[_].name);
e.push(o[_].type);
i += o[_].size || 0;
}
if (i > l.FILE_UPLOAD_MAX) {
S.update({
error$string: "size"
});
p.setValue("");
return;
}
t = t.join(", ");
e = e.join(", ");
} else {
o = p.dom.value || "";
if (!o) return;
t = o.substr(o.lastIndexOf("\\") + 1);
e = t.substr(t.lastIndexOf(".") + 1);
if (!d.isValidType(t, a)) {
S.update({
error$string: "type"
});
p.setValue("");
return;
}
}
var b = g.livechat.sendFile({
file_name: t,
file_type: e,
file_size: i
}), v = {
ts: b,
mid: w.getValue(),
uid: x.getValue()
}, y = "https://" + r + l.FILE_UPLOAD_PATH + "?" + u.buildQuery(v);
f.setPath(y);
h.fire("before_submit");
o && "FormData" in window ? n(r, b, o) : f.submit();
m.increment("file_upload");
p.setValue("");
}
}
}
function n(t, e, i) {
for (var n = new window.XMLHttpRequest(), o = new window.FormData(), r = {
ts: e
}, a = "https://" + t + l.FILE_UPLOAD_PATH + "?" + u.buildQuery(r), s = 0, _ = i.length; s < _; s++) o.append("file_" + i[s].name, i[s]);
n.open("POST", a, !0);
n.setRequestHeader("X-Zopim-MID", w.getValue());
n.setRequestHeader("X-Zopim-UID", x.getValue());
n.send(o);
}
function o() {
var t = v.getValue(), e = j.getValue(), i = I.getValue("color_customization_enabled$int") || I.getValue("widget_customization_enabled$int");
s = !!i && (!t || e !== !1);
}
function r() {
var t = C.getValue() || "";
a = t.trim().replace(/\s*,\s*/g, ",").split(",");
}
var a, s, _, l = i(42), d = i(51), u = i(28), c = i(58), g = i(40), m = i(59), $ = g.root, b = $.$("livechat"), w = b.$("profile").$("mid$string"), x = b.$("profile").$("uid$string"), v = b.$("features").$("file_sending_settings$bool"), y = b.$("settings").$("file_sending"), j = y.$("enabled$bool"), C = y.$("allowed_extensions$string"), A = b.$("ui").$("chat_window"), S = A.$("chat_panel").$("file_toast"), I = b.$("settings").$("package");
t();
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
".file_input": {
fontSize: "1000px",
outline: "none",
opacity: "0"
}
};
a(t, "meshim_widget_widgets_SendFile");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t(e, i, n, o, a) {
if (!(this instanceof t)) return new t(e, i, n, o, a);
a || (a = {});
r.call(this, e, i, n, o, a);
this.setAttribute("method", "post");
this.setAttribute("enctype", "multipart/form-data");
}
var r = i(118);
t.prototype = e(r.prototype);
t.prototype.submit = function() {
if (this.path) {
this.setAttribute("action", this.path);
var t, e = "_widget_fileuploader_" + +new Date();
if (n.bugs.noBoxSizing) t = this.doc.createElement('<iframe name="' + e + '">'); else {
t = this.doc.createElement("iframe");
t.setAttribute("name", e);
}
t.setAttribute("id", e);
t.style.display = "none";
this.dom.target = e;
this.appendChild(t);
r.prototype.submit.call(this);
}
};
t.prototype.setPath = function(t) {
this.path = t;
return this;
};
o(t, "meshim_widget_widgets_FileUploader");
return t;
}();
}).call(e, i(14), i(7), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_menu_Item = i(268);
e.__$$__meshim_widget_widgets_menu_ButtonLabel = i(269);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = o(184), h = [ e.__$$__meshim_widget_widgets_menu_Item, "", "", [ [ e.__$$__meshim_widget_widgets_menu_ButtonLabel, "", "", [ c ], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], f = h[0].call(this, a, s, null, n.mangleIDs(s, h[3]), h[4]), p = f || this;
n.set(s, p);
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
p.on("click", function() {
n.update("email_transcript_menu");
});
}
var e = i(40), n = e.root.$("livechat").$("ui").$("chat_window").$("menu_stack_name$string");
t();
}();
for (var m in g) g.hasOwnProperty(m) && (p[m] = g[m]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(u);
"function" == typeof p.addChildren ? p.addChildren(d) : n.addChildren(p, d);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_menu_Item.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_menu_Item;
t.__jx__jcss = {
"**self": {}
};
s(t, "meshim_widget_components_chatWindow_settingsMenu_EmailTranscript");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_menu_Item = i(268);
e.__$$__meshim_widget_widgets_Button = i(157);
e.__$$__jx_ui_Label = i(101);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = o(187), h = [ e.__$$__meshim_widget_widgets_menu_Item, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "", "", [ c ], {
addClass: "end_chat wide short"
} ], [ e.__$$__jx_ui_Label, "", "", [ c ], {
addClass: "end_chat_mobile"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], f = h[0].call(this, a, s, null, n.mangleIDs(s, h[3]), h[4]), p = f || this;
n.set(s, p);
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
p.on("click", function() {
r.update("end_chat_menu");
});
p.autobind(o, "value", function(t) {
p.setDisplay(t ? "" : "none");
});
p.autobind(a, "value", function(t) {
var e = !!t;
p.setDisabled(e);
});
}
var e = i(40), n = e.root.$("livechat"), o = n.$("settings").$("end_chat_menu").$("enabled$bool"), r = n.$("ui").$("chat_window").$("menu_stack_name$string"), a = e.root.$("connection").$("message$string");
t();
}();
for (var m in g) g.hasOwnProperty(m) && (p[m] = g[m]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(l);
p.setAttributes && p.setAttributes(u);
"function" == typeof p.addChildren ? p.addChildren(d) : n.addChildren(p, d);
if (p !== this) {
p.__jx__constructor = _;
p.__jx__native = !1;
}
return p;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_menu_Item.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_menu_Item;
t.__jx__jcss = {
"**self": {
cursor: "default",
"&:hover": {
background: "transparent !important"
},
".end_chat": {
display: "block",
textAlign: "center",
cursor: "pointer",
"&.disabled": {
cursor: "default"
}
},
".end_chat_mobile": {
display: "none"
}
},
"&.mobile": {
".end_chat": {
display: "none"
},
".end_chat_mobile": {
display: "block"
}
}
};
s(t, "meshim_widget_components_chatWindow_settingsMenu_EndChat");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__meshim_widget_widgets_Menu = i(265);
e.__$$__meshim_widget_widgets_ViewStack = i(87);
e.__$$__meshim_widget_components_chatWindow_profileMenu_Login = i(285);
e.__$$__meshim_widget_components_chatWindow_profileMenu_Status = i(287);
e.__$$__meshim_widget_components_chatWindow_profileMenu_Edit = i(289);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_Menu, "", "", [ [ e.__$$__meshim_widget_widgets_ViewStack, "vs", "", [ [ e.__$$__meshim_widget_components_chatWindow_profileMenu_Login, "", "", [], {
addClass: "login"
} ], [ e.__$$__meshim_widget_components_chatWindow_profileMenu_Status, "", "", [], {
addClass: "status"
} ], [ e.__$$__meshim_widget_components_chatWindow_profileMenu_Edit, "", "", [], {
addClass: "edit"
} ] ], {
id: "vs"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu",
"xmlns:profileMenu": "meshim.widget.components.chatWindow.profileMenu"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
var f = n.get(a + "__vs");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
h.autobind(l, "value", function() {
var t = l.getValue();
o = 0;
for (var e in t) if (t.hasOwnProperty(e)) {
if ("email$bool" == e) continue;
t[e] && o++;
}
});
h.autobind(s, "value", function(t) {
r || f.setIndex(isNaN(t) ? e() : t);
});
f.on("indexChange", function(t) {
r = !0;
s.update(t);
r = !1;
});
h.autobind(_, "value", function(t) {
n = t;
e();
});
h.on("hide", e);
}
function e() {
f.setIndex(n ? 1 : o ? 0 : 2);
}
var n, o, r, a = i(40), s = a.root.$("livechat").$("ui").$("chat_window").$("profile_menu").$("index$int"), _ = a.root.$("livechat").$("profile").$("logged_in$bool"), l = a.root.$("livechat").$("settings").$("login").$("allowed_types");
t();
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__meshim_widget_widgets_Menu.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Menu;
t.__jx__jcss = {};
a(t, "meshim_widget_components_chatWindow_ProfileMenu");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_widgets_menu_Section = i(266);
e.__$$__meshim_widget_widgets_menu_Header = i(286);
e.__$$__meshim_widget_widgets_menu_Item = i(268);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = o(185), h = o(186), f = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_menu_Section, "external_section", "", [ [ e.__$$__meshim_widget_widgets_menu_Header, "", "", [ c ], {
addClass: "item"
} ], [ e.__$$__jx_ui_Widget, "types", "", [], {
id: "types",
addClass: "external_types"
} ] ], {
id: "external_section"
} ], [ e.__$$__meshim_widget_widgets_menu_Section, "email", "", [ [ e.__$$__meshim_widget_widgets_menu_Item, "", "", [ h ], {} ] ], {
id: "email",
addClass: "border_top"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], p = f[0].call(this, a, s, null, n.mangleIDs(s, f[3]), f[4]), g = p || this;
n.set(s, g);
var m = n.get(s + "__external_section"), $ = n.get(s + "__types"), b = n.get(s + "__email");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var w = function() {
function t() {
l.mobile(g);
n = h.getValue();
for (var t in f) if (f.hasOwnProperty(t)) if (n) f[t] = new a($, null, null, null, {
name: t,
addClass: "float " + t,
icon: p[t] + "_out"
}); else {
f[t] = new s($, null, null, null, {
name: t
});
new r(f[t], null, null, null, {
addClass: "menu_icon " + t,
icon: p[t]
});
new d(f[t], null, null, [ _.external_login[t] || t ], {
addClass: "label"
});
}
g.autobind(u, "value", e);
$.on("click", function(t) {
var e = t.target.jx_wrapper;
if (e != $) {
for (;e.parentNode != $; ) e = e.parentNode;
var i = e.getName && e.getName();
i && o.livechat.doExternalLogin(i);
}
});
b.on("click", function() {
c.update(2);
});
}
function e() {
var t = u.getValue();
if (t) {
n = h.getValue();
b.setDisplay(t.email$bool ? "" : "none");
var e, i;
for (var o in f) if (f.hasOwnProperty(o)) {
i = t[o + "$bool"];
f[o].setDisplay(i ? "" : "none");
n && i && f[o].setDisplay("inline-block");
i && (e = !0);
}
m.setDisplay(e ? "" : "none");
}
}
var n, o = i(40), r = i(155), a = i(156), s = i(268), _ = i(97), l = i(95), d = i(101), u = o.root.$("livechat").$("settings").$("login").$("allowed_types"), c = o.root.$("livechat").$("ui").$("chat_window").$("profile_menu").$("index$int"), h = o.root.$$("livechat.ui.mobile$bool"), f = {
facebook: null,
twitter: null,
google: null
}, p = {
facebook: "facebook",
twitter: "twitter",
google: "google_2016"
};
t();
}();
for (var x in w) w.hasOwnProperty(x) && (g[x] = w[x]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(u);
"function" == typeof g.addChildren ? g.addChildren(d) : n.addChildren(g, d);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = a(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
".meshim_widget_widgets_menu_Item": {
".label": {
marginLeft: "10px"
},
"&[name=facebook] .menu_icon": {
top: "1px"
},
"&[name=google]   .menu_icon": {
top: "2px"
}
},
".menu_icon": {
position: "relative",
"float": "left",
fontSize: "$$fontSizeXL"
},
"&.mobile": {
".external_types": {
margin: "$$menuItemPadding"
}
}
};
s(t, "meshim_widget_components_chatWindow_profileMenu_Login");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
t.exports = function() {
function t(r, a, s, _, l) {
if (!(this instanceof t)) return new t(r, a, s, _, l);
a = a || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], u = d[0].call(this, r, a, null, n.mangleIDs(a, d[3]), d[4]), c = u || this;
n.set(a, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = void 0;
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(s);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
marginBottom: "$$margin",
color: "$$menuHeaderColor"
},
"&.item": {
margin: "$$menuItemPadding"
}
};
a(t, "meshim_widget_widgets_menu_Header");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_widgets_menu_Section = i(266);
e.__$$__meshim_widget_widgets_VisitorProfileCard = i(288);
e.__$$__meshim_widget_widgets_iconFont_Button = i(150);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = o(188), h = o(189), f = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_menu_Section, "", "", [ [ e.__$$__jx_ui_Widget, "external", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_VisitorProfileCard, "profile_card", "", [], {
id: "profile_card",
addClass: "profile_card"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_iconFont_Button, "sign_out", "", [], {
id: "sign_out",
icon: "dustbin",
title: c
} ] ], {
addClass: "controls"
} ] ], {
addClass: "positioned"
} ], [ e.__$$__jx_ui_Widget, "phone_container_external", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "phone_text_external", "", [], {
id: "phone_text_external",
addClass: "phone_text_external break_word"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_iconFont_Button, "edit_external_phone", "", [], {
id: "edit_external_phone",
icon: "pencil",
title: h
} ] ], {
addClass: "controls"
} ] ], {
addClass: "positioned"
} ] ], {
id: "phone_container_external",
addClass: "phone_container_external"
} ] ], {
id: "external"
} ], [ e.__$$__jx_ui_Widget, "name_email", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "name", "", [], {
id: "name",
addClass: "name break_word"
} ], [ e.__$$__jx_ui_Widget, "email", "", [], {
id: "email",
addClass: "email break_word"
} ], [ e.__$$__jx_ui_Widget, "phone_text", "", [], {
id: "phone_text",
addClass: "phone break_word"
} ] ], {
addClass: "name_email"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_iconFont_Button, "edit", "", [], {
id: "edit",
icon: "pencil",
title: h
} ], [ e.__$$__meshim_widget_widgets_iconFont_Button, "sign_out_name_email", "", [], {
id: "sign_out_name_email",
icon: "dustbin",
title: c
} ] ], {
addClass: "controls"
} ] ], {
id: "name_email",
addClass: "positioned"
} ] ], {
addClass: "flow"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], p = f[0].call(this, a, s, null, n.mangleIDs(s, f[3]), f[4]), g = p || this;
n.set(s, g);
var m = n.get(s + "__external"), $ = n.get(s + "__profile_card"), b = n.get(s + "__sign_out"), w = n.get(s + "__phone_container_external"), x = n.get(s + "__phone_text_external"), v = n.get(s + "__edit_external_phone"), y = n.get(s + "__name_email"), j = n.get(s + "__name"), C = n.get(s + "__email"), A = n.get(s + "__phone_text"), S = n.get(s + "__edit"), I = n.get(s + "__sign_out_name_email");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var k = function() {
function t() {
function t() {
if (e) {
w.setDisplay(o ? "" : "none");
x.setText(n || _.placeholder.phone);
x[n ? "removeClass" : "addClass"]("placeholder");
} else if (o && n) {
A.setText(n);
A.setDisplay("");
} else A.setDisplay("none");
}
function i() {
B.update(2);
}
$.setDataNode(d);
s.mobile(g);
s.rtl(g);
g.autobind(h, "value", function(t) {
a.isDefaultName(t) && (t = "");
j.setText(t || "");
j.setDisplay(t ? "" : "none");
});
g.autobind(f, "value", function(t) {
C.setText(t || "");
C.setDisplay(t ? "" : "none");
});
g.autobind(p, "value", function(e) {
n = e;
t();
});
g.autobind(k, "value", function(e) {
o = e;
t();
});
g.autobind(c, "value", function(i) {
e = i;
if (i) {
m.setDisplay("");
y.setDisplay("none");
} else {
m.setDisplay("none");
y.setDisplay("");
}
t();
});
S.on("click", i);
v.on("click", i);
x.on("click", function() {
n || i();
});
b.on("click", function() {
r.livechat.doExternalLogout();
});
I.on("click", function() {
d.write({
display_name$string: "",
email$string: "",
phone$string: ""
});
N.update("");
});
}
var e, n, o, r = i(40), a = i(48), s = i(95), _ = i(97), l = r.root.$("livechat"), d = l.$("profile"), u = l.$("ui"), c = d.$("auth").$("type$string"), h = d.$("display_name$string"), f = d.$("email$string"), p = d.$("phone$string"), k = l.$("settings").$("login").$("phone_display$bool"), B = u.$("chat_window").$("profile_menu").$("index$int"), N = u.$("chat_window").$("menu_stack_name$string");
t();
}();
for (var B in k) k.hasOwnProperty(B) && (g[B] = k[B]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(u);
"function" == typeof g.addChildren ? g.addChildren(d) : n.addChildren(g, d);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = a(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative"
},
".name_email": {
".name": {
paddingRight: "40px"
}
},
"&.rtl .name_email": {
".name": {
paddingRight: 0,
paddingLeft: "40px"
}
},
".controls": {
position: "absolute",
"top, right": 0,
".meshim_widget_widgets_iconFont_Button": {
display: "inline-block",
cursor: "pointer",
height: "100%",
paddingLeft: "5px",
color: "$$menuHeaderColor",
"&:hover, &:focus": {
color: "$$menuColor"
}
}
},
"&.rtl .controls": {
right: "auto",
left: 0,
".meshim_widget_widgets_iconFont_Button": {
paddingLeft: 0,
paddingRight: "5px"
}
},
".break_word": {
wordWrap: "break-word"
},
".name, .email, .phone": {
lineHeight: 1.5
},
".phone_text_external": {
paddingRight: "40px",
"&.placeholder": {
cursor: "pointer",
color: "$$inputPlaceholderColor",
fontStyle: "$$inputPlaceholderFontStyle"
}
},
"&.rtl .phone_text_external": {
paddingRight: 0,
paddingLeft: "40px"
},
".profile_card": {
cursor: "default",
".avatar_cell": {
width: "32px"
},
".content_cell": {
paddingLeft: "10px"
},
".profile_name": {
whiteSpace: "nowrap",
paddingRight: "20px"
}
},
"&.rtl .profile_card": {
".content_cell": {
paddingLeft: 0,
paddingRight: "10px"
},
".profile_name, .profile_email, .profile_title": {
paddingRight: 0,
paddingLeft: "20px"
}
},
".name": {
fontWeight: "bold"
},
".positioned": {
position: "relative"
},
".phone_container_external": {
"marginTop, paddingTop": "10px",
borderTopWidth: "$$menuBorderWidth",
borderTopStyle: "$$menuBorderStyle",
borderTopColor: "$$menuBorderColor"
},
"&.mobile": {
".controls": {
height: "100%",
".meshim_widget_widgets_iconFont_Button": {
"paddingRight, paddingLeft": "10px"
}
},
".name_email": {
".name, .email": {
paddingRight: "80px"
}
},
".profile_card": {
".profile_name, .profile_email, .profile_title": {
paddingRight: "40px"
}
},
".phone_text_external": {
lineHeight: "32px"
}
},
"&.mobile.rtl": {
".name_email": {
".name, .email": {
paddingRight: 0,
paddingLeft: "80px"
}
},
".profile_card": {
".profile_name, .profile_email, .profile_title": {
paddingRight: 0,
paddingLeft: "40px"
}
}
}
};
s(t, "meshim_widget_components_chatWindow_profileMenu_Status");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__meshim_widget_widgets_ProfileCard = i(192);
t.exports = function() {
function t(r, a, s, _, l) {
if (!(this instanceof t)) return new t(r, a, s, _, l);
a = a || n.generateID();
var d = [ e.__$$__meshim_widget_widgets_ProfileCard, "", "", [], {
xmlns: "meshim.widget.widgets"
} ], u = d[0].call(this, r, a, null, n.mangleIDs(a, d[3]), d[4]), c = u || this;
n.set(a, c);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var h = function() {
function t(t) {
i.call(c, t);
t && c.setTitleNode(t.$("email$string"));
}
function e() {
i = c.setDataNode || function() {};
c.setDataNode = t;
}
var i;
e();
}();
for (var f in h) h.hasOwnProperty(f) && (c[f] = h[f]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(s);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__meshim_widget_widgets_ProfileCard.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ProfileCard;
t.__jx__jcss = {};
a(t, "meshim_widget_widgets_VisitorProfileCard");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_ConnAwareForm = i(139);
e.__$$__meshim_widget_widgets_menu_Section = i(266);
e.__$$__meshim_widget_widgets_menu_Header = i(286);
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_widgets_TextField = i(127);
e.__$$__meshim_widget_widgets_ErrorMessage = i(151);
e.__$$__meshim_widget_widgets_EmailField = i(152);
e.__$$__meshim_widget_widgets_PhoneField = i(154);
e.__$$__meshim_widget_widgets_Controls = i(257);
e.__$$__meshim_widget_widgets_ConnAwareSubmit = i(173);
e.__$$__meshim_widget_widgets_Button = i(157);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = o(190), h = o(191), f = o(192), p = o(193), g = o(194), m = o(195), $ = o(196), b = o(197), w = o(198), x = [ e.__$$__meshim_widget_widgets_ConnAwareForm, "", "", [ [ e.__$$__meshim_widget_widgets_menu_Section, "internal_section", "", [ [ e.__$$__meshim_widget_widgets_menu_Header, "label", "", [ c ], {
id: "label",
addClass: "label",
selectable: "false"
} ], [ e.__$$__jx_ui_Widget, "name_email_container", "", [ [ e.__$$__meshim_widget_widgets_TextField, "name", "", [], {
id: "name",
placeholder: h,
required: "true",
addClass: "standalone mobile_error_icon"
} ], [ e.__$$__meshim_widget_widgets_ErrorMessage, "name_error", "", [ f ], {
id: "name_error",
useDisplay: "true"
} ], [ e.__$$__meshim_widget_widgets_EmailField, "email", "", [], {
id: "email",
placeholder: p,
required: "true",
addClass: "standalone mobile_error_icon"
} ], [ e.__$$__meshim_widget_widgets_ErrorMessage, "email_error", "", [ g ], {
id: "email_error",
useDisplay: "true"
} ] ], {
id: "name_email_container"
} ], [ e.__$$__jx_ui_Widget, "phone_container", "", [ [ e.__$$__meshim_widget_widgets_PhoneField, "phone", "", [], {
id: "phone",
placeholder: m,
addClass: "standalone mobile_error_icon"
} ], [ e.__$$__meshim_widget_widgets_ErrorMessage, "phone_error", "", [ $ ], {
id: "phone_error",
useDisplay: "true"
} ] ], {
id: "phone_container"
} ], [ e.__$$__meshim_widget_widgets_Controls, "", "", [ [ e.__$$__meshim_widget_widgets_ConnAwareSubmit, "", "", [], {
placement: "primary",
value: b,
addClass: "save short wide"
} ], [ e.__$$__meshim_widget_widgets_Button, "cancel", "", [ w ], {
placement: "secondary",
id: "cancel",
addClass: "cancel secondary wide"
} ] ], {
addClass: "controls_margin"
} ] ], {
id: "internal_section",
addClass: "flow"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu",
noValidate: "true"
} ], v = x[0].call(this, a, s, null, n.mangleIDs(s, x[3]), x[4]), y = v || this;
n.set(s, y);
var j = n.get(s + "__internal_section"), C = n.get(s + "__label"), A = n.get(s + "__name_email_container"), S = n.get(s + "__name"), I = n.get(s + "__name_error"), k = n.get(s + "__email"), B = n.get(s + "__email_error"), N = n.get(s + "__phone_container"), T = n.get(s + "__phone"), E = n.get(s + "__phone_error"), D = n.get(s + "__cancel");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var O = function() {
function t() {
l.mobile(y);
S.setLabelElement(C).setErrorMessageElement(I).setValidity(!0);
k.setErrorMessageElement(B).setValidity(!0);
T.setErrorMessageElement(E).setValidity(!0);
y.autobind(p, "value", function(t) {
r = t;
});
y.autobind(h, "value", function(t) {
o = t;
A.setDisplay(t ? "none" : "");
});
y.autobind(g, "value", function(t) {
_.isDefaultName(t) && (t = "");
t = t || "";
S.setValue(t);
S.setInitialValue(t);
t && S.hidePlaceholder();
});
y.autobind(m, "value", function(t) {
t = t || "";
k.setValue(t);
k.setInitialValue(t);
t && k.hidePlaceholder();
});
y.autobind($, "value", function(t) {
t = t || "";
T.setValue(t);
T.setInitialValue(t);
t && T.hidePlaceholder();
});
y.autobind(O, "value", function(t) {
a = t;
N.setDisplay(t ? "" : "none");
});
y.autobind(b, "value", function(t) {
"profile_menu" == t && e();
});
y.autobind(w, "value", function(t) {
2 == t && e();
});
D.on("click", function(t) {
t.preventDefault();
b.update("");
});
y.onConnectedAndSubmit(function(t) {
t.preventDefault();
if (y.validate(!0)) {
var e = {};
if (!o) {
e.name = S.getValue().trim();
e.email = k.getValue().trim();
}
a && (e.phone = T.getValue().trim());
s.livechat.updateProfile(e);
b.update("");
}
});
y.autobind(v, "value", n);
y.autobind(P, "value", function() {
var t = P.getValue("profile_required$bool"), e = P.$("form").$("4").getValue("required$bool");
S.setRequired(t);
k.setRequired(t);
T.setRequired(e);
});
}
function e() {
S.reset();
k.reset();
T.reset();
}
function n() {
var t = v.getValue();
t && j.setDisplay(t.email$bool ? "" : "none");
}
var o, r, a, s = i(40), _ = i(48), l = i(95), d = s.root.$("livechat"), u = d.$("profile"), c = d.$("ui"), h = u.$("auth").$("type$string"), f = c.$("chat_window"), p = u.$("logged_in$bool"), g = u.$("display_name$string"), m = u.$("email$string"), $ = u.$("phone$string"), b = f.$("menu_stack_name$string"), w = f.$("profile_menu").$("index$int"), x = d.$("settings").$("login"), v = x.$("allowed_types"), O = x.$("phone_display$bool"), P = d.$("settings").$("forms").$("pre_chat_form");
t();
}();
for (var P in O) O.hasOwnProperty(P) && (y[P] = O[P]);
y.fire && y.fire("init");
y.setStyle && y.setStyle(l);
y.setAttributes && y.setAttributes(u);
"function" == typeof y.addChildren ? y.addChildren(d) : n.addChildren(y, d);
if (y !== this) {
y.__jx__constructor = _;
y.__jx__native = !1;
}
return y;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_ConnAwareForm.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_ConnAwareForm;
t.__jx__jcss = {
".cancel": {
display: "none"
},
".controls_margin": {
marginTop: "10px"
},
"&.mobile": {
".cancel": {
display: "inline-block"
},
".external": {
marginBottom: "20px",
".header": {
padding: "10px 0",
borderTop: "none"
}
}
}
};
s(t, "meshim_widget_components_chatWindow_profileMenu_Edit");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_Menu = i(265);
e.__$$__meshim_widget_widgets_menu_Section = i(266);
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_widgets_Controls = i(257);
e.__$$__meshim_widget_widgets_Button = i(157);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = o(134), h = o(135), f = [ e.__$$__meshim_widget_widgets_Menu, "", "", [ [ e.__$$__meshim_widget_widgets_menu_Section, "", "", [ [ e.__$$__jx_ui_Widget, "message", "", [], {
id: "message",
addClass: "message"
} ], [ e.__$$__meshim_widget_widgets_Controls, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "end_chat", "", [ c ], {
placement: "primary",
id: "end_chat",
addClass: "wide short"
} ], [ e.__$$__meshim_widget_widgets_Button, "cancel", "", [ h ], {
placement: "secondary",
id: "cancel",
addClass: "wide secondary short"
} ] ], {} ] ], {
addClass: "flow"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], p = f[0].call(this, a, s, null, n.mangleIDs(s, f[3]), f[4]), g = p || this;
n.set(s, g);
var m = n.get(s + "__message"), $ = n.get(s + "__end_chat"), b = n.get(s + "__cancel");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var w = function() {
function t() {
g.autobind(s, "value", function(t) {
m.setText(t || n.end_chat_menu_message || "");
});
$.on("click", function() {
if (_.getValue() && d.getValue() && !u.getValue()) {
c.update(!0);
a.update("rating_panel");
} else e.livechat.endChat();
r.update("");
});
b.on("click", function() {
r.update("");
});
}
var e = i(40), n = i(97), o = e.root.$("livechat"), r = o.$("ui").$("chat_window").$("menu_stack_name$string"), a = o.$("ui").$("chat_window").$("main_stack_name$string"), s = o.$("settings").$("end_chat_menu").$("message$string"), _ = o.$("settings").$("rating").$("enabled$bool"), l = o.$("channel"), d = l.$("served$bool"), u = l.$("rating$string"), c = o.$("ui").$("chat_window").$("rating_panel").$("end_chat$bool");
t();
}();
for (var x in w) w.hasOwnProperty(x) && (g[x] = w[x]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(u);
"function" == typeof g.addChildren ? g.addChildren(d) : n.addChildren(g, d);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_Menu.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Menu;
t.__jx__jcss = {
".message": {
marginBottom: "10px"
}
};
s(t, "meshim_widget_components_chatWindow_EndChatMenu");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_Menu = i(265);
e.__$$__meshim_widget_widgets_menu_Section = i(266);
e.__$$__meshim_widget_widgets_ConnAwareForm = i(139);
e.__$$__meshim_widget_widgets_menu_Header = i(286);
e.__$$__meshim_widget_widgets_EmailField = i(152);
e.__$$__meshim_widget_widgets_ErrorMessage = i(151);
e.__$$__meshim_widget_widgets_Controls = i(257);
e.__$$__meshim_widget_widgets_ConnAwareSubmit = i(173);
e.__$$__meshim_widget_widgets_Button = i(157);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = o(136), h = o(137), f = o(138), p = o(139), g = o(140), m = [ e.__$$__meshim_widget_widgets_Menu, "", "", [ [ e.__$$__meshim_widget_widgets_menu_Section, "", "", [ [ e.__$$__meshim_widget_widgets_ConnAwareForm, "form", "", [ [ e.__$$__meshim_widget_widgets_menu_Header, "label", "", [ c ], {
id: "label",
addClass: "label",
selectable: "false"
} ], [ e.__$$__meshim_widget_widgets_EmailField, "email", "", [], {
id: "email",
addClass: "email mobile_error_icon",
placeholder: h,
required: "true"
} ], [ e.__$$__meshim_widget_widgets_ErrorMessage, "error_message", "", [ f ], {
id: "error_message",
useDisplay: "true"
} ], [ e.__$$__meshim_widget_widgets_Controls, "", "", [ [ e.__$$__meshim_widget_widgets_ConnAwareSubmit, "", "", [], {
placement: "primary",
value: p,
addClass: "short wide"
} ], [ e.__$$__meshim_widget_widgets_Button, "cancel", "", [ g ], {
placement: "secondary",
id: "cancel",
addClass: "secondary short wide"
} ] ], {
addClass: "controls_margin"
} ] ], {
id: "form",
noValidate: "true"
} ] ], {
addClass: "flow"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], $ = m[0].call(this, a, s, null, n.mangleIDs(s, m[3]), m[4]), b = $ || this;
n.set(s, b);
var w = n.get(s + "__form"), x = n.get(s + "__label"), v = n.get(s + "__email"), y = n.get(s + "__error_message"), j = n.get(s + "__cancel");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var C = function() {
function t() {
v.setLabelElement(x).setErrorMessageElement(y).setValidity(!0);
w.onConnectedAndSubmit(function(t) {
t.preventDefault();
if (v.validate(!0)) {
var e = v.getValue();
l.getValue() ? r.write({
email_transcript$string: e
}) : r.write({
email_last_transcript$string: e
});
s.update(e);
a.update("email_transcript_notification");
v.reset();
}
});
j.on("click", function() {
a.update("");
});
b.autobind(a, "value", function(t) {
if (t == b.getName()) {
v.setValidity(!0);
v.focus();
}
});
b.autobind(_, "value", function(t) {
d.activeElement !== v.dom && v.setValue(t || "");
});
}
var e = i(40), n = e.root.$("livechat"), o = n.$("ui").$("chat_window"), r = n.$("channel"), a = o.$("menu_stack_name$string"), s = o.$("email_transcript_notification").$("last_sent_email$string"), _ = n.$("profile").$("email$string"), l = r.$("chatting$bool"), d = b.dom.ownerDocument;
t();
}();
for (var A in C) C.hasOwnProperty(A) && (b[A] = C[A]);
b.fire && b.fire("init");
b.setStyle && b.setStyle(l);
b.setAttributes && b.setAttributes(u);
"function" == typeof b.addChildren ? b.addChildren(d) : n.addChildren(b, d);
if (b !== this) {
b.__jx__constructor = _;
b.__jx__native = !1;
}
return b;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_Menu.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Menu;
t.__jx__jcss = {
".controls_margin": {
marginTop: "10px"
}
};
s(t, "meshim_widget_components_chatWindow_EmailTranscriptMenu");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s, _, l) {
e.__$$__meshim_widget_widgets_Menu = i(265);
e.__$$__meshim_widget_widgets_menu_Section = i(266);
e.__$$__jx_ui_Localizer = i(121);
e.__$$__jx_ui_Label = i(101);
t.exports = function() {
function t(_, l, u, c, h) {
if (!(this instanceof t)) return new t(_, l, u, c, h);
l = l || n.generateID();
var f = o(141), p = [ e.__$$__meshim_widget_widgets_Menu, "", "", [ [ e.__$$__meshim_widget_widgets_menu_Section, "", "", [ [ e.__$$__jx_ui_Localizer, "localizer", "", [ [ e.__$$__jx_ui_Label, "", "", [], {
addClass: "email"
} ] ], {
id: "localizer",
delimiter: "@@@@"
} ] ], {
addClass: "flow"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:menu": "meshim.widget.widgets.menu"
} ], g = p[0].call(this, _, l, null, n.mangleIDs(l, p[3]), p[4]), m = g || this;
n.set(l, m);
var $ = n.get(l + "__localizer");
if (!t.__jx__jcss_generated) {
r.generate(_, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var b = function() {
function t() {
m.autobind(u, "value", function(t) {
l = t;
d && window.clearTimeout(d);
if (t == m.getName()) {
_ && s(function() {
m.addClass("fade_out");
});
d = window.setTimeout(e, r);
} else _ && s(function() {
m.removeClass("fade_out");
});
});
m.autobind(c, "value", function(t) {
$.setContent(f.replace("<email>", t));
});
o.onTransitionEnd(m, m, e);
}
function e() {
"email_transcript_notification" == l && u.update("");
}
var n = i(40), o = i(48), r = 4100, _ = o.isStyleSupported("transition");
a.isFF && (_ = !1);
var l, d, u = n.root.$("livechat").$("ui").$("chat_window").$("menu_stack_name$string"), c = n.root.$("livechat").$("ui").$("chat_window").$("email_transcript_notification").$("last_sent_email$string");
t();
}();
for (var w in b) b.hasOwnProperty(w) && (m[w] = b[w]);
m.fire && m.fire("init");
m.setStyle && m.setStyle(u);
m.setAttributes && m.setAttributes(h);
"function" == typeof m.addChildren ? m.addChildren(c) : n.addChildren(m, c);
if (m !== this) {
m.__jx__constructor = d;
m.__jx__native = !1;
}
return m;
}
var d;
t.prototype = _(e.__$$__meshim_widget_widgets_Menu.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Menu;
t.__jx__jcss = {
"**self": {
transition: "opacity 0.5s linear 3.5s",
opacity: 1,
"&.fade_out": {
opacity: 0
}
},
".email": {
fontWeight: "bold"
}
};
l(t, "meshim_widget_components_chatWindow_EmailTranscriptNotification");
d = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(7), i(12), i(14), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(e, i, n, a, s) {
if (!(this instanceof t)) return new t(e, i, n, a, s);
r.call(this, e, i, n, a, s);
this.setBase64(o);
this.setFont("zopim");
}
var o = {
eot: "aykAAKsoAAACAAIABAAAAAIABQMAAAAAAAABAJABAAAEAExQAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAN1f+DwAAAAAAAAAAAAAAAAAAAAAAAAoAegBvAHAAaQBtAAAADgBSAGUAZwB1AGwAYQByAAAAFgBWAGUAcgBzAGkAbwBuACAAMQAuADAAAAAaAHoAbwBwAGkAbQAgAFIAZQBnAHUAbABhAHIAAAAAAEJTR1AAAAAAAAAAAAAAAAAAAAAAAwBH5AAgIgAgJgAV8hLN6YrIYNhXyWhLcUp/eCJVOnIsL5Y0XJvcFQ4MbGnS29PxiMqaDwadQMdMRk20HbaAFMMrFDPqK4wOstzMEitySzAK14NfkGZann0EllN/ZsUz0jK+qhwe3GMbQ7QbhY0mN+OrwNB6ocb9l0JLEX6oAe1yt6eo1VBg9DtiCAQRAx4qCdtyuVhA+EL5vRbTeqxWTvnbjTmReVXAS2fSV1pueeVYROkh4NY1H3GBp+rdf9vfsmOmo2fAsDfv7aPIs+iODh6AFtCuwBqM3PqZgSa3cZUUXgPxmRVRW4Ek0SoQbxOezVlMeQIv3nyivUZnQXemSPvwhEyCCuyuU8E+KWuob4d5Jwwm6aHCh+yJozeki0ARyby7ckRFhEPA6eO7jVzzmEr2b1OyschkFay5GHovpwfFcukp5Tw3PasonwJfM1hCcBpQ/oYNmfz5xYHaYdmEWHZw7NIN3bt1CISFFMoPBU/XCuSomFArSKZg8pRWo9hntAjX0cqPdUFqB8N+SURLPlblgICX9FMNTpJ/Y/FQ9iQk/j+fVaU5BexEKOcJP+1pA2TtOY0AB6YJLChngZENiOzQA5DABuSBKACj3Ft/MinTDCD4IBkTtgLxIXcdl+mNDGna9LTALoLtiNKTANY/CUmHLxlnKTDQQIjsxNtIk/MDiUbBWPTJICKgr2fAYdGbPlwDNusDqGzpG0Dh3Gu3ABN1hfIuAC39T6gmARFhZ8zQnXNMYmxkhFKZuWlekzDioxbeZVF7qNWg3ELVXNpG5RH8rP0mskFOBa1L0u+KqedDf9ltrGL6i2e+WD0l2HwamtTCWLVQfGItWq7cnJ9fpsHUnjzsCfWAgN8SS8VPS3NyKJXGO8FNwEHlys7aDBJLnYGH7Udi5AdKHMSrwx9vih1D6LG2LDreJccOkJkiDcWHKMmG68SJiiCJHxGIK+1aQ6IWDC4kgBK38doImqRUjQFfRuhAsZVLfX70Hu8iM1+5xWJEYLS7lP7bTKZ2xkmIpNH5Q+ct6LzaII/kL9gwwJjARJ5mQA/wnnQw5GTRCV3mK3XaS6RGTixeOCh8YxuPo5d3hnUwsB4SINlkeqGvUmnDaMDBQODD08ReJNeCRRvSkiLt+2Nq5PnswXW5YSDVDt1AnFZl4/+ZJIgHtktxPGlhFg5Q6iLDRIKOK5ReHHNZo42ubVE1ebGoYLV2WAUtA5leK8/48RAWbAgH16oWy7mkpBn2rg+KTUmaGjWKEuDRgYmx84WahIW46e64ZXa8OxseoFzUgPYWBBXQRLau7FjZMGDcWTUMQd6MKFZuG0ehlhuWcJD0kvohJaWIl285aW7DJBbSgdZf5cgNNIqwMw2g4CjtZRFFOdJ4dny3XRYngLqGwxwi1ZMLtpARvtNvqVbLFC8MdKhobhYS7129DYlfbadqw2V2CpfkK6Ik2wsa0nHAaCmmesG+9xLIN2vNtiea6zpRhM3hanox6mizd3q2VFkUq8JVUXVTmPGykCcrzaJK9Yt0Qaiaq6zomzq+sNuGORqlLHGrbyLoKIM1EFWpAN9POoVGCFmDAotQ3jNH9wpMmiBim/Cz07pv8QCzLMcLEpewysiyKMI8I0UGs2T3HYTCuQEHYzU4qWSgTakYRpQcN1Bc6F5hmWgeWJqqX6WJxzjIFNlk6MEWQv0b/zP9BMFgKaUMf9POc+eRtDkI3L9nHshBrA+6UHId04A2RPoBo1HZMIqx0gzwwRSL6eJQMenj8thgtfcAvEGFGnf09rDhNO4He1W16iBz9mK4xkMHn9gTUWxbC557j362iKagb1KBglS4nfQzWjaRAGjKMxCc9Cb9INherBFYlyaAaTOBT5jfQn+pPCKYeuT4kyQCLFWyhby7NltEx9Wn6yBlYmO4mAvTxjIQU8ogiMywgZT41jTa6XnYea3B3CvTLHHXvNS/Y7bzLami75NMxxEKxqc40Bo/qCmCKPAe1PDqoGSDcd6dTF4DPaPRw1KaZmDbHUifUN8WhAC9vCpjFkiikqpNlAkckSBgCoHyW4kFJGR5bWeyXPp4oOBJPduQWfNKD4ZYlhNy837aHochqxduW1aShnzLl6ZZjcMeNTsZpJkOXDUT8Y/MDBSnUJgwyBAoFXoAHb5AoOsqMgkNMj7PXTCSKudVJCw0ah5L73SolPyYtkDJHKRtCRxNuFt6IiRKdlDojpCFwUNnCgzFOfnyUFhKbEhdaPApbAEhKhyMBOCrh4tDhhQNh1SZ6wYK0aTAplCP3KUcKYm+k8QdLYdwIVFtGnD0SUIIAJPv8SGXUDLPbhM0wuKpnCRorsYbioF/j8JH9mFsEqOZ4uyNtTCpCXoNu4MsGCxJ0SGkGLuWAkjExijWUKBnkwl+XZdRiZtWBgBVEDYY5aqMe3LMBzmPl6ed+NRGpc8056lGRG/szK+jS2a/aKSoHMPilDOioscR41AXs2zsjMOfrrEn2hNKMEKwe7+VcTq4JnLyQ3Tj2fEJ8Q9kn/ISnN24iTMzm1NmzFutkQRoSAr1oWI2kd5cZOvutN++Va0lWyvz9sJP1lrX2QZq4YLy5hO2iSZ37Sq7wgX9UHYjbWexcrpxt9n53oIsT3PcEYymxKYiIOn+aIW7TtBCjBkhYN+B5TZaj4vOzkDrOJeDVgS+BMxyI6+Ty02MJesTzsXFcaI7oKQoYNpccyAo69jPH6esPJHlHySRcFdjjASEOKGOGZDahSKrEyJF50d7wqkYBO0RCigoJpHqV86ZfidMsGWGA+WQXrK9dN61ynVf8CV6Acck3dMC6sYMkgLmyvM2a/Th5nUbMNIlGzuFuQSpEW+BMcYcWxMQelZGcJokAtSXx4URBV6ayf0d5hk0eqPklbvxhCdFbsXGBOB37nXnvvAoSW0zWJpsynD5NQ0lkzTbIoPZt4WNz0BUuD/I0L0glCDPHHdMfGZ+qJBRpCca9UST3MIEaPHQWLcHJnCSq4fF0AkcAEnp8Dz2Bl4TS/dn0AM6hSNBhSDQ59MPKSrsnR2i7bTWB/qSMOKy5hxGF4rZyDpUjzKemKOHdBN9fBwhxjOoCsanMCVYau+VAtnjQcdIpIUGYxAK/3B5Ixxti7Hx9fmBaeGWhY1KRWiw8GYTagC1LanvK/HNRBdNHAZ1lI4Ys89ip9eAUsqdMTWTw2ANWlusjB9BWQ2j5qrryIjFDCk+fe8K2erFS0mI9rIFg5yyYZaJvMRgvpkw0bCneCTZMHAmT4sYMeRLeB5ilayc5rjEqUjozWXgp0wZjQJzUaEMPHlSyw8vxhc+t+bQt/Mu54bFv6s45vjwJcaBdYiHRRq4ZVYTCy3OIw1m+I1NAdpp6ZMM2ZNI6ctk6ExHBaeDPDOYVmKa4cvRTbkvSOLg0gn+rpTVOB8LnwaTiOfkbMygOeTZNZqqiE6wDXbAPIkljRNGsvNznqART69rvHB9JJAqrKC0MIZRJ6QGSscUhpbk32zDFlyTMdK6hw8AHFMHDLmskWt2TVC4JBrEC7P34WR5CMLle5agqn57vhAAc567cYskYU4ywiEf49youzW5aU4/+PTbNLydiopKO04zGdF7iuRAaJB4ULXedzAtRJpAWoo5eTAR0ZCTF0ApvGkGXrUyYCoq4OWR1OkTnKQESOjVtRItDm1Vib/xXwHQreqUtz1Hbkg2hSKYD7q4SdcoE0Dwj4GC7F+aTWC+Gb5GL1P44SS+Lvt2/J9320mbGnDhVInhsnBOpWkZQTurqm2gZkEkjIL5CEEZ5LDtiEnhEJJhDKTWsk63wRsGPUgFlgNS74JVlHAtKpGd9HHlXfnnl9W2Q51UEisCxmSuq4aUGSb120u+y2SBuF+BB44Y7e1s3XJMXi/iKUwtChxpZOzYCIo16CL7HbVmrGHQMVTMidL4YPhQUE74EHiegAGfRjkRYEEbWYDHHwIQ9y4087M/yaDrCHcTiH/DAz2HMucX4640xdG+l12p6xSEzAW1G6Wa2mEC9/Kd4w8tLytAB30bor5OUNoZ1O4DMyr3yREzPzFVBaMCihU2I3gtR24/FQ78XC2yx3DosDCbvEJOHUdOOCfc/vHzWW6feJCyyIed0lY4DcnYAF3sqekSZWJx045nAWeEuTAGZqGob/faoTZTyAO2cGHFnQr5ut9AY8BQR25PB7tucWjgTnY8oGlsZcHBMTccjtBFsmA48Qbu+6OVd5NJ0amqSUlirgSzA7EBy+cavw4LwjkOUWCAiR0W2Gw4c9k3cbinNP5R6996s/23fASkKEGLVRUkgqDnmeUKfdthlCqnloYMKI0vWARxRp7xQJwDAcgH4RTyh7ps/Dlu8Ne8HcMWFvTUOVGqDlMAD86bnclYGEM/0oZjBOQ1kI3nQ9IEJ9SaZWVIIuKOsKZCzi0Y5nm2Vd3GvGSLMXttQASIUVxLBq8YKHMafdmV2i1m/KPhhsT0qxpSUa0zpBLisbsSblSiDr7/Z0jJ0bls/E/DJJNim1rRewSOki2knnLrm6rvn8hk0vhQBq68kD5I9iA0dEHQrcLD3FgRbDA7I2l3Z5zKKwN59jXjNhoYYA5OFWlzEY3C6ycipnqtsJixqovD4LCNBqh5sHo1mI8cMWPBYQ7RVcmk//jXBh+VO+FLSQM1f8lmvw8pTMD4LLkiQd9TLFdB6siXZWV1xdsc/747QMKEtblK4r+wQ90VmDOS2TVKNtRyRCU3v8+YGMZdozNp9xo0w0Mk9E6avuWZ6TBOgSJUZkfcgMCVt2XPrRENihNlv1YVhBck8IenhMSBqYpzgYHzW1B7Bxg9aLqSRVkxc8xsXaOKbXSQEnCMEmyaWstZAfgBp6yAWGU26itQD1s0wR6IcG/feCLswrmpD7jpmmVILgbrsFwqcV7NCpOpw6oBGSoCPjZTABQeA4RBxcqVKhioMMcirOKd8fdDjKyRXDK1CkPCxjsOP7J6eqSnBKQxQF3dZWphTZdHVYEHQbUEdK0njDwKmkgpQPETrJO4ACJkmiXnevddaxj1HaRF/+dOwVl0KxYjgerNYKBafZg+se59CXLG4mTIyNtDHsYAfOhGs+yiHWK4nSfo60AR7XEnm55oX1RrXYDs+Wp7HAhCPwSjBW266SzwwNxCpl3PMjBw9GhLiZAbGQu4TDirEiK8d5kKX8G6tbXxBNve+DOgWF/d8cOUILpQ0650fhQbxvlYWFFKihGbojjM4z5G2y/Z+wLx3HLwngIsDP2+2gazVJ+BIFJr5c6nzDAAJQp92Im8UeF+DZlEBa7iYSjC1I1PkrpRWJcnsTB5VnbL147kxcTePe0CkNzAJmaOTIZR64wRtich/Af1ppKhQLnfbiCMWDqAZhABsKWgZ9M5rCqFbx6ZXRcCpTcqt4fcUDcEtw/SEjqje6BvMWzVJFBJA0re0XtmCWK+zs2BjHOwRVAaygEry3DfnLwhMGiKB5Wv5YArq6s3lCf45GNMSgkW6GvYixGnzqsaRH34wiCGEI//nJaQAP4hcGtvkZ0zChGviCJQIP4wSbPF5eRfIJB5zjCB2LToFldCDrrQxQxrRVRAK3jJsmM46sYL4WhACS0cKpTdSYMBE0TGY0MiIEKkA1RqpShJtk43gXKJfC6aRtzdY+OPLOeSG058UMBlUWHK2rD9UovRbFlnoFR9+6lUKlj8LDfI5zfiaGaSqEN6GM+NcVNmzeAzsR9Qcb+TDAYgEN+FAyKdq5CDq31RWStsEIa8GKWJdgC8ntyvcwrKQh6GmpbT5wVVk7XeP0EBcVebco5DvTmJC8GxIAmRSD4h6B1wcvWvMMPBQR3WrJDrDiSEaCjJJTA+miw67hciMUbzWBeB/BKCuUrvsCQf0wK7VJks4oF1pNKGujMWDyAVqiECxOGWMg712moJA7vsc3MJJGrY/9X8NdFUDBfR1gNx9mrhWyX3IKSKE+hK2AdrGxclZXQAmeUJ54Xwbi+tUSm6U/EXNW2WeleGnzASq1Po9l6VqMqIFpZTdAvGYavObJA+65o20eELpV4ZGan+yaH4AuQaq/MTQV439bxtTefZztqUaZRhEunWnHnn7voivHOjhIFZOeoCB0gm/uQEJ/wRkHTjtrkQdE3EwJJ0QdCIYGRNmsKcjJFsKmNfayh4dasCJNmc53oVsWIHUFiWyzACvLAYsRi05cq66uRC5Qjp9obqixfmES8OV4TfU2imZeghPxih8PZVZRen5HM+2UePnCLNcSP8MujZOrOhnDBLeQzRO/C7NfB2jH2RLGuTXyyZMR9hxS/o2aYbZHHmQDwoWEoMdQI4FODP8RZjhe1Ju/MZCE5tiWj5gRAFzHCndTTWb4Y2SRyjDWDapDQCUMCyKT1Q/QELmLVXWy/GwedXHomXCMPUmEKTClLmm9JySuG6lklkjcJHAJoxdPckrxXeTZCc+Be27JhoJJVbyEcaakCcj5sEG8wEaL/wBgEtghmrNh7vNR2O98zAabuuA4m5CD1TiumRS4uLmHLBZIUTBqw5xgbaSM5CNClIEz5iLBZLD68lHzJTjc0LN5Mh5UufUR+XXF9fyFTgtWDptCdw1AXDEhDXowIBVv4cT6eo86gzQvMsF3qzlYWDuCqUN/EZR+Mco7a6ARaDYkHLCRxWkiQJIlabaLDdshCwsgdntXFP4tg8LJxkCiEWVrqUxaChQiZGYqh06fi+tTPwqYKxPG5LZ9EOMsuWwCA0GpyTL24WaGkp9mYGP1AYcUxKNaYJV1CsbLDQxchTtA5QSnWu7kyYvmkfDxdRruFV6IlLDHtKMS1xmSWgKjeGqPirBjO3NIHJ0IPikMSVshZ0wv/mb4u7P1zLewNDNeGALwUIHHtM4aQhFD4K0E0kO1jtu9qLGk999hvikEqS2CujcbnF/O79tJwn0ymaZV0GeLF4mBsA9oueHwjXmFYvddoR5SiVRyh6UUOzGmRmRrtuWEX4k2dqkY/0K29XmCOknmxlX5LU20fgvaPwJOywFWII0DrPZkJ8u9sH+XVPJVIl9hEAL/og3sar+AdxDeNeJoVOXojdFkMxgDgBgiC9LMR1u6lcx+sG3MZbAc94liRd5FGXvscxj2UwDIEpKV2ff/C6tj2KL0/vAZWCjAcWJicjOFIs3gWPjmchJ6OIEKQ8Jh2UVpuO+HU7rCxjwT3o/CsZUbxibHYoFLuCJqSOQYyi2KE5tH8F8GF0P5x+4wQQN6AY6kwAPoF/HJaeUrbsR7Dp3VsE2hpcWU+RTy82lSlx7hlxif/hYNVdJDwylKkXWg/7vWY4VnlmbnHclAEABn2cpCM71BWVoqHAqysL92YdOf5HfBP/8FyQKFXwoQbyCIe6bJX8kg7niecU+dZ5Nw5iuzA3w4rzTOTnMJ+OPwc+OeY0bo23/u9ZTIgPs/nobh5gObExH5oLgJJ4jLJYHQ5Go/mjBTBKM2jJ4EjwAj0aqbSwzelEBAQNHzCJYqh70MlHvBEyFlcGRKR7RCN2FZJ0QUrZHXAVb6NeC/AGTJH2xK5M8iSntB0SydDjXLZy7lpKGyq4Qg8OR2SxHXRFQkEcSZG4pnceTpHCFD3jbQvmI5i/2CKX9cb1ixUVh6bKkp8LCfUZCGayTLu83gTi+sfCbOUrDCy3GObGWx8l1ORzW1XmvRKK6ZnqVujXOH25cL0PRuBwCm8utLBeEAYoGy3IDiW3hBrlxZ8IQdAoDAGTxD+w6lVBM791pQWR+NLUQwASwDnIcwhssdYPAQHxUhELa0rYuZE8DDDiFz2OSzF7hsJumRonfIvNghQSrVzWdYczbT5GplQGjuYpzhoOcANMhun/dHBp4NwaWbg4GQQI/PKgckMNhFKVxANhFmFg4VCJ2REkDpxKKsIIteBYHYX0dE4sDZAA1Fek+DDiSEtlxWdya7oPrlnFa/13DDnbmZrqQwVNvcegecjgRybZT10nvRD3+U3sIVAK2y1KW7YlOZj4t9BEONhfbjwqQo/CYuRV7OQB9xfyS2KjfBk6V3cFM01Il7xYoPCUYvJoMNNZYMxHRDqBGoFGCY837QKhrQ+3hgvBmoJdPQIKiSY+gIBjBL8HvcvxH/swgC5F+0QQEgW5EIr1GiEIJ7FohO726Px2HpXhOs4Es7aHxZ/TlZRqwI5W0HTTF94UNdTQl7iy5N/uQ5JgkSZYiL38Ltu5fVHkvSm7uhehGfwgDFFdAG+N7g+PryxYXVASmqZqmjK5oC2ghwTC80fUNIBWo4YYJPTRrZqhu5T8W4IlmTJXKzWRaDhZjlobOvv8YshTdlxCLssQquGLQSSegsAFwWrQOqnBsWapv9uKBPTGsl+hUa2BxqonGDTjajw/iB/FSqKBydHyEhvcLQyrqwjKH1EyGouB+a894nDdAiuf7EhHew3RFPPeI5h2wasQJUNNpPHEdJfdI4XDvKrKRD0mFyaXjKv1QGVAwolAwRdYaCc6j2As5CgI34kW9TyiCcMxgo+TnRUF3aEYAZA1vj067TdRVEbVXGLv16UxsHeEUhP/eyDAt84vwPja4GWCBAZIQaNGo5+rP+Y4I9IfOLeE7zuljYm4ZcXqwiycmyrd1Mgss8LIjItDSG4tRFU+jSliEGtmPhDOYdt02VhcwL+IwLrmyRXEUP9JgoIYB/fnq/kOJMFch2EA1IlYXgvSHoICyLIXfaRB8YziupG59kbmiHvIDjnMzcVpyXNK8cQ12wqMYn1OfvhCGaqGnd8MSwq8kUB59lbJJiqkfkDoa7gcbfG/OZEma7d1IqYd2DmhwHIlRqoairevabhVxLph0uN7eDA0pKPhOPBh/PPw62A0zBCYlF/ysYw0c9m7QAqjnj7m0FZI/EoAp5y2GmLO5FmFLIJ4Gnj2c47DK2hw5B3jKl9ZuVm9MqbB886F43z/guddzkPV4/2GSXcSVggW7MgSzbSCXfADpsTIRQh6C4/yHxtzhwIitjUjTZ5HJPgaSohKnktG4HOMNGLsC3endqH86VxKREMs7eCf8wMJ2Xch+KVGxTU8Cf94gzsY1qgmU2IunBevYpIRtezaxgs6jObrqcNFZXQpep4wheA0exGAGY6FMHOSYZKh40m4OuxZCnH/1h/1CRqSJRK26mVIuZ7RO4JSKfmTvIBkUHfAEEmDSp2lasuhGrCZ+2wKNw2CBZpwuh7r8egIguBplY+PU2IlaQfFFc/k/dm5RtEYlhCFIbqzyE0JUx+qYdI+m7IuUb8N4gE1nAqqsD5bsS46IcVIWSRg7AzMuIT55H4RDp9lhC7jxNSgOJ3af8jvNoRXGUjgvHFl3L7BANAhVWetITYViiCAJRL79wUnJyo+OLa+BfGGBkVW4How3ttOhCl0fzEIUT2gA3WeK3apPKGZCEpO6PiH9kbTIaWxC4dpGGrjtP0ryJGkyNXmnWFqjCY21e+lW4Bd2EMNR8KSj1VtyqWnlLnUdBmuyp0M0udTos6/Al6gRleuesc5OYQrMTI8cgZ/NwXFBwCBSVOF2kEVtTXkePd6iDDTal2M9kdToc0YaHugnJbpcpqJ3KXIhSGPA1csd+/ONX4LZR9P10nFG0XDe3OXfUytHBkRxnG1WT2desVg/kDyWKuXAnMs0Q4WQ2A4ONFeA3J1aLJWDDl5uPi88MI9CdSSJ8C2JGXiBIlcIjaE1sJxS48b14YKK+YNGZ6blRzCblEgVndTAKOsZJCJkmSQiWD/ZShMQhlfurc/A3W/eLYuRLS40nNeCZ6kbvynQ9bqGX4h6lgzERWHAG02sZer+g4Lin0aYlX3kzOfmtYc/x5YT7bgyxTEq3Ad0zVli66+H7NbXKC6KARym7pJbAwEayg67JJzGrVSSBy5wD7eczzFTwdld8T8oFedQOoYyeI+FwEsO7UgFTYBXbrDgYJcJWq6I2lVIjkHs2EOQqYsKeCrMd2BzDIGI64DKexeqTR5agLpM3NpKtFhcW96LOd+beinNZsoAZ1/zfyfXs8wnATUyFEPRSamTlpQNIlxgGzG5wYBLV/J66wh4NhA0sGDbWx0IjsbLABKi9VBm8ZY3QYIvM7ZYY8C8QSnaVgIxRa8c5+Vb6mIhbqCWYBMhVUy4VvtUCZdNp+7ZzcEKwtcJ6hRzW/g8j10csLsZMckd1egTdGgkguqLBRIKIIZe/BlQkm9N0cKORv2/R7BA1sG75LUqfjm0GOyoPMQgLwUWaEcgZ3wiXJbO3bg1LTTZKsJHVWG3ilwO8+Eajb4tpk0j5zb5oJTlyB068TBl3MpJQ7g6mGwqAzigR+wyXYrrORTTCEaEytYOJR5gurziCvMpWiEMhJX4lbKcSZB0fCHgCakxg5lAkboUSSuDFx1toiMXNQqVxNEhMPOi7o0SQPjo6XpYawaqkIKbhy3fhpIi7ORuoWEETGLZnS5xOEN30Q/zcn/Q1aDEqFbyQdRwupsgpApZKE5VHr+Bl9oTUqDXMlDLRuovJshNI6B6AICDJHYqkIikcaCsXELd+iAVSfuf28hH5JcofwisotIg9QWslfeg8ytKFJDdIk8xOYkeIEhh1RBYkxjiB0XlEVwG2KI2affYQZpfviAiCklOT5FiIg0Yb9y1JBe3gDYpjEDr9D7sygVY21UIEMl28a3FoGdHFA5csS3F5AtkTEO5UVwDaRR49RvU3DdIpvHkxHaGug+xkRDrDnYlJ8ZVbCZLWh+KjgBLdKscsLxunt8JZ3AQvEdbrhyg22Ve9cEiOtgarAZS90R5lvHQ2QA1dvqvVIgBOChcAknUCal4MUk1bYmF8jhg/pHShubjch2SV2xD8yxPrDlapuKpbIPbZiyersLH31jUgUULCcyHg0CoKWledxtNSg7tlCd2WddkYVWbRtZttaIC8Pq9x293AkuX9SVfV5K1HcdjfEM9GlzKgGKfkyZTow4Jct9TiXtpfK0kvWXaRpJK+0nMTaSZ5SelzhpzYK42QbFqWgB7UtcaA7pXmjYbiU4AP5Xx9evi2neldJhxkoNh+CFC8NQyeZnYoyyUalY+goQvZEAAAAAAAAGHwj0xGpGiN4EUtEcKBqJEEw/S/5JOkI5VPgj6hdPD8qMKIk8DRGI6dKWJUvKEDSWZM6aE6SGLJKjAULsbLkQWZGLRYqLZdVYZIxW4t5ggItIO5iSzZ8aKFhtpsFjZjixhtOErZdItiEGheLk9zSoNU4pqKofSGx+RZBCx84ymyGuGA5AdU1cIo0zi6yxNvrpPIVcaXCDapfmweKq/gofXnjuPPLwLIukv/R7qmDxPZVSrpjBRFjqKI8E1k6stsdgUT6ATU7ojgZBAV0CU/oIYHeC/GzIyZrnY0hwjOHngOKws2qhchxNjPTWA48w6SQqaQXBRR6drr61wgPPBa4lRrGoP0kyoBKpGm0gPJa9PqXwPLL0yUnahYhOAYQSzh1kwR4Wl6I0U6swVju/PGWs/jRXBzmC48BdtzWECgKjFtvj8ZsEFwA8DCewj7UHyQcbRT6c0LgZ9H8h4HcJ9xJ0+FMRTgfFGX0Za2QFIgc40PfsQLxfzpQ+DotEVUIH30VCSEYCShNABDDweNHUiSSyCrTh/lenYxxlw+9NNL0Uegw2ictZplJm4m1l5+aoV8spvxSNdsCYctSSWEzsNTUZgoyVvHM2OUnMxRHbRYVkylCyZlXWdYlkhcSXJQ1SammfSlJHR8oKIXZ/MChqUkFix0RbFCLqmFjrYjkXQnbfa9UDp42texXWggmiY8hF77sjbvXMJUa4/SKHElkUcBMY/QrmSJ/UNq7ZT1YaVATvAZIbsFa/edKLjjEXHwsLt+4Qo56SAaNikvxe2hHymA8eyMtcSWyw76wrhfMI7zNSt77aDy2vGZ7GkjVzHJreszARTa5aVCg1U26RRACbCpMFESSzU9CLRGEtGjpsY0wvcAb5c+YYFmr9zb42yI4WgWHCZDejywz8+ge+RNoYJ6xycF9UuIiG/ZhgoBD7QnR/mw9wA5zYNMPqjT52DwN/5AzNGxb0aRlqZG7xtEI6RqqK2TScmKp/bFp41VAiHBvrV86nJFlVWG16NAXol93T3CPZDw4eM+K8FAB5rqhpspfKBIzI8bv8m6nLvN0IOLdfSa85BPgLU24CES0IYR9450kWvBElkxPZrjmcZHTAeXlsX2awnkxrbhNWgfk0kn5Ew69erTemrJZNLcnT6g9DanHJwTwhDo+IDTQC8z65g93MbQ6nephyVYALYpeESJ0U5aVlweF9Z2EqGkvWHcZkcPl8SSHtd6uFOEqO+9moknEkFCqomwHyQvE4OKIF/MFvKR0kmRiu+oIeB0FlEX+mh+Cl6WeqR1qDhkc2F7dXIA/gfKIbAA89zzggSU7ms3oTTTvSfWNTdEaE/M1m5qonnhab/eWhbY+yqGj0x4ahxSlsN9RXTsBwhMgiAhML8mVPTG0CYt4/GSWoNd579+K0k+bMej//9yvRHHmYJzwkuXnr3FjtYaT1Z06/eNFmjnZMTwpeIpjU6zHpTiisRZXZ8PGTPJhKL0sLYtUE/X0pIpCsq1QgA4OigM6j7eEfIX1SgckG3G7QaFxy4mb+N+54gmselFHkkzAiKkVsaziIPpwD0o0ZmWegQboBRxAn4g0oH/jPULyJmAsKJY2ySRWCIjGkdgxJOmzm1oZyBhSBAWAD2upOsXySXsKyZrYBWFnUIMiYQcIccsklNG8Roqrp4JOceNNlqiwWzhuh1A5xUksqoMkxqJ82ePkD3uBnR26EQ4uNWzG1ECAF4L20Qb+c/COsmz1UvUwBYzVAbEv2cLoSFj6r+9R88gyvJhR5tvLbORsR0zOHFRuiiAHXPGppnRO+l6bwaH6zGFoyPYwknoASG3J4xLYrHYpb1dJQWKAgHwjwUcggKHYrrSq/Vkkpd0hIfyZhTl8M/5GLR2FC9y5Md7xHyNWwrgNG8SGFLetuV93ZdCubagYDMXS9XtJGEnOXuL18fJagEC2QTFST9SAeISaNmbXeJoEePI/Xqa7pvBKCskO5/TrIOUR2s9nNCQ31qoIQCm6g7OUz+Bq4L6yAKuTi3dpVx4SGCkjRhxlpn67ZyA6zfoLk7PwGem0S50r7KgZJ5MLTIkyBypJLPNuiScRmjTvjIiycQuWIbmKdJSSHYMtcMvexH/sIwss+ArStA8+H/3/3NnSZWyB9XgNhohSQ10ZoXNjVr8mRM6w+MMKhv4kPnG49xYSrbqbNvhAh5XGUIyFcnkEjAd8POhy7VN9tYcTMAgYgeHRhhs4jh0bkLY6N2WgQsQdPRpYqnD4NfyM2AWuBcv1K9pg1toagp4mdgKdvdbmmVX5TZkxpp1VgZ2SiIi7QWJhanQJ/QBg6Uq7RUfkw/XKZi+2wa9RIv64T7PrgXiK4O0BAHc4Ruw9qOByxWra/7fmgHRuVmKprJe/eBiOJtky3L9Kjv7K5QKasi6FaWsk93ds5gjiY0lSfh1KHU+9NVC+gRdutQRkMiNIq5KvoZW9S93CgGyUvwE8fJ2AYPOJx9TBCNMPbqdxKEyIgprWoqtNDjIu394JfmKV5UJ9RShDQ26QqIF0S64uY3g8M1IuL0xppWgPYlcAJAbdHxmR7Ak4jKcBD4Ot/S6L7YIUkujpUKhUaYPq4rRWIuS557MlC2g9d1p2r+P62NuLwnQ8AFwo/rHRoXmk6Oo+NoiE3zxo/IZDxaOWR+H/zXssnGAOdlaYDOjVKvu7NqPFuLV4zUXkDRnPvB8WsQEi1MRaIlk9TurO22FJSCDwlFvIKQQFCstXBRBGZ1zjw7LrCTK+6AQIkraRTsjV2eQYB5PfBvHr44952l+Kzett6DFhQiHoD5fEKMsJBJI3PkzVdMxBJAJO5JWqYEpKiMxNmAxZKMb01XlJ5eNZDql/y2ZAtP2D7odN0kl2soY2mVf2MAV3IDVjxsT+j4De1CmWEYU7u/tuJN1DwxoMZsnBCOA==",
woff: "d09GRgABAAAAAC58ABEAAAAAQhgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAABgAAAABwAAAAcdHVF6kdERUYAAAGcAAAAHQAAACAAXwAET1MvMgAAAbwAAABAAAAAVldBZGhjbWFwAAAB/AAAASUAAALul/GZhGN2dCAAAAMkAAAADAAAAAwApgDFZnBnbQAAAzAAAAGxAAACZVO0L6dnYXNwAAAE5AAAAAgAAAAIAAAAEGdseWYAAATsAAAmCAAANNioiGG3aGVhZAAAKvQAAAAvAAAANibR5fxoaGVhAAArJAAAAB4AAAAkI2keimhtdHgAACtEAAAAawAAALrrUwaSbG9jYQAAK7AAAABmAAAAZvDW4qJtYXhwAAAsGAAAACAAAAAgAV8DYm5hbWUAACw4AAABLgAAAigGlVyLcG9zdAAALWgAAADbAAACI3lz8xxwcmVwAAAuRAAAAC4AAAAusPIrFHdlYmYAAC50AAAABgAAAAYgfFf2AAAAAQAAAADMPaLPAAAAANQb0iAAAAAA1BvQ+njaY2BkYGDgA2IJBhBgYmAEQkMgZgHzGAAGZQBkAAAAeNpjYGQtZ5zAwMrAwtTJdIaBgaEfQjO+ZjBi5GBgYGJgZWbACgLSXFMYHBgU//9nAfNZGBi5gRQjiA0A2JsJXXjazdHNSsNAFAXgM2mqUDVqG+u2U5oMWH+3fQRB30UFn6PQRe2uD+Ab1KVrl9IIhtBN7L7uguPJ3LgRRHDlwJczM0zI3BsAdQA1OqQGPULxCfXGXeX2a9W+jztmFx3OPGj0MdMjPdYTnetltxkV8SCemsCEpp2F1vKsnBn+cAbW2oVN7Hl6m96k12mU9l6Ll1bynFwl/tzOPzp7cpdfxqa7b69a7bvvirKufsWnWYU16yGNOF9jjkVZp54IbDBzUX5BLwW22IKmQABEhcA2EA8EdphTgV3ABAJ8x4QCLWZbgOuMkZX7rHl1QZecHzDvnfI/qNWTAxwxcwc4hnpfd4ATZsMBTpkPDnDG/rDOr2Yqjw/vWxdV1S8ZPv7xqP/xvU+fillZAAAAAAAAPQBbAFAASwA4eNpdUbtOW0EQ3Q0PA4HE2CA52hSzmZDGe6EFCcTVjWJkO4XlCGk3cpGLcQEfQIFEDdqvGaChpEibBiEXSHxCPiESM2uIojQ7O7NzzpkzS8qRqnfpa89T5ySQwt0GzTb9Tki1swD3pOvrjYy0gwdabGb0ynX7/gsGm9GUO2oA5T1vKQ8ZTTuBWrSn/tH8Cob7/B/zOxi0NNP01DoJ6SEE5ptxS4PvGc26yw/6gtXhYjAwpJim4i4/plL+tzTnasuwtZHRvIMzEfnJNEBTa20Emv7UIdXzcRRLkMumsTaYmLL+JBPBhcl0VVO1zPjawV2ys+hggyrNgQfYw1Z5DB4ODyYU0rckyiwNEfZiq8QIEZMcCjnl3Mn+pED5SBLGvElKO+OGtQbGkdfAoDZPs/88m01tbx3C+FkcwXe/GUs6+MiG2hgRYjtiKYAJREJGVfmGGs+9LAbkUvvPQJSA5fGPf50ItO7YRDyXtXUOMVYIen7b3PLLirtWuc6LQndvqmqo0inN+17OvscDnh4Lw0FjwZvP+/5Kgfo8LK40aA4EQ3o3ev+iteqIq7wXPrIn07+xWgAAAAABAAH//wAPeNqNewl0HMd5Zlf3zPScPd099425egZzY66ewQ0QgIibJECQBMBTvG+J1LUiRSmiFFI+JNlybEvykTxFPuRNasBIycrJhs5LYmuTeUqes9zkJbIdO7EVO3a0sSJZXqG5f3UDEKXYScCZnuq6uur/v/+sJoUo+GNe18GForqiQpR5/V2vemel/My3mX+mHFSQ6qAKFNYVcaCNPUUcaiMcLWLqBpSws4xDfKsDZbG3jE3tVgxlqVKX7AyjSrTcj2pCtYDi0RiHXFS1XnY7DfEYI1QEa7QRo1+LNqPwWY3HGlF0tbGl2UynG197KtqIwof+lva7ehLqtzSQiD6unKJgvTcV5nXm+5SFooQozBStRYW4EEVPfAM9oZz9hnIWfRS+2h0F/RnKy/wV80+UnqJkE3LYEMP85bvFX0efVQ540ffQT5TFzRXS7+swbwzmdVCU6PQgd7leTZkQXGD9BhZ9PYQ+FprvCSsvobFQyJ5ypkPKOTo8H1JOh3rmwmgCqudDdjuCaiApunmTeo35AdOgBIqiqzKql2FOsnuY1BBDYfQR6A5T9nRmYE7l5dA8CkLFR8Jh5Ux4rieEJpWXw2RdfwzrisC6YB65CjuQqtpULEwj/bHWrxcW8OG1kbdnQmQxZA7lXHiOVPaQeSjq20C3bjIPr+4P1lSV4jEWpoz9guXQP4ex50K3bpvsi7qHOsecZe6kzBTVj2SUigopxKFzpii69AY98nfKR6IzeCGKjn139bfeVB6O6smYe6nzzB3aGFnwoH7kBop67v07dC46M2CMKQ+9cZ7e9ia6GNX1L8SUT/49kAyelYb1fp4yUh6K0ngsxJ2iwd2DgOuVcl0CSjKvn3337TNfNIQjz3/rC+GIwa28orySRpeVHyHXH6FjcafyQyBV3I1k5RVYR/DmD5g/Z16FGUUKYW8R629ga7vlUzErSv0oggSCUpcg18MI1sihFIqaSjORv5dn5O9FZoqWDuVJ73RE+QiSZ/rMPkyfTslyavXpL3ssA9Ne5cdhkxclVDpR6KPM6/QC4E+kMFXEDEiNrtjSq88iqCWShj76DY03G39dFCA1Bzz/fZDCACVTg9Q4tY36JoWtRZxv45EiHm/j6SIeqOCtbdxdxrEi9sDcc6pEBts4yLeaII59bdzHtyahNNvGs3wrBSWx3ZqHn7r/5QH8zm9RrqyZwzoeM9dbZfQOrlynrjG6cqUAf2ijhAf9qNUMCiI2NnGf8JInai4VhzYlPE08Ka7krSPNZhPPCivu2BiUqFbeCl3NTTwitEo1aBoXW3UBfqeFa8EUNUTGbRWx2Cx1OZxuD2MIo/IAclfKcl0GYZNSUow1sAZPldyXPW6P2+UkFSA4kh3JdRDHusoipyHGwti6HI3F604irgDmXCnvRyZONP7PiekLx4/0Dgz0Hjn+M1Loq1cXl28sL1brpHBi4ja77RMuZMzkX0uUE4my0bTtxDaT8k808yfk3uejGxMf7VF+buRNhl8NwCwn3j5+pK+/v+/I8QsnNmY5sbyrVg8azMdetZprD9xXicf9vsSZ2uho9euVRKISBz168ybw8gfMXRQHqAtQfmoF+JoFjmGR6FOEg8VWSMWEtKYyU6hAoKdT1SVriDEVJq5j+8oMU+5lfcol38gmv3IJfTncCNvtcvicsPXcRDY7kaWfzUYi2dWDrBwM1ew8+hflz1StfnOV+QfmNZAoA+WjKFcSgRJJyR5CXyAnEJxVKc6iI8pbFWRC//hG5ic23sIbjGZLrNIXCLndPMcsI1OX8g76+U/SP7Y7nKFgIirFKshi5MxWSsU7oj7HfJ/ZC3uk6H7aHUFEzD2qFNmJHElFGkmMSWr0AFqf9/R1O11Wp0dJWPRC3pfw6hjlJx5aakgml9rutDpdPb3QbjLyFr3Oq2eQ4CXPOQm65ALzGAXErUv1AQSAUB9H0AJPsyP1mYZYEbEcks5xnPNv/9Zps6VrNSiEF8JOrQaucAOFWu15tQkKaZuN9Ak71yuc4bA6mNqwO98BDkaoFR/hoaO94vCZs9cGHYwpi3Cg2Apqwl2lOmD7BLvv/ZNhTR0USqNnn9IpbxhYMwdaOBCOJTvzXTXHxaeU25W/QT/8PyjyhE75Fmsy2ax2m91iZY2INj5/3+MoQniZohLMN5h/A3ucoxrUQxQ2ENnHiSKuV3CmjUtlhJtreuBaNEgZs1hSFUIepL7aviZU81AFGq8bZVtRCgQ10sRBAYebWBJb8QyIaR4k2WMgMi2Ira46/FYFbG9iq4g5kO6ERxCvUVYuDHJMJJhsTZPdWlWKGTRZjRFUqfcOIph9SG3S1wiiQwgEV0oN9R87deHiqWN9gwEpUCnP7/jGjvly1Z8KVOtTdfjQv1IjvzWaeuDsicFNQwPHTz/oDAScR3YuVKq16o7Fww6vF2WlWk1aVi/L60VCpyUqyXyceYuyA6+yoD+xm3gtmCnizgpsH8eBTjmVTnwZs23Mah5Mqk0I1WIJYUJN3CG0XG4gQEpsBYKg2lSN1YO0DWURbEnbv7b9VLTEolu2uFRPIrImlKwzjfruvd/atyw36Hf/AtEPwL5gd8yAVK9Ly8l6Pal03rFvj9xsynv2n7Xq0Dm1chmaYS8S7OXrzNvA8xLVS52msEX1w4Dn3RViEKqwlz51L3rguZ7wPN3Ger7VBTtqtK/xjS6ocrVb/es8p5tYL2Cm2epKC+KK2RIg3OaFVq0bfhtEN2OXgB1N1Y8D/tVu1cXqPeFvXNUaH6TIrUyWgJ2VrvkdrxDWApsHB4DnD5w81j9QBbKotJFq64yedwQCjiO71rh7xOH1iZfOnhwcBs6foU+qlLqVz0AaoM0iJQGf3wZfMACyAXy2qfIAfE5WwBnFEaBNWqWNtQzkIVQBEcXxdqsTiKEnxLARAWi5PbD1uNgS+HU+b8DW4YmWavJ7lulWHi+ucRIxXYjw+Nt7d9cbhL8EwszgBjrf/aRNb9xgMf2Z98BqpHbeNFlPMQplopyg06rUMLUA+7qIjNQK6NXstfTSsfMJT4XAdLC8IhLF42vj+4ordPN0pVLB+9ot3cFyGZfauFLG+3hs67ghtPbuh6ZoG48V8XYwMg8UsfkGdrexmyfWBtvb2M63ElBKtlvlGgxP8q1euM21cY5vLUHpYhvvLuOLfOsuuDnfxuf51nEoHWu3LgHtQm6Ajs0qAnRavUlQFekSlJZyoB02je/YCdqhdddFIO++Jj4v4ANNfFzEB0F/UCJU7mhin7CCpJ1k9H2sIL5ktrvcoVwvGbYvCveG8q7F5T0HVCXjqSHwllwo6nJU6x3E8MdjUt2p6R2CRUAiqgi33tbiDuBSpaz6DtAbOVUhNRAmFhHYDKKaZCEOnqQLunnIF5y+uEB8CODxRtEl7ERe5U30l8qPkXfkOYSe+9yjV595IpSYPxWwBJLzkyn07tXl0XvH+icm79nVuHp1OTkxXyhsicyjLx37eDXPJiI+l91i9EzQ1Y8fO3XlChIeXdi/NLR04vDwxJUBuXPMbrrS16xvY25HR+47oDx9P4o++MILDz76/HP/+9ls73K8Npvtk1dPoWhu38LF+7bMbt+ufOTx2Mj85LZCvpv+2PjhSrZHb9BbTGaTb4auHH730Dh6e/U6PTg629so1g8qD6PNjYlc0mlTvkhKEw3l94i91gPu/q+xn/GAXumlDoBeuYr+hFp5iCDOHy3uIYh7sN3yHC+XV/ZB5Upwx2WCtsNtvFDGRnBCK9hCgFYfg1odCNQs9NRZiDnUxUxZbOHxGWhfMW2+m4w7214xTJ8vQ5+zZ0ifs+eIyXxM08FtzPMtlqgnAFgvUc+4l2+V4KbYxkW+NUHcWZgMH2y3TkC34ZMA2Lk2nuNbV6DpjjK+t43PlVfuvUKmvvduU3blyr2keOWMKdv6kOrxYgncWCNbeIVqscbCK8QHfueh69uJD6zHRh6brnNgBrD+utpxfIJ0nBjXOuq/fX1U6zjB4+nreJzHm6+/bOi6Pk1qdXi4wOGh67rWSd07HD51XQ965ppBzzqyDHVtaPjkKdWhftFgGto8rZZVp7oV5UGEdL4gEYJSL4hFZ7N14iCI0uw+UEZzAl5q4itia2EH8aoPPwQNviVoeBCs0kX4NYq/S/Henr5t8weJ2Jy1wAwJYpOr/ahSjiA2tYZlJzhEFfCxPaoopCQ9hE9EoYN4rIGehLig2+xISIKqHwANB0Pt4CRqvVxCGAYTo6454iB8qrBBR9aQrFVqFVfFFX//cwoQ+e8sHp6PD/fqu2R/3xBntdiGBv1yF9M7Ett50O2iuWP+jnBnx9Q2wX7UaMznggl/yIP+IZ9ZejabL22f0kvFTHd6eYkOBPRdkVggGI+XsrPbTiSlYDoY8T2RRc9MHnvuOZ0u1OFIJ/SZondgJIyCh+9vmkxLen28Mzk2k8oldfplk6l3eAAzPmXVaDGYmv2Nw8prKDoa60yyOiOrjPzGXDrB2juLWQO7hTXq2cU9ys88XmabyeS12IyWxYfmi0a9kX2O0/3V3i98Ye9PZU/YQzNLLJvcuQ1ZNnzDt6jLVFDT2uCFIfxIsfUoOIStJrEzm4A1LkLQAaQ63jIEz1qh3lUt0sCXVIFOSZ6UJNc90JiSquvtcdK1IhMDHCaDyus+ZUrVb24P0V7gY9N24vjaaUMIAdfDuvVuEaReENKzNofNIjh94fjOsI+3GnQI0TTvtLstooOldTRD63R2vd5AI1rHexIx1gZONGOyb+btBofNbrTqrYLTagJfnEaMjtbrdSKrhymMVovX4uAgTABTaBZDmWAuHvE5BSsn2swGHUPH06FOq5MzcxabyWKzWXir3WwxOkJ+Cy8GwqzNZgqYAxFHANZjtkSWnZFwBiwtQkbEWG06J0fT8EDGbnNyrhDypgu8xYz8znDAbDOx9nDQJdiCIRb0IMuLAm/TGywmmwWe5rR2htJxou/ojbyRAzxCiMgDRcy1iRdIXD4w+bVfkLFCgO0qEQEiTSAgIVRh4yAwsWaM/glc4LMqwgW9dDGZX45F/cx8zGp+wnD14v1a63ovZfLinRO5Ks1cQLw1cuCCchXd8/41TVL5tchwoo1lbW1TRey4Ac4KzpZb06D24g7QAU636qH8ouU6QCrrcgGliHQWUB8i3ikIYlUmMACHnCgGtwfsIEu+zvXA+oPb+VvOlh6PSD0Wi9lpT3UJnOAN27N9A2NMpBbxZflUnEvGOjwxKX3bzKF9H9jq6l8jnxflY7TOOJChDTod4iuhqK8WiTKctaMWcQpGZ6dHZ094jezsxEyhQlG6DTp4gQonQYq+t0aLrRU1yNKpQdaiKfs72Yhu0ZbFWVD3RZyv4EttXCvjShHvreCjbSJy+NQNfF8b54ltogpgeZLgLPHE+cXLbbzMt7ZAaaGND5SJcLZO5UE2S02cFFrZS6BV7xMHTbwjKnRuGh0/R3IV/cJL+pqpPjwxSe6WRby12VrYAm5OdXEJrCSoZocO7kyCb5Z0iAgtfhLmyYorydEJ4lifE1qdw/B7SfzdQql/x+49+zW3RuMgSLrmToPoa/4lW1sT+4oaRBG3JR5LCaoOiLLxNZnWeMcanGvi7XE7WQ0OcVe8FteUcm0DGp73BWqa+84hiNQAvAsMQ3O2gDO9ZLfm43JqJOKJBZO+ZI51s5yONnZwi2O0kT72JKps22V2uFk7a0r4mg4jZzMKtSonObw2NAwzfXXgq/BZR1FTdCaz3cMdosXodEv5RrARY/UELEaDxRDwurxCcNBC61ibr3POYTbpGIRCXCAk2PVOpgfdTtvQzgHBF7J4PaHYuCzlHVZXRjTbO3NcIpbdEyKQK5PnffWiBryn69XeeGfCHfKKzd7hVDGQibgBWzdv3lwFbB2n6iBjO6mD1OPUip5ga7yNe4q40iaBIOAhUsSzFRxr4/0QMxwq4tQN1QER21jkSYKwdRi+pRSwOic3pgmrReF39IVy3zgp+8SXuEhH/8DonAqJnnEw7YiyENOeq0CZE0sECwsCLgBGxBddqaW9+25XcSBpdnMthNYi5/otfKrIUc2Mawwk9pwYazeRZtUGrMMBDDNJYYYZjuREkoT/FUAC4AGlkpem5ga6o5FM3eP2OzviTrfZ4nAFdvQqb/Se7ohXi6U+E88li+ODPQF5qRrv6GZ9NrtelysfrW4Trd7a6GDO6q3G44Po2hObH3988xOvHkgmUqFAIVfunZUET1Bwh/2BZCqTSKQ8/kQ9X6zKi/4A8nvTiVDg16aHJWRO60W76OK4oXhnik4vTmbowtTSZBahwtHHHx9//HEtj2QGfn2HCVADJM/SSzhFt1foXqICaIk4jYPF1pB2yKABel3h0ZrC06TmAxoPsE5U3obYkGyi2e8eG+qvDR11OBwd/sJt6Yg/1Onz+6eOn75fX1+Ws1PBkV5LoaO30dmLJGnz1JE7HpnfMr2T8bg70UyfzmhqzJcYC8uiYC5faeZ215sGr1terkfDtni86WB9/VnOcvjg0a07SlWvh+ztrZsK/QbzV6DnytSKh+yNKmJnBSNAWZkkeCHIMwP+fBDG3sB0mURsQrnlV7freJ81Mrxnjt56qtp7TyYfpw+FgjrmK8bnXkbfeepX9zSHGeazSBCtwTufUsLou5RtTc8epgogDf3UbdQ8dZa6m3qYeoL6DPVl6k+pVylKIDjrQR43eHIQAgNhAXMD8NuPSECcWtMorEtzLkF/9SAo0xBuRV3RmFSt94A+AvqSAjnvyaKYJKuQBnsVRiRwZqGSrakZgwIi23Kx6ng1qwvTv29sL7qlxa21uNSmugSTwmo3WFpAql+Vkoh4rOWIM4lkbtP/0Fl0adZqtuk4eveeA+WFSrMYHIsrX+/aUUWN6p5gZHNgLNE4XGZNBnRU+ZTBZDJ8ycb/Kfk9vHb5XiGVLqJGbjQtRROFw8+LBmdhtrjsFhkziwTWbGaVfyHXwxuXjdrPm9kjpHiExXqDIVazO3mj28HqrAzD6mlLwGFg+QJrtfAWC48m89u8/k8zTFjPnmEs9PhEbbf8ZM+SR3Rmx/O5VCxZXHJ5PMqLnDl2iDM7uZMGs9lmNmefzEx5vLnJwpPZabfv0hFWKEwrW8+hYwL6GgfPZs0nYQlQWuIsgFnLFq1yu83GWM3uYIDjbaIFMTbW77TxJg/P/Casxmi0qLFiL8jkV5hvUyWqj5qhlqij1D3UipXgd1cbHy5rRQjc5op4pt0KFCA8m+Gxq73C1PZBzIdHi1gC63xMPXDpAutcxl3aKUV/ee14YkEz0FNlYqMPwk2wjJ1tknKgWjNz4PggbxO0pUjyTYJmAwEWmkNNToMImmqaIc3SqiG1IxcbcwhaHkAg6RqHlsmSK+rwEIoza6c9akpBvrVrb8SNEGMw2gQvfd4r2IwGhkbucNh9lmZYE3hE3/i6V+RMBh191v1o3O2MpTojZ4CeRvPbJggyjM/LsUws5nLFXiOXRGeU/m4+tvolM2DQaDYbbVCgdyTy4Ss23uYwc5zZAYUraPUB9D13MOhWQu5kgn56zG4yEsPIgLKxj60+hP7B1dHhUoKuaFTY6BgOA49cJJ4Xvgtek0glIKKfobZQ26g56hDI94fA5n0RpLtN/QjpkYi6UAPdjT5FUQ6I68CvqEHIIW/k81Qro9ogKUVcBIcaJ3qIFq1p8h+DeldJy32S8aCACd0NHrlLdshuFwsyCjNrBiweY+qqol6zUURIVT+1rqruInLBQ6DN4YmlgLnAU5WVDmIMQeANhN9MgvhK5fpGfkcNZKMkE1lAMQOsAZYY068l7dRUZQit3ZH1EkW1PoWWwRTU1J6gNro1K6HllW59khYV/5JHaUZ7w3sjbjYJwzZWqXlYLo1IYbS2eXXxawuVSTRHJiii9Y1BBK4ubKexlo3MF1AkkBue9PrqxVzTNHBbLGYO+Br24oyv4y5z47AUDYQFIVLKp/aVjXRc+hWvJ50slSbd1RlXIAQBmAgR02dHkSAwsV5H2uWM624fG6tLXRPDHabhzbFofccDoljYKWWDfmN4e5fZEPMzA2ak+6pPQGXB6xW++aY54FK+Kfh8wjf/Fb04cHKwdjjKGW1Ou6lnUp7SoX67u+fopRM548ihUfYBJIey4WD4eDgUzoSaB7q79wfD6J3uQ0PFGRfUhDJhx2xp+HA+1pfuGx+HC/oyTFk/3GE3soKJN3VPyZM61AdzHnnweM646dCo8RLqsFkSi6nefKaQj20p2byOnT3drNHm0jPBREeqWN5SiEU2dXtC7mgwO9xnsrjNOvSDUGeo8mXWYRb9lt980mHlnZztBtTRn6ssRTM1k6kuxSySzhwKKoeSUtyUlPLzid4BcVOhH/1ZRqIFsSPBmXpOp+NxJO2vrX6nt1YBZDgnulyzXZwj1NH7exD0dv/F+F28DkVDw9NypUtaHZNK9kTfWCIeN9oGP0+HQ7FSvpqSQcl3jgd5fjsCFbLaGQ34Yj4UsfKOgDfmU75z46GTA5k457BaBFNzpOrgho/3DVwu9w2UvusKhVyvyrF4PCa/Ssrf7Dkgy6VyT+bRE32dSS+pohfJVXk7ke27sWVTatvgwFzqK+qMdtFqMZo+MOUfWlysy+sQ+6V6zO/n9SYHnw8ydqvR4LOJRlO4mSx2hD0uk9XFB+zWhMFjiZP570l/jTUh5BdF2x/caXdxdsH8m+ikKxx2kfNF8v4I8zrEsHVqmPo0tcITY+BvY6lI3OmoempdBs0PBmCTmu9ztbGLb2VAx0N7jG+FoSRD1MuTYyliESxtkj4Ee9JbbI2A2x3LgNvtl/Jl4mqHhVa8RFJiMQkca1ezmzjWUWHQFO7MyI2evn71iDkvXnMWBwZJsSxAgAfxlkDknLggoOE54sUUkLgWFqliHHVVoBpqVX3gWdOI+lv86A45Sv8sKnfA76oRfm9LSUObprddHNEr//qsaX6gMFuAz3B+65az05uGJLq5uHnXrs2L975vUIeMXv+1of6kNHr/bCh0sjxQmFmcKWRmNkvJ/t9eWBhbWNDyFUBG/YeYL1CdVI3aTq0YCFWBcuEiRLQI14sY3SBU9vMtO1DN0m7JQCm7HyhlcIWTZOMWiEWjhFJhlyC+BOGIrSOnkjAp4KhqS9eCwrXtR4m6VzW06q0REqwd86BbiMAP9h8/demRI4fOmpTN1E3zSK0xMjU0ODk5ODR1fPLh/umty5dOHe9nfuNjd30MPvScAneDPd2vPlIuvSQveH1p6eFPPSylb3u4J9Ix0H9c+RvS7WOwZzPZuONB5vcpE9iwLDUI+z5AXaQuU39I/RlF9aH1c4B6VVZZFEZslOzAXZc9a069I0rOaQyosmbZK2vZTWIC9Nowtwdq4zXCa+hbB4Wv8p+od91/PrEMSru8ruJT78VrHpKVYzWTsab13e9/e4HkXVGFAa+DdaFHlMt0SbkffWgun/v07mPT45N6hbWVK/Pl3fGdpZ7Rnce3zQ6j/ebO3FP76KMf3vHM7Iczqavb5q6mMvSfF3Kf2D54PnH1avL84NwncsXH6nvO7a7X99y5hz6azz69+9jUxKRBYbmu6nx5OUGm23XslulGL/p2VRsg6GKK79uUlkPRfrlnYtfIUOq8e7JUiwQdQsLdMyI1Q/FAWB7Ycfv4GH3PYyjxhVWke/aVU5ZL6EMXLil3XfjHP5yZ3FXpwndsTneieHxfly+cy6Ku0VR2VulDR2cXd21RPoXuWxgaGBntH1qoH5ydmKvl0MV3t+4qyvPjWz57fl+jsb/Z3NeQ/99/MNWfDuYqyO9J+OycWWe18554pr+66A+iWEfPYDzlcXd4OJvFYLPz7nhmoFSohIDYg8xvr34SDSo/Uh5HkXu+SNkJtiJHmT8AbCWpPGiqHeAbPURdpf6Y+gvqp8iMIiiPxm5FmeMWMKxF6J6NOCOqisZ/EWcGDWe0vI4z/X9lalk7Wv53SKv8h0hLGT6AtKr8vjEccn7wiaS72oeoRu3gCzwXAa1vo/aBbZBdqMJAcv8yyf0LmiZxxbWTfwFdVh4BeF9Ajy3kc0/vPj41OQF4NB/a3t3VGdlZ6h3ZBfDe8Ul0uyWdn9q8nz6+DvA5AHgnADz7iR0D56THHkueG5z/RL54Vd5zrlSoqQg/SWY8Nq0iXJsxvLPYqwqMOmNnbmp8H735QrAzd6YjBBi3DY0AxmOA8UmC8XPuqUItHHTwSXFwON0IJ4KA8YVDE4Dxq0jSMH6GOVnITc0sH5/bIl3w7u9vLNfquxuD5YLnUuf0ttN7Zqd20W8+Fq3U+rbePfDh2enCRIYeKGSfWhi8M6EuettTueKH5d137K5WC8U7d9MjZz589UMmcyjQ7zxYa3jdGzKEbts7M7WzUmqdndjmEiN7u/yhXPbTnxyTsluUfnRMlaFPonsXhvtHRvqHF+qHZie2VfPogXe3LpbqaG5i9nPn9ssoGNjf3dzfkJ/55ZP9yVDe61uXIs4muBOdRIpCsY6+gXh6TYj0dk4Vry4iRAiBRQIx+gQaUn6sfBSF7/kCGt49O5XNy7XFamO4sfeOvY1ErFHdXWsWcs/8kFlRHsn6/Jsu7VSuoBNzS/k5WXkGjWornl+9f2PB+xpI3t/dvS8YlDMXPj39/QvKzX5/yGx62Ovtlo8gnepSwHcb+BVfpqrUCHUfMlDkVJ+v4OE2PqMeQI628d4iiT/HyMlgDuLQIg63yesvEGBuKeI4WMn/pvobtTauaRlgtt3KjUI8yvItCW6nIN7kW9uhBAPD2vm2r926X3tFrv9Hb45p53tSgcPp67rWlP4dDk9cf7mff2O/1nIcWk5cb3n172DPdep3PV4pPTF1/ERh7Q/9jsebnjhR2HiPTmIhkrXdAx7LlIDvbuLt4kp8aS/xYMICPgSmepgRRGxtYqPaPCrie5qt8GEYtP1QU00ar71usSH1cAuy7JBBr2SRFkUYtITIWobF4CIxsJo1EbSMSlKorx8tVdRQiXTm0EYaUvYQqWfUNE1sXfWUEy/EyyGf4LGxok8M/rSe6rCNI2kw2bL5Ros9etpi94Yz5fgLiXJTsL5gEQTLC1YBhcaLUcGMaLMt1GE2Gqyiz2KBsMSk03UGRYuu1dGFxo0Ob+QHPqvDoreE3ckvJsrlBK3jzE6rntPrMvEqirGp4dTnS8FyOZ8p9Weq1n3xSiW+epNGVkGwrt6E62aUsc02theiTgjOOemP7JzLyLgsJiuyRl0+1BVT/j7mDSLaqLP4rS4NX1vX8LWHOk29TWFzkaQifEV8so31xZZhvlLBS208TBwu3F3Et1fIOxbRMsJnboHV+MbbFG7wv5LDgK69gEy+dRQaQu3W2TUwMW/kNMjUADL1662qnrxw+fJA/1sF7WjZAPXsdX1rnoBs7jr1Ilup1upza0B6yQC39bn5QuE9MI3XyOs7xR0EPnYB9zexW2xlBojH55uFJt4+ThLQw0sAH9empur3DTRxt0i6lgTcCYBaS/exTs0PTGm4cGkwI2EyQRC7YYBYgi7G44BOPaiuQVBQ0faen5OS1XSM6mDrPwi9cDT1v3ygiqNWGw2gcAWSKmQAXbEyCvp4j521ebjkv3VNcuMNQIan462CxQqwyIxkI3YTzRjsUb/dgQIQQfFW5TV3wkM/qUJNBR1tSmx2eX+9Z1PSFrUWqiOlHsdD8XI5TtPxcimu480um95C02hTU/muGfljLj9irQGbW6e86dg5uKeWpPWsgbfYpecFjxDMfoamCZBXFbiuvwP4Q+avqQhFkTNxIJJL3jhUWYv6o2oexcVM9Q9NRL9/DVzjpERLSfCOlc3qDfrZxIV48p//Wa0T+M+oleoNyX+DpjPRrzNtqos6r75zz6mRVKhN3mErgE4rq+AT2ljgycv2ONLGEZ6kiHFnG3fyLbOm5yokbhJAmZADB2GFczEEJn7xmhuiXRIEdAotm45gxR0i51fGjqh6HJFc84fBEYAoST3Hh3hIi5oMMUmtX+tBXBlySmoYOn359NBwccu+LcVQpacc9if8w+Fybzlc2rJ3a/Hnw6eHhk4Po58pxtKWYnFLiU6EKiH4KFXR7xfR55V94XIYPujPi1uL8Fk7r6WugHzeDXGln5zX8kVsaN/ykqUP3BP1JXb3e+Gcw4QI/T3oRaEgoBc9lYXy6uOVhcp59CB6MJZcfVxCI+ieXFb5NbsdHc/mlKvQWFmgdyhfQwOc+swnmX9kTgPtp0kmXDs8V32n9VM2Nd2oSoKaYVShn0WawnXpnCRr7iHvIpOcTlUiL1GAn+SMAMrMvNVuHfO5HbzFXCqGBJ6zmY0sazTbOF4IFUtmC+9w+8agE2+20rlI1n75YT4btl++bA9n+Ycv2wH/ly+j/x4UOaMBIaMBwvtaJenU61id2Ui/YDTpDYzemaxWzSw5lKD1Rs4R+P6/m8GuzrxuY58AGp+B/e6lnoWIC+HPFPGOG3iwjQf51scASefarc8CkgZ3COKLzx586MrVp8kBF9Ebv4w45V9CHLVLed3wrHu1xbXmjUNM7Q0GVbHI9Vv/3eIGk2GG+K3j1kaqY38JpRH/iymdZ+xiHHEO0efw2nie8zr9opPneKugN1o4we602O0Wp13gdLpHGU6ImTnO6fC6fE4PL5rhT+Q9Tp/L63BynJllBauoZy1On6fDFxacTiHs6/D4nDrdL+eb8IvYpvybaOGQycq7vKAxM5l0NOJz221mRme0CK4Qa+YcntBoyOviLEab/VPQmdaxZLlOr199p/hAvlOKhgMep2izGg16RLMm3hk2c6IvlMx0na5kpLDfwVlsHKWev1MXAQcnIEpyUF4qSu1X36Tk1f/dEyyS9wgdRawD8Yvd8sKWf0P5CFAytVtxAIqfB5XjJCoHe9VXiF0eomOCUN3yeNVMDXZr2RjtWEdQz3UkOSpEHVHEpCRiiYjoZELMYiiTCb37fChzG7P47vMJRlR++pd7TtSSQKyJr9GHg+l0cPVpcqUPrz6NXlNe+vwzt5XLt5Up6v8D0sqMJ3jaY2BkYGAAYq8ZVuvj+W2+MsizMIDAFekLv2H0////OeUzwOIcDEwgCgBU9wyfAHjaY2BkYGBh+PeVgUE+8/9/IJnBABRBAdoAgOQFMgAAeNpjYYAAxlAGBhYGBh4gBtHMQHycheH/fyB9BCpWDsQVULYMiGb8AmbrQMVAmBGIc6BsdSCOBmI1II7iyWWI4LBjiEBSC8VgO7iA+BtUzEbwEUQdaw+DgHADA4N8JkQt2J1sUAYDALliD8kAAAAADAAMAAwAWABwAIQArADQAPQBGAEyAUwBdgGsAcIBygKwAvADJANYA5QD1gRqBNAFXgXABvwIogl0Cb4KQgtwDEgMtgz2DhIO5BEgEcwSRhN0FUwWfBeWF8gYTBiGGP4aAhpsAAAAAQAAADIBmQAVAAAAAAACAAEAAgAWAAABAAHFAAAAAHjaZY/NSsNAFIVPTBWsUFyIi65mIW6ENEZa1KUUXQpV6saFqcYaqbWmrahLH8jn8OcF9GXEL5NpEGWY4bvnnvszkmp6kS+vsiipzi3YU5Wo4Dk8a459LStyXMGx53heqzp1vIAnc1xVV8+Ol7SuT8ev+L8dvyn0Vhy/q+a1HX/AnYK/fNW9M6W6Uay+EjU01j20oQe0gZ50q5HNd8j2NUWL2eISfaiJtrTJ3f7lM3+cXaKMrqmtMPgDhf/qD3ANrTNGTXSBs6dH3mKfCHVCleFm1OZz9l2PhEkD2LBBnrtGOUcPdGWrRtrlX41y5swf4Mo7naD0yuxsw2Oqp0SHtpfhtLihmnRraoc3YnPDG1LRYuOEHrH9dz6z+HVCPC43NTrSHUpKLsv3+AGe2082AAB42m2QyU4DMRBE5w3LhLCFfSch7Hvc7glwRuJXAAkhLhz4e5Bw9QFhyXK5XFVdclVXv6tb/b/sZ1PV1EwwyRTTNHSYocssc8yzwCI9llhmhVXWWGeDTbbYZodd9tinz4ADhhxyxDEnnHLGORdccsU1N9wy6jy/fX28DHLbFCDCCzAxFkwrMC6mJELAA1iRWPP5/mrt02O53/+15FF5eShEUrekDC+numr8nYSyWlhVPql8Uvk0llh2i06RYyoXLeXK0rhmuZI9NErOSk5iPIrpKcfPa6j7N9QJgZwAuAH/hbABjQBLsAhQWLEBAY5ZsUYGK1ghsBBZS7AUUlghsIBZHbAGK1xYWbAUKwAAAAFX9iB7AAA="
}, r = i(294);
t.prototype = e(r.prototype);
n(t, "meshim_widget_widgets_fontLoader_ZopimFont");
return t;
}();
}).call(e, i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r) {
t.exports = function() {
function t(e, i, n, o, r) {
if (!(this instanceof t)) return new t(e, i, n, o, r);
a.call(this, e, i, n, o, r);
}
var a = i(26), s = i(42), _ = [ "eot", "woff", "ttf", "svg" ], l = [ "eot", "svg", "woff", "ttf" ], d = {
eot: "src:url(@@DATA@@);src:url(@@DATA_SPECIAL@@)format('embedded-opentype')",
woff: "url(@@DATA@@)format('woff')",
ttf: "url(@@DATA@@)format('truetype')",
svg: "url(@@DATA@@)format('svg')"
}, u = {
eot: "application/vnd.ms-fontobject",
woff: "application/font-woff",
ttf: "font/ttf",
svg: "font/svg"
}, c = "@font-face{font-family:'@@NAME@@';@@FORMATS@@;font-weight:normal;font-style:normal;}", h = "data:@@MIME@@;base64,@@B64DATA@@ ", f = "'@@FONTS_URL@@/@@NAME@@.@@FORMAT@@'", p = "'@@FONTS_URL@@/@@NAME@@.@@FORMAT@@?#iefix'";
t.prototype = e(a.prototype);
t.prototype.setFont = function(t) {
var e, i, r, a = [], g = _, m = this.getBase64();
(n.isIE <= 8 || n.isQuirks || window.document.documentMode && window.document.documentMode <= 8) && (m = {});
n.isChrome && n.isWindows && (g = l);
for (var $ = 0, b = g.length; $ < b; $++) {
r = g[$];
i = d[r];
try {
a.push(i.replace(/@@DATA@@/g, m[r] ? h : f).replace(/@@DATA_SPECIAL@@/g, m[r] ? h : p).replace(/@@FONTS_URL@@/g, s.FONTS_URL).replace(/@@FORMAT@@/g, r).replace(/@@MIME@@/g, u[r]).replace(/@@B64DATA@@/g, m[r]));
} catch (w) {}
}
e = c.replace(/@@FORMATS@@/g, a.join(",")).replace(/@@NAME@@/g, t);
var x = this;
o(function() {
x.dom && x.addChildren([ e ]);
});
return this;
};
t.prototype.getBase64 = function() {
return this.base64 || {};
};
t.prototype.setBase64 = function(t) {
this.base64 = t;
};
r(t, "meshim_widget_widgets_FontLoader");
return t;
}();
}).call(e, i(14), i(7), i(12), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(e, i, n, o, r) {
function a(t) {
if (t) for (var i in t) t.hasOwnProperty(i) && i in c && c[i](t[i], e);
}
if (!(this instanceof t)) return new t(e, i, n, o, r);
var s = u.root.$("tmp").$("api_settings").$("settings").$("theme").$("custom_fonts").$("config$json");
s.on("value", a);
}
function n(t, e) {
for (var i = 0, n = t.urls.length; i < n; i++) l(e, null, null, null, {
href: t.urls[i]
});
}
function o(t, e) {
l(e, null, null, null, {
href: _(t.families, t.text)
});
}
function r(t, e) {
var i = t.projectId, n = t.version, o = "//fast.fonts.net/jsapi/" + i + ".js" + (n ? "?v=" + n : "");
new d(e, null, null, null, {
src: o
});
}
function a(t, e) {
var i = e.ownerDocument;
0 === i.documentElement.getElementsByTagName("script").length && new d(e);
var n = t.api || "https://use.typekit.net";
!function(e) {
var i, o = {
kitId: t.id,
scriptTimeout: 3e3
}, r = e.documentElement, a = setTimeout(function() {
r.className = r.className.replace(/\bwf-loading\b/g, "") + " wf-inactive";
}, o.scriptTimeout), s = e.createElement("script"), _ = !1, l = e.getElementsByTagName("script")[0];
r.className += " wf-loading";
s.src = n + "/" + o.kitId + ".js";
s.async = !0;
s.onload = s.onreadystatechange = function() {
i = this.readyState;
if (!(_ || i && "complete" != i && "loaded" != i)) {
_ = !0;
clearTimeout(a);
try {
var t = e.defaultView ? e.defaultView : e.parentWindow;
t.Typekit.load(o);
} catch (n) {}
}
};
l.parentNode.insertBefore(s, l);
}(i);
}
function s(t, e) {
var i = window.location.hostname, n = t.id, o = "//f.fontdeck.com/s/css/js/" + i + "/" + n + ".js";
new d(e, null, null, null, {
src: o
});
}
function _(t, e) {
for (var i = "//fonts.googleapis.com/css?family=", n = [], o = [], r = 0, a = t.length; r < a; r++) {
var s = t[r].split(":");
3 === s.length && o.push(s.pop().replace(/ /g, "+"));
var _ = 2 == s.length && "" != s[1] ? ":" : "";
n.push(s.join(_).replace(/ /g, "+"));
}
i += n.join("%7C");
o.length > 0 && (i += "&subset=" + o.join(","));
e && e.length > 0 && (i += "&text=" + window.encodeURIComponent(e));
return i;
}
var l = i(296), d = i(297), u = i(40), c = {
custom: n,
google: o,
monotype: r,
typekit: a,
fontdeck: s
};
e(t, "meshim_widget_widgets_fontLoader_CustomFonts");
return t;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(e, i, n, r, a) {
if (!(this instanceof t)) return new t(e, i, n, r, a);
var s = e.ownerDocument;
a || (a = {});
a.tagName || (a.tagName = "link");
o.call(this, s.getElementsByTagName("head")[0], i, n, null, a);
this.dom.rel = "stylesheet";
this.dom.type = "text/css";
}
var o = i(17);
t.prototype = e(o.prototype);
n(t, "jx_ui_ExternalStyleSheet");
return t;
}();
}).call(e, i(14), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(e, i, n, r, a) {
if (!(this instanceof t)) return new t(e, i, n, r, a);
a || (a = {});
a.tagName = "script";
o.call(this, e, i, n, r, a);
}
var o = i(18);
t.prototype = e(o.prototype);
n(t, "jx_ui_html_script");
return t;
}();
}).call(e, i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r) {
t.exports = function() {
function t(t) {
f = g.root.$("livechat").$("account").$("key$string");
h = t;
n.on("error", l);
f.bindValue(function(t) {
if (o(t, y) != -1) {
n.window.on("error", _);
n.window.on("unload", function() {
n.window.un("error", _);
});
}
});
w.config("https://0@0/0", {
logger: "widget",
release: p.info.gitCommit,
whitelistUrls: [ v ],
shouldSendCallback: function(t) {
b.submitToServer(t);
return !1;
}
});
}
function a(t) {
t && (t.onerror = l);
}
function s(t, e, i, n, o) {
try {
b.handleErrorEvent(t, e, i, n, o);
} catch (r) {}
}
function _(t, e, i, n, o) {
s(t, e, i, n, o);
return !1;
}
function l(t, e, i, n, o) {
s(t, e, i, n, o);
return !0;
}
function d(t, e, i, n, o) {
if ((t || o) && !C) {
var r = o || t, a = r.stack ? [ r.toString(), r.stack ].join("\n") : r.toString(), s = [ a, e, i ].join(" ");
if (!A[s]) {
A[s] = !0;
b.post(r);
}
}
}
function u(t) {
if (!(Math.random() > j) && t && h) {
var e = g.root, i = e.$("livechat").$("account").getValue(), n = e.$("livechat").$("profile").$("mid$string").getValue(), o = {
key: i.key$string,
is_voltron: i.is_voltron$bool,
status: i.status$string,
mid: n
};
w.setUserContext({
id: o.key
}).captureException(t, {
extra: {
system: p.info,
connection: h.getConnectionStats(),
account: o
}
});
}
}
function c(t) {
var e = h.getHost();
t && e && $.post("https://" + e + "/client/widget/errors", {
params: {
sentry_data: m.stringify(t)
}
});
}
var h, f, p = i(299), g = i(40), m = i(46), $ = i(300), b = {
init: t,
post: u,
bind: a,
handleErrorEvent: d,
submitToServer: c
}, w = i(301), x = /^en/i, v = /^($|about:blank$|(https?:\/\/)?([\w_-]+\.)*zopim\.(?:com|org))/i, y = [ "zopim" ], j = .1, C = (e.isIE || e.isNewIE) && ("language" in window.navigator && !x.test(window.navigator.language) || "userLanguage" in window.navigator && !x.test(window.navigator.userLanguage) || "browserLanguage" in window.navigator && !x.test(window.navigator.browserLanguage)), A = {};
r(b, "meshim_widget_controllers_ErrorHandler");
return b;
}();
}).call(e, i(7), i(6), i(24), i(4));
}, function(t, e, i) {
(function(e, i, n) {
t.exports = function() {
var t = {
info: {
gitCommit: e.git_commit,
buildNumber: e.build_number,
userAgent: window.navigator.userAgent,
platform: window.navigator.platform,
language: i.language,
browser: i.browser,
version: i.version,
javaVersion: i.hasJava,
flashVersion: i.hasFlash,
url: window.location.toString()
}
};
n(t, "meshim_common_System");
return t;
}();
}).call(e, i(1), i(7), i(4));
}, function(t, e, i) {
(function(e, i, n, o) {
t.exports = function() {
function t(t, e, n) {
i(e) && (n = e, e = null);
e || (e = {});
_("POST", t, e, n);
}
function r(t, e, n) {
i(e) && (n = e, e = null);
e || (e = {});
_("GET", t, e, n);
}
function a(t, e, i, o) {
var r, a, s, _ = "form" + ~~(1e5 * Math.random()), l = i.timeout || 1e4, d = document.createElement("form"), u = document.createElement("iframe");
d.method = t;
d.action = e;
u.style.display = "none";
if (i.params) for (a in i.params) if (i.params.hasOwnProperty(a)) {
s = document.createElement("input");
s.name = a;
s.value = i.params[a];
d.appendChild(s);
}
document.body.appendChild(d);
document.body.appendChild(u);
d.target = u.contentWindow.name = _;
n(function() {
d.submit();
document.body.removeChild(d);
s = d = null;
u.onload = function() {
u.onload = null;
u.contentWindow.location.href = "about:blank";
u.onload = function() {
u.onload = null;
clearTimeout(r);
o && o(null, u.contentWindow.name);
document.body.removeChild(u);
u = null;
};
};
});
r = setTimeout(function() {
o && o("timeout");
document.body.removeChild(u);
u = null;
}, l);
}
function s(t, e, i, n) {
function o() {
if (f.contentWindow.frames.length) {
f.contentWindow.location.href = "about:blank";
clearTimeout(s);
setTimeout(function() {
n && n(null, f.contentWindow.name);
r.body.removeChild(f);
r = f = null;
}, 0);
} else _ = setTimeout(o, 100);
}
var r = document;
if (window.ActiveXObject) try {
r = new window.ActiveXObject("htmlfile");
r.open(), r.close();
} catch (a) {}
var s, _, l, d, u = "form" + ~~(1e5 * Math.random()), c = i.timeout || 1e4, h = r.createElement('<form target="' + u + '"/>'), f = r.createElement('<iframe name="' + u + '"/>');
h.method = t;
h.action = e;
f.style.display = "none";
if (i.params) for (l in i.params) if (i.params.hasOwnProperty(l)) {
d = r.createElement('<input name="' + l + '"/>');
d.value = i.params[l];
h.appendChild(d);
}
r.body.appendChild(h);
r.body.appendChild(f);
h.submit();
r.body.removeChild(h);
d = h = null;
_ = setTimeout(o, 100);
s = setTimeout(function() {
n && n("timeout");
clearTimeout(_);
r.body.removeChild(f);
r = f = null;
}, c);
}
var _ = e.isIE6 || e.isIE7 || e.isIE8 ? s : a;
_.get = r;
_.post = t;
o(_, "jx_io_Form");
return _;
}();
}).call(e, i(7), i(9), i(12), i(4));
}, function(t, e, i) {
(function(e) {
"use strict";
var n = i(302), o = "undefined" != typeof window ? window : "undefined" != typeof e ? e : "undefined" != typeof self ? self : {}, r = o.Raven, a = new n();
a.noConflict = function() {
o.Raven = r;
return a;
};
a.afterLoad();
t.exports = a;
}).call(e, function() {
return this;
}());
}, function(t, e, i) {
(function(e, n, o, r) {
"use strict";
function a() {
return +new Date();
}
function s() {
this._hasJSON = !("object" != typeof JSON || !JSON.stringify);
this._hasDocument = !n(k);
this._lastCapturedException = null;
this._lastEventId = null;
this._globalServer = null;
this._globalKey = null;
this._globalProject = null;
this._globalContext = {};
this._globalOptions = {
logger: "javascript",
ignoreErrors: [],
ignoreUrls: [],
whitelistUrls: [],
includePaths: [],
crossOrigin: "anonymous",
collectWindowErrors: !0,
maxMessageLength: 0,
stackTraceLimit: 50,
autoBreadcrumbs: !0
};
this._ignoreOnError = 0;
this._isRavenInstalled = !1;
this._originalErrorStackTraceLimit = Error.stackTraceLimit;
this._originalConsole = I.console || {};
this._originalConsoleMethods = {};
this._plugins = [];
this._startTime = a();
this._wrappedBuiltIns = [];
this._breadcrumbs = [];
this._lastCapturedEvent = null;
this._keypressTimeout;
this._location = I.location;
this._lastHref = this._location && this._location.href;
for (var t in this._originalConsole) this._originalConsoleMethods[t] = this._originalConsole[t];
}
function n(t) {
return void 0 === t;
}
function o(t) {
return "function" == typeof t;
}
function r(t) {
return "[object String]" === B.toString.call(t);
}
function _(t) {
return "object" == typeof t && null !== t;
}
function l(t) {
for (var e in t) return !1;
return !0;
}
function d(t) {
var e = B.toString.call(t);
return _(t) && "[object Error]" === e || "[object Exception]" === e || t instanceof Error;
}
function u(t, e) {
var i, o;
if (n(t.length)) for (i in t) f(t, i) && e.call(null, i, t[i]); else {
o = t.length;
if (o) for (i = 0; i < o; i++) e.call(null, i, t[i]);
}
}
function c(t, e) {
if (!e) return t;
u(e, function(e, i) {
t[e] = i;
});
return t;
}
function h(t, e) {
return !e || t.length <= e ? t : t.substr(0, e) + "â€¦";
}
function f(t, e) {
return B.hasOwnProperty.call(t, e);
}
function p(t) {
for (var e, i = [], n = 0, o = t.length; n < o; n++) {
e = t[n];
r(e) ? i.push(e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, "\\$1")) : e && e.source && i.push(e.source);
}
return new RegExp(i.join("|"), "i");
}
function g(t) {
var e = [];
u(t, function(t, i) {
e.push(encodeURIComponent(t) + "=" + encodeURIComponent(i));
});
return e.join("&");
}
function m(t) {
var e = t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);
if (!e) return {};
var i = e[6] || "", n = e[8] || "";
return {
protocol: e[2],
host: e[4],
path: e[5],
relative: e[5] + i + n
};
}
function $() {
var t = I.crypto || I.msCrypto;
if (!n(t) && t.getRandomValues) {
var e = new Uint16Array(8);
t.getRandomValues(e);
e[3] = 4095 & e[3] | 16384;
e[4] = 16383 & e[4] | 32768;
var i = function(t) {
for (var e = t.toString(16); e.length < 4; ) e = "0" + e;
return e;
};
return i(e[0]) + i(e[1]) + i(e[2]) + i(e[3]) + i(e[4]) + i(e[5]) + i(e[6]) + i(e[7]);
}
return "xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g, function(t) {
var e = 16 * Math.random() | 0, i = "x" === t ? e : 3 & e | 8;
return i.toString(16);
});
}
function b(t) {
for (var e, i = 5, n = 80, o = [], r = 0, a = 0, s = " > ", _ = s.length; t && r++ < i; ) {
e = w(t);
if ("html" === e || r > 1 && a + o.length * _ + e.length >= n) break;
o.push(e);
a += e.length;
t = t.parentNode;
}
return o.reverse().join(s);
}
function w(t) {
var e, i, n, o, a, s = [];
if (!t || !t.tagName) return "";
s.push(t.tagName.toLowerCase());
t.id && s.push("#" + t.id);
e = t.className;
if (e && r(e)) {
i = e.split(" ");
for (a = 0; a < i.length; a++) s.push("." + i[a]);
}
var _ = [ "type", "name", "title", "alt" ];
for (a = 0; a < _.length; a++) {
n = _[a];
o = t.getAttribute(n);
o && s.push("[" + n + '="' + o + '"]');
}
return s.join("");
}
function x(t, e, i, n) {
var o = t[e];
t[e] = i(o);
n && n.push([ t, e, o ]);
}
var v = i(303), y = i(304), j = i(305), C = i(306).wrapMethod, A = "source protocol user pass host port path".split(" "), S = /^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/, I = "undefined" != typeof window ? window : "undefined" != typeof e ? e : "undefined" != typeof self ? self : {}, k = I.document;
s.prototype = {
VERSION: "3.9.1",
debug: !1,
TraceKit: v,
config: function(t, e) {
var i = this;
if (i._globalServer) {
this._logDebug("error", "Error: Raven has already been configured");
return i;
}
if (!t) return i;
var n = i._globalOptions;
e && u(e, function(t, e) {
"tags" === t || "extra" === t || "user" === t ? i._globalContext[t] = e : n[t] = e;
});
i.setDSN(t);
n.ignoreErrors.push(/^Script error\.?$/);
n.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/);
n.ignoreErrors = p(n.ignoreErrors);
n.ignoreUrls = !!n.ignoreUrls.length && p(n.ignoreUrls);
n.whitelistUrls = !!n.whitelistUrls.length && p(n.whitelistUrls);
n.includePaths = p(n.includePaths);
n.maxBreadcrumbs = Math.max(0, Math.min(n.maxBreadcrumbs || 100, 100));
var o = {
xhr: !0,
console: !0,
dom: !0,
location: !0
}, r = n.autoBreadcrumbs;
"[object Object]" === {}.toString.call(r) ? r = c(o, r) : r !== !1 && (r = o);
n.autoBreadcrumbs = r;
v.collectWindowErrors = !!n.collectWindowErrors;
return i;
},
install: function() {
var t = this;
if (t.isSetup() && !t._isRavenInstalled) {
v.report.subscribe(function() {
t._handleOnErrorStackInfo.apply(t, arguments);
});
t._instrumentTryCatch();
t._globalOptions.autoBreadcrumbs && t._instrumentBreadcrumbs();
t._drainPlugins();
t._isRavenInstalled = !0;
}
Error.stackTraceLimit = t._globalOptions.stackTraceLimit;
return this;
},
setDSN: function(t) {
var e = this, i = e._parseDSN(t), n = i.path.lastIndexOf("/"), o = i.path.substr(1, n);
e._dsn = t;
e._globalKey = i.user;
e._globalSecret = i.pass && i.pass.substr(1);
e._globalProject = i.path.substr(n + 1);
e._globalServer = e._getGlobalServer(i);
e._globalEndpoint = e._globalServer + "/" + o + "api/" + e._globalProject + "/store/";
},
context: function(t, e, i) {
if (o(t)) {
i = e || [];
e = t;
t = void 0;
}
return this.wrap(t, e).apply(this, i);
},
wrap: function(t, e, i) {
function r() {
var n = [], r = arguments.length, s = !t || t && t.deep !== !1;
i && o(i) && i.apply(this, arguments);
for (;r--; ) n[r] = s ? a.wrap(t, arguments[r]) : arguments[r];
try {
return e.apply(this, n);
} catch (_) {
a._ignoreNextOnError();
a.captureException(_, t);
throw _;
}
}
var a = this;
if (n(e) && !o(t)) return t;
if (o(t)) {
e = t;
t = void 0;
}
if (!o(e)) return e;
try {
if (e.__raven__) return e;
if (e.__raven_wrapper__) return e.__raven_wrapper__;
} catch (s) {
return e;
}
for (var _ in e) f(e, _) && (r[_] = e[_]);
r.prototype = e.prototype;
e.__raven_wrapper__ = r;
r.__raven__ = !0;
r.__inner__ = e;
return r;
},
uninstall: function() {
v.report.uninstall();
this._restoreBuiltIns();
Error.stackTraceLimit = this._originalErrorStackTraceLimit;
this._isRavenInstalled = !1;
return this;
},
captureException: function(t, e) {
if (!d(t)) return this.captureMessage(t, c({
trimHeadFrames: 1,
stacktrace: !0
}, e));
this._lastCapturedException = t;
try {
var i = v.computeStackTrace(t);
this._handleStackInfo(i, e);
} catch (n) {
if (t !== n) throw n;
}
return this;
},
captureMessage: function(t, e) {
if (!this._globalOptions.ignoreErrors.test || !this._globalOptions.ignoreErrors.test(t)) {
e = e || {};
var i = c({
message: t + ""
}, e);
if (this._globalOptions.stacktrace || e && e.stacktrace) {
var n;
try {
throw new Error(t);
} catch (o) {
n = o;
}
n.name = null;
e = c({
fingerprint: t,
trimHeadFrames: (e.trimHeadFrames || 0) + 1
}, e);
var r = v.computeStackTrace(n), a = this._prepareFrames(r, e);
i.stacktrace = {
frames: a.reverse()
};
}
this._send(i);
return this;
}
},
captureBreadcrumb: function(t) {
var e = c({
timestamp: a() / 1e3
}, t);
if (o(this._globalOptions.breadcrumbCallback)) {
var i = this._globalOptions.breadcrumbCallback(e);
if (_(i) && !l(i)) e = i; else if (i === !1) return this;
}
this._breadcrumbs.push(e);
this._breadcrumbs.length > this._globalOptions.maxBreadcrumbs && this._breadcrumbs.shift();
return this;
},
addPlugin: function(t) {
var e = [].slice.call(arguments, 1);
this._plugins.push([ t, e ]);
this._isRavenInstalled && this._drainPlugins();
return this;
},
setUserContext: function(t) {
this._globalContext.user = t;
return this;
},
setExtraContext: function(t) {
this._mergeContext("extra", t);
return this;
},
setTagsContext: function(t) {
this._mergeContext("tags", t);
return this;
},
clearContext: function() {
this._globalContext = {};
return this;
},
getContext: function() {
return JSON.parse(j(this._globalContext));
},
setEnvironment: function(t) {
this._globalOptions.environment = t;
return this;
},
setRelease: function(t) {
this._globalOptions.release = t;
return this;
},
setDataCallback: function(t) {
var e = this._globalOptions.dataCallback;
this._globalOptions.dataCallback = o(t) ? function(i) {
return t(i, e);
} : t;
return this;
},
setBreadcrumbCallback: function(t) {
var e = this._globalOptions.breadcrumbCallback;
this._globalOptions.breadcrumbCallback = o(t) ? function(i) {
return t(i, e);
} : t;
return this;
},
setShouldSendCallback: function(t) {
var e = this._globalOptions.shouldSendCallback;
this._globalOptions.shouldSendCallback = o(t) ? function(i) {
return t(i, e);
} : t;
return this;
},
setTransport: function(t) {
this._globalOptions.transport = t;
return this;
},
lastException: function() {
return this._lastCapturedException;
},
lastEventId: function() {
return this._lastEventId;
},
isSetup: function() {
if (!this._hasJSON) return !1;
if (!this._globalServer) {
if (!this.ravenNotConfiguredError) {
this.ravenNotConfiguredError = !0;
this._logDebug("error", "Error: Raven has not been configured.");
}
return !1;
}
return !0;
},
afterLoad: function() {
var t = I.RavenConfig;
t && this.config(t.dsn, t.config).install();
},
showReportDialog: function(t) {
if (k) {
t = t || {};
var e = t.eventId || this.lastEventId();
if (!e) throw new y("Missing eventId");
var i = t.dsn || this._dsn;
if (!i) throw new y("Missing DSN");
var n = encodeURIComponent, o = "";
o += "?eventId=" + n(e);
o += "&dsn=" + n(i);
var r = t.user || this._globalContext.user;
if (r) {
r.name && (o += "&name=" + n(r.name));
r.email && (o += "&email=" + n(r.email));
}
var a = this._getGlobalServer(this._parseDSN(i)), s = k.createElement("script");
s.async = !0;
s.src = a + "/api/embed/error-page/" + o;
(k.head || k.body).appendChild(s);
}
},
_ignoreNextOnError: function() {
var t = this;
this._ignoreOnError += 1;
setTimeout(function() {
t._ignoreOnError -= 1;
});
},
_triggerEvent: function(t, e) {
var i, n;
if (this._hasDocument) {
e = e || {};
t = "raven" + t.substr(0, 1).toUpperCase() + t.substr(1);
if (k.createEvent) {
i = k.createEvent("HTMLEvents");
i.initEvent(t, !0, !0);
} else {
i = k.createEventObject();
i.eventType = t;
}
for (n in e) f(e, n) && (i[n] = e[n]);
if (k.createEvent) k.dispatchEvent(i); else try {
k.fireEvent("on" + i.eventType.toLowerCase(), i);
} catch (o) {}
}
},
_breadcrumbEventHandler: function(t) {
var e = this;
return function(i) {
e._keypressTimeout = null;
if (e._lastCapturedEvent !== i) {
e._lastCapturedEvent = i;
var n, o = i.target;
try {
n = b(o);
} catch (r) {
n = "<unknown>";
}
e.captureBreadcrumb({
category: "ui." + t,
message: n
});
}
};
},
_keypressEventHandler: function() {
var t = this, e = 1e3;
return function(i) {
var n = i.target, o = n && n.tagName;
if (o && ("INPUT" === o || "TEXTAREA" === o || n.isContentEditable)) {
var r = t._keypressTimeout;
r || t._breadcrumbEventHandler("input")(i);
clearTimeout(r);
t._keypressTimeout = setTimeout(function() {
t._keypressTimeout = null;
}, e);
}
};
},
_captureUrlChange: function(t, e) {
var i = m(this._location.href), n = m(e), o = m(t);
this._lastHref = e;
i.protocol === n.protocol && i.host === n.host && (e = n.relative);
i.protocol === o.protocol && i.host === o.host && (t = o.relative);
this.captureBreadcrumb({
category: "navigation",
data: {
to: e,
from: t
}
});
},
_instrumentTryCatch: function() {
function t(t) {
return function(e, n) {
for (var r = new Array(arguments.length), a = 0; a < r.length; ++a) r[a] = arguments[a];
var s = r[0];
o(s) && (r[0] = i.wrap(s));
return t.apply ? t.apply(this, r) : t(r[0], r[1]);
};
}
function e(t) {
var e = I[t] && I[t].prototype;
if (e && e.hasOwnProperty && e.hasOwnProperty("addEventListener")) {
x(e, "addEventListener", function(e) {
return function(n, o, a, s) {
try {
o && o.handleEvent && (o.handleEvent = i.wrap(o.handleEvent));
} catch (_) {}
var l, d, u;
if (r && r.dom && ("EventTarget" === t || "Node" === t)) {
d = i._breadcrumbEventHandler("click");
u = i._keypressEventHandler();
l = function(t) {
if (t) return "click" === t.type ? d(t) : "keypress" === t.type ? u(t) : void 0;
};
}
return e.call(this, n, i.wrap(o, void 0, l), a, s);
};
}, n);
x(e, "removeEventListener", function(t) {
return function(e, i, n, o) {
try {
i = i && (i.__raven_wrapper__ ? i.__raven_wrapper__ : i);
} catch (r) {}
return t.call(this, e, i, n, o);
};
}, n);
}
}
var i = this, n = i._wrappedBuiltIns, r = this._globalOptions.autoBreadcrumbs;
x(I, "setTimeout", t, n);
x(I, "setInterval", t, n);
I.requestAnimationFrame && x(I, "requestAnimationFrame", function(t) {
return function(e) {
return t(i.wrap(e));
};
}, n);
for (var a = [ "EventTarget", "Window", "Node", "ApplicationCache", "AudioTrackList", "ChannelMergerNode", "CryptoOperation", "EventSource", "FileReader", "HTMLUnknownElement", "IDBDatabase", "IDBRequest", "IDBTransaction", "KeyOperation", "MediaController", "MessagePort", "ModalWindow", "Notification", "SVGElementInstance", "Screen", "TextTrack", "TextTrackCue", "TextTrackList", "WebSocket", "WebSocketWorker", "Worker", "XMLHttpRequest", "XMLHttpRequestEventTarget", "XMLHttpRequestUpload" ], s = 0; s < a.length; s++) e(a[s]);
var _ = I.jQuery || I.$;
_ && _.fn && _.fn.ready && x(_.fn, "ready", function(t) {
return function(e) {
return t.call(this, i.wrap(e));
};
}, n);
},
_instrumentBreadcrumbs: function() {
function t(t, i) {
t in i && o(i[t]) && x(i, t, function(t) {
return e.wrap(t);
});
}
var e = this, i = this._globalOptions.autoBreadcrumbs, n = e._wrappedBuiltIns;
if (i.xhr && "XMLHttpRequest" in I) {
var a = XMLHttpRequest.prototype;
x(a, "open", function(t) {
return function(i, n) {
r(n) && n.indexOf(e._globalKey) === -1 && (this.__raven_xhr = {
method: i,
url: n,
status_code: null
});
return t.apply(this, arguments);
};
}, n);
x(a, "send", function(i) {
return function(n) {
function r() {
if (a.__raven_xhr && (1 === a.readyState || 4 === a.readyState)) {
try {
a.__raven_xhr.status_code = a.status;
} catch (t) {}
e.captureBreadcrumb({
type: "http",
category: "xhr",
data: a.__raven_xhr
});
}
}
for (var a = this, s = [ "onload", "onerror", "onprogress" ], _ = 0; _ < s.length; _++) t(s[_], a);
"onreadystatechange" in a && o(a.onreadystatechange) ? x(a, "onreadystatechange", function(t) {
return e.wrap(t, void 0, r);
}) : a.onreadystatechange = r;
return i.apply(this, arguments);
};
}, n);
}
i.xhr && "fetch" in I && x(I, "fetch", function(t) {
return function(i, n) {
for (var o = new Array(arguments.length), r = 0; r < o.length; ++r) o[r] = arguments[r];
var a = "GET";
o[1] && o[1].method && (a = o[1].method);
var s = {
method: a,
url: o[0],
status_code: null
};
e.captureBreadcrumb({
type: "http",
category: "fetch",
data: s
});
return t.apply(this, o).then(function(t) {
s.status_code = t.status;
return t;
});
};
}, n);
if (i.dom && this._hasDocument) if (k.addEventListener) {
k.addEventListener("click", e._breadcrumbEventHandler("click"), !1);
k.addEventListener("keypress", e._keypressEventHandler(), !1);
} else {
k.attachEvent("onclick", e._breadcrumbEventHandler("click"));
k.attachEvent("onkeypress", e._keypressEventHandler());
}
var s = I.chrome, _ = s && s.app && s.app.runtime, l = !_ && I.history && history.pushState;
if (i.location && l) {
var d = I.onpopstate;
I.onpopstate = function() {
var t = e._location.href;
e._captureUrlChange(e._lastHref, t);
if (d) return d.apply(this, arguments);
};
x(history, "pushState", function(t) {
return function() {
var i = arguments.length > 2 ? arguments[2] : void 0;
i && e._captureUrlChange(e._lastHref, i + "");
return t.apply(this, arguments);
};
}, n);
}
if (i.console && "console" in I && console.log) {
var c = function(t, i) {
e.captureBreadcrumb({
message: t,
level: i.level,
category: "console"
});
};
u([ "debug", "info", "warn", "error", "log" ], function(t, e) {
C(console, e, c);
});
}
},
_restoreBuiltIns: function() {
for (var t; this._wrappedBuiltIns.length; ) {
t = this._wrappedBuiltIns.shift();
var e = t[0], i = t[1], n = t[2];
e[i] = n;
}
},
_drainPlugins: function() {
var t = this;
u(this._plugins, function(e, i) {
var n = i[0], o = i[1];
n.apply(t, [ t ].concat(o));
});
},
_parseDSN: function(t) {
var e = S.exec(t), i = {}, n = 7;
try {
for (;n--; ) i[A[n]] = e[n] || "";
} catch (o) {
throw new y("Invalid DSN: " + t);
}
if (i.pass && !this._globalOptions.allowSecretKey) throw new y("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");
return i;
},
_getGlobalServer: function(t) {
var e = "//" + t.host + (t.port ? ":" + t.port : "");
t.protocol && (e = t.protocol + ":" + e);
return e;
},
_handleOnErrorStackInfo: function() {
this._ignoreOnError || this._handleStackInfo.apply(this, arguments);
},
_handleStackInfo: function(t, e) {
var i = this._prepareFrames(t, e);
this._triggerEvent("handle", {
stackInfo: t,
options: e
});
this._processException(t.name, t.message, t.url, t.lineno, i, e);
},
_prepareFrames: function(t, e) {
var i = this, n = [];
if (t.stack && t.stack.length) {
u(t.stack, function(t, e) {
var o = i._normalizeFrame(e);
o && n.push(o);
});
if (e && e.trimHeadFrames) for (var o = 0; o < e.trimHeadFrames && o < n.length; o++) n[o].in_app = !1;
}
n = n.slice(0, this._globalOptions.stackTraceLimit);
return n;
},
_normalizeFrame: function(t) {
if (t.url) {
var e = {
filename: t.url,
lineno: t.line,
colno: t.column,
"function": t.func || "?"
};
e.in_app = !(this._globalOptions.includePaths.test && !this._globalOptions.includePaths.test(e.filename) || /(Raven|TraceKit)\./.test(e["function"]) || /raven\.(min\.)?js$/.test(e.filename));
return e;
}
},
_processException: function(t, e, i, n, o, r) {
var a;
if (!this._globalOptions.ignoreErrors.test || !this._globalOptions.ignoreErrors.test(e)) {
e += "";
if (o && o.length) {
i = o[0].filename || i;
o.reverse();
a = {
frames: o
};
} else i && (a = {
frames: [ {
filename: i,
lineno: n,
in_app: !0
} ]
});
if ((!this._globalOptions.ignoreUrls.test || !this._globalOptions.ignoreUrls.test(i)) && (!this._globalOptions.whitelistUrls.test || this._globalOptions.whitelistUrls.test(i))) {
var s = c({
exception: {
values: [ {
type: t,
value: e,
stacktrace: a
} ]
},
culprit: i
}, r);
this._send(s);
}
}
},
_trimPacket: function(t) {
var e = this._globalOptions.maxMessageLength;
t.message && (t.message = h(t.message, e));
if (t.exception) {
var i = t.exception.values[0];
i.value = h(i.value, e);
}
return t;
},
_getHttpData: function() {
if (this._hasDocument && k.location && k.location.href) {
var t = {
headers: {
"User-Agent": navigator.userAgent
}
};
t.url = k.location.href;
k.referrer && (t.headers.Referer = k.referrer);
return t;
}
},
_send: function(t) {
var e = this._globalOptions, i = {
project: this._globalProject,
logger: e.logger,
platform: "javascript"
}, n = this._getHttpData();
n && (i.request = n);
t.trimHeadFrames && delete t.trimHeadFrames;
t = c(i, t);
t.tags = c(c({}, this._globalContext.tags), t.tags);
t.extra = c(c({}, this._globalContext.extra), t.extra);
t.extra["session:duration"] = a() - this._startTime;
this._breadcrumbs && this._breadcrumbs.length > 0 && (t.breadcrumbs = {
values: [].slice.call(this._breadcrumbs, 0)
});
l(t.tags) && delete t.tags;
this._globalContext.user && (t.user = this._globalContext.user);
e.environment && (t.environment = e.environment);
e.release && (t.release = e.release);
e.serverName && (t.server_name = e.serverName);
o(e.dataCallback) && (t = e.dataCallback(t) || t);
t && !l(t) && (o(e.shouldSendCallback) && !e.shouldSendCallback(t) || this._sendProcessedPayload(t));
},
_getUuid: function() {
return $();
},
_sendProcessedPayload: function(t, e) {
var i = this, n = this._globalOptions;
this._lastEventId = t.event_id || (t.event_id = this._getUuid());
t = this._trimPacket(t);
this._logDebug("debug", "Raven about to send:", t);
if (this.isSetup()) {
var o = {
sentry_version: "7",
sentry_client: "raven-js/" + this.VERSION,
sentry_key: this._globalKey
};
this._globalSecret && (o.sentry_secret = this._globalSecret);
var r = t.exception && t.exception.values[0];
this.captureBreadcrumb({
category: "sentry",
message: r ? (r.type ? r.type + ": " : "") + r.value : t.message,
event_id: t.event_id,
level: t.level || "error"
});
var a = this._globalEndpoint;
(n.transport || this._makeRequest).call(this, {
url: a,
auth: o,
data: t,
options: n,
onSuccess: function() {
i._triggerEvent("success", {
data: t,
src: a
});
e && e();
},
onError: function(n) {
i._triggerEvent("failure", {
data: t,
src: a
});
n = n || new Error("Raven send failed (no additional details provided)");
e && e(n);
}
});
}
},
_makeRequest: function(t) {
function e() {
200 === i.status ? t.onSuccess && t.onSuccess() : t.onError && t.onError(new Error("Sentry error code: " + i.status));
}
var i = new XMLHttpRequest(), n = "withCredentials" in i || "undefined" != typeof XDomainRequest;
if (n) {
var o = t.url;
if ("withCredentials" in i) i.onreadystatechange = function() {
4 === i.readyState && e();
}; else {
i = new XDomainRequest();
o = o.replace(/^https?:/, "");
i.onload = e;
}
i.open("POST", o + "?" + g(t.auth));
i.send(j(t.data));
}
},
_logDebug: function(t) {
this._originalConsoleMethods[t] && this.debug && Function.prototype.apply.call(this._originalConsoleMethods[t], this._originalConsole, [].slice.call(arguments, 1));
},
_mergeContext: function(t, e) {
n(e) ? delete this._globalContext[t] : this._globalContext[t] = c(this._globalContext[t] || {}, e);
}
};
var B = Object.prototype;
"undefined" != typeof __DEV__ && __DEV__ && (s.utils = {
isUndefined: n,
isFunction: o,
isString: r,
isObject: _,
isEmptyObject: l,
isError: d,
each: u,
objectMerge: c,
truncate: h,
hasKey: f,
joinRegExp: p,
urlencode: g,
uuid4: $,
htmlTreeAsString: b,
htmlElementAsString: w,
parseUrl: m,
fill: x
});
s.prototype.setUser = s.prototype.setUserContext;
s.prototype.setReleaseContext = s.prototype.setRelease;
t.exports = s;
}).call(e, function() {
return this;
}(), i(10), i(9), i(19));
}, function(t, e) {
(function(e) {
"use strict";
function i() {
return "undefined" == typeof document ? "" : document.location.href;
}
var n = {
collectWindowErrors: !0,
debug: !1
}, o = "undefined" != typeof window ? window : "undefined" != typeof e ? e : "undefined" != typeof self ? self : {}, r = [].slice, a = "?", s = /^(?:Uncaught (?:exception: )?)?((?:Eval|Internal|Range|Reference|Syntax|Type|URI)Error): ?(.*)$/;
n.report = function() {
function t(t) {
u();
m.push(t);
}
function e(t) {
for (var e = m.length - 1; e >= 0; --e) m[e] === t && m.splice(e, 1);
}
function _() {
c();
m = [];
}
function l(t, e) {
var i = null;
if (!e || n.collectWindowErrors) {
for (var o in m) if (m.hasOwnProperty(o)) try {
m[o].apply(null, [ t ].concat(r.call(arguments, 2)));
} catch (a) {
i = a;
}
if (i) throw i;
}
}
function d(t, e, o, r, _) {
var d = null;
if (w) {
n.computeStackTrace.augmentStackTraceWithInitialElement(w, e, o, t);
h();
} else if (_) {
d = n.computeStackTrace(_);
l(d, !0);
} else {
var u, c = {
url: e,
line: o,
column: r
}, f = void 0, g = t;
if ("[object String]" === {}.toString.call(t)) {
var u = t.match(s);
if (u) {
f = u[1];
g = u[2];
}
}
c.func = a;
d = {
name: f,
message: g,
url: i(),
stack: [ c ]
};
l(d, !0);
}
return !!p && p.apply(this, arguments);
}
function u() {
if (!g) {
p = o.onerror;
o.onerror = d;
g = !0;
}
}
function c() {
if (g) {
o.onerror = p;
g = !1;
p = void 0;
}
}
function h() {
var t = w, e = $;
$ = null;
w = null;
b = null;
l.apply(null, [ t, !1 ].concat(e));
}
function f(t, e) {
var i = r.call(arguments, 1);
if (w) {
if (b === t) return;
h();
}
var o = n.computeStackTrace(t);
w = o;
b = t;
$ = i;
setTimeout(function() {
b === t && h();
}, o.incomplete ? 2e3 : 0);
if (e !== !1) throw t;
}
var p, g, m = [], $ = null, b = null, w = null;
f.subscribe = t;
f.unsubscribe = e;
f.uninstall = _;
return f;
}();
n.computeStackTrace = function() {
function t(t) {
if ("undefined" != typeof t.stack && t.stack) {
for (var e, n, o = /^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i, r = /^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i, s = /^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i, _ = t.stack.split("\n"), l = [], d = (/^(.*) is undefined$/.exec(t.message), 
0), u = _.length; d < u; ++d) {
if (e = o.exec(_[d])) {
var c = e[2] && e[2].indexOf("native") !== -1;
n = {
url: c ? null : e[2],
func: e[1] || a,
args: c ? [ e[2] ] : [],
line: e[3] ? +e[3] : null,
column: e[4] ? +e[4] : null
};
} else if (e = s.exec(_[d])) n = {
url: e[2],
func: e[1] || a,
args: [],
line: +e[3],
column: e[4] ? +e[4] : null
}; else {
if (!(e = r.exec(_[d]))) continue;
n = {
url: e[3],
func: e[1] || a,
args: e[2] ? e[2].split(",") : [],
line: e[4] ? +e[4] : null,
column: e[5] ? +e[5] : null
};
}
!n.func && n.line && (n.func = a);
l.push(n);
}
if (!l.length) return null;
l[0].column || "undefined" == typeof t.columnNumber || (l[0].column = t.columnNumber + 1);
return {
name: t.name,
message: t.message,
url: i(),
stack: l
};
}
}
function e(t, e, i, n) {
var o = {
url: e,
line: i
};
if (o.url && o.line) {
t.incomplete = !1;
o.func || (o.func = a);
if (t.stack.length > 0 && t.stack[0].url === o.url) {
if (t.stack[0].line === o.line) return !1;
if (!t.stack[0].line && t.stack[0].func === o.func) {
t.stack[0].line = o.line;
return !1;
}
}
t.stack.unshift(o);
t.partial = !0;
return !0;
}
t.incomplete = !0;
return !1;
}
function o(t, s) {
for (var _, l, d = /function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i, u = [], c = {}, h = !1, f = o.caller; f && !h; f = f.caller) if (f !== r && f !== n.report) {
l = {
url: null,
func: a,
line: null,
column: null
};
f.name ? l.func = f.name : (_ = d.exec(f.toString())) && (l.func = _[1]);
if ("undefined" == typeof l.func) try {
l.func = _.input.substring(0, _.input.indexOf("{"));
} catch (p) {}
c["" + f] ? h = !0 : c["" + f] = !0;
u.push(l);
}
s && u.splice(0, s);
var g = {
name: t.name,
message: t.message,
url: i(),
stack: u
};
e(g, t.sourceURL || t.fileName, t.line || t.lineNumber, t.message || t.description);
return g;
}
function r(e, r) {
var a = null;
r = null == r ? 0 : +r;
try {
a = t(e);
if (a) return a;
} catch (s) {
if (n.debug) throw s;
}
try {
a = o(e, r + 1);
if (a) return a;
} catch (s) {
if (n.debug) throw s;
}
return {
name: e.name,
message: e.message,
url: i()
};
}
r.augmentStackTraceWithInitialElement = e;
r.computeStackTraceFromStackProp = t;
return r;
}();
t.exports = n;
}).call(e, function() {
return this;
}());
}, function(t, e) {
"use strict";
function i(t) {
this.name = "RavenConfigError";
this.message = t;
}
i.prototype = new Error();
i.prototype.constructor = i;
t.exports = i;
}, function(t, e) {
function i(t, e, i, o) {
return JSON.stringify(t, n(e, o), i);
}
function n(t, e) {
var i = [], n = [];
null == e && (e = function(t, e) {
return i[0] === e ? "[Circular ~]" : "[Circular ~." + n.slice(0, i.indexOf(e)).join(".") + "]";
});
return function(o, r) {
if (i.length > 0) {
var a = i.indexOf(this);
~a ? i.splice(a + 1) : i.push(this);
~a ? n.splice(a, 1 / 0, o) : n.push(o);
~i.indexOf(r) && (r = e.call(this, o, r));
} else i.push(r);
return null == t ? r : t.call(this, o, r);
};
}
e = t.exports = i;
e.getSerialize = n;
}, function(t, e) {
"use strict";
var i = function(t, e, i) {
var n = t[e], o = t;
if (e in t) {
var r = "warn" === e ? "warning" : e;
t[e] = function() {
var t = [].slice.call(arguments), e = "" + t.join(" "), a = {
level: r,
logger: "console",
extra: {
arguments: t
}
};
i && i(e, a);
n && Function.prototype.apply.call(n, o, t);
};
}
};
t.exports = {
wrapMethod: i
};
}, function(t, e, i) {
(function(e, n, o, r, a, s, _) {
e.__$$__jx_ui_FloatingFrame = i(82);
e.__$$__meshim_widget_widgets_fontLoader_ZopimFont = i(293);
e.__$$__meshim_widget_components_chatButton_Bubble = i(308);
e.__$$__meshim_widget_components_chatButton_Button = i(320);
t.exports = function() {
function t(s, _, d, u, c) {
if (!(this instanceof t)) return new t(s, _, d, u, c);
_ = _ || n.generateID();
var h = [ e.__$$__jx_ui_FloatingFrame, "", "", [ [ e.__$$__meshim_widget_widgets_fontLoader_ZopimFont, "", "", [], {} ], [ e.__$$__meshim_widget_components_chatButton_Bubble, "", "", [], {
addClass: "bubble"
} ], [ e.__$$__meshim_widget_components_chatButton_Button, "", "", [], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatButton": "meshim.widget.components.chatButton",
cursor: "pointer"
} ], f = h[0].call(this, s, _, null, n.mangleIDs(_, h[3]), h[4]), p = f || this;
n.set(_, p);
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
g.bind(p.iwin);
p.dom.className = "zopim";
p.iframe.setStyle("display", "block");
p.content.addClass("meshim_widget_Widget");
p.wrapper.addClass(p.__jx__fqname);
p.ibody.style.overflow = "hidden";
f(p.ibody);
N && p.setPosition("relative");
p.autobind(y, "value", function(t) {
if (j != t) {
j = t;
s();
}
});
p.autobind(k, "value", function(t) {
t = parseInt(t, 10);
if (!isNaN(t) && t >= 0) {
E = t;
n();
}
});
p.autobind(B, "value", function(t) {
t = parseInt(t, 10);
if (!isNaN(t) && t >= 0) {
T = t;
n();
}
});
p.autobind(S, "value", function(t) {
t && s();
});
p.autobind(I, "value", function(t) {
l && p.wrapper.removeClass(l);
l = t;
l && p.wrapper.addClass(l);
n();
});
p.autobind(C, "value", function(t) {
t && s();
});
p.autobind(A, "value", function(t) {
t && s();
});
p.autobind(x, "value", function(t) {
if (v != t) {
v = t;
e();
}
});
p.on("click", function() {
c.trackEvent("Button Clicked");
d.resetUnreadCount();
w.write({
button_clicked$bool: !0
});
h.userShowBadgeOrWindow();
});
}
function e() {
var t = v;
p.setDisplay(t ? "" : "none");
s();
}
function n() {
o();
r.bugs.noBoxSizing && window.setTimeout(function() {
p.dom.className = p.dom.className;
}, 100);
}
function o() {
if (N) p.setTop("").setRight("").setBottom("").setLeft(""); else switch (l) {
case "br":
p.setTop("").setLeft("").setMarginLeft("").setRight(E).setBottom(T);
break;

case "bm":
p.setTop("").setRight("").setBottom(T).setLeft("50%").setMarginLeft(-Math.round(p.__width / 2) + "px");
break;

case "bl":
p.setTop("").setRight("").setMarginLeft("").setBottom(T).setLeft(E);
break;

case "tr":
p.setBottom("").setLeft("").setMarginLeft("").setTop(T).setRight(E);
break;

case "tm":
p.setRight("").setBottom("").setTop(T).setLeft("50%").setMarginLeft(-Math.round(p.__width / 2) + "px");
break;

case "tl":
p.setRight("").setBottom("").setMarginLeft("").setTop(T).setLeft(E);
}
}
function s() {
_();
a(_, p, "once");
}
function _() {
var t = C.getValue() || 10;
t !== p.getWidth() && p.setWidth(t + "px");
var e = A.getValue() || 10;
j && (e += S.getValue() || 0);
e !== p.getHeight() && p.setHeight(e + "px");
}
var l, d = i(85), u = i(40), c = i(175), h = i(109), f = i(295), g = i(298), m = u.root.$("livechat"), $ = m.$("settings"), b = m.$("ui"), w = b.$("chat_button"), x = w.$("display$bool"), v = -1, y = w.$("bubble").$("display$bool"), j = -1, C = w.$("button_width$int"), A = w.$("button_height$int"), S = w.$("bubble_height$int"), I = $.$("theme").$("chat_button").$("position$string"), k = $.$$("theme.chat_button.h_offset$int"), B = $.$$("theme.chat_button.v_offset$int"), N = b.$("mockup$bool").getValue(), T = 0, E = 10;
t();
}();
for (var m in g) g.hasOwnProperty(m) && (p[m] = g[m]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(d);
p.setAttributes && p.setAttributes(c);
"function" == typeof p.addChildren ? p.addChildren(u) : n.addChildren(p, u);
if (p !== this) {
p.__jx__constructor = l;
p.__jx__native = !1;
}
return p;
}
var l;
t.prototype = s(e.__$$__jx_ui_FloatingFrame.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_FloatingFrame;
t.__jx__jcss = {
"**self": {
"*width": "100%"
},
"&.bm, &.tm": {
margin: "0 auto"
},
"&.br, &.bm, &.bl": {
".button_bar": {
"borderTopLeftRadius, borderTopRightRadius": "$$chatButtonRadius"
},
".favicon": {
borderTopLeftRadius: "$$chatButtonRadius"
},
".rtl .favicon": {
borderTopLeftRadius: 0,
borderTopRightRadius: "$$chatButtonRadius"
}
},
"&.tr, &.tm, &.tl": {
".button_bar": {
"borderBottomLeftRadius, borderBottomRightRadius": "$$chatButtonRadius"
},
".favicon": {
borderBottomLeftRadius: "$$chatButtonRadius"
},
".rtl .favicon": {
borderBottomLeftRadius: 0,
borderBottomRightRadius: "$$chatButtonRadius"
}
}
};
_(t, "meshim_widget_components_ChatButton");
l = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(7), i(12), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_components_chatButton_BubbleRenderer = i(309);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_chatButton_BubbleRenderer, "", "", [], {
addClass: "bubble_renderer"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:button": "meshim.widget.components.chatButton",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.autobind(o, "value", function(t) {
if (r != t) {
r = t;
h.setDisplay(r ? "" : "none");
}
});
}
var e = i(40), n = e.root.$("livechat").$("ui").$("chat_button"), o = n.$("bubble").$("display$bool"), r = -1;
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "absolute",
width: "100%",
"top, left": 0,
cursor: "pointer"
}
};
a(t, "meshim_widget_components_chatButton_Bubble");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s, _) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_components_chatButton_BubbleVector = i(310);
e.__$$__meshim_widget_widgets_IconFont = i(96);
t.exports = function() {
function t(s, _, d, u, c) {
if (!(this instanceof t)) return new t(s, _, d, u, c);
_ = _ || n.generateID();
var h = o(142), f = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_chatButton_BubbleVector, "bubble_vector", "", [], {
id: "bubble_vector",
position: "absolute"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "close", "", [], {
id: "close",
icon: "cross",
addClass: "close",
title: h
} ], [ e.__$$__jx_ui_Widget, "bubble_title_container", "", [], {
id: "bubble_title_container",
"class": "bubble_title"
} ], [ e.__$$__jx_ui_Widget, "bubble_text_container", "", [], {
id: "bubble_text_container",
"class": "bubble_text"
} ] ], {
"class": "bubble_text_wrapper"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:button": "meshim.widget.components.chatButton",
"xmlns:widgets": "meshim.widget.widgets",
visibility: "hidden"
} ], p = f[0].call(this, s, _, null, n.mangleIDs(_, f[3]), f[4]), g = p || this;
n.set(_, g);
var m = n.get(_ + "__bubble_vector"), $ = n.get(_ + "__close"), b = n.get(_ + "__bubble_title_container"), w = n.get(_ + "__bubble_text_container");
if (!t.__jx__jcss_generated) {
r.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var x = function() {
function t() {
p.rtl(g);
g.autobind(S, "value", function(t) {
if (o != t) {
o = t;
e();
}
});
g.autobind(I, "value", function(t) {
if (r != t) {
r = t;
e();
}
});
g.autobind(N, "value", function(t) {
if (s != t) {
s = t;
b.setText(x.get(N));
e();
}
});
g.autobind(T, "value", function(t) {
if (_ != t) {
_ = t;
w.setText(x.get(T));
w.setDisplay(t ? "" : "none");
e();
}
});
g.autobind(E, "value", function(t) {
t && l != t && (l = t);
});
g.autobind(k, "value", function(t) {
if (t) {
if (d != l) {
d = l;
var i = new v(d);
m.setFill("linear top from(" + i.lighten(.1).toRGB() + ") to(" + i.darken(.2).toRGB() + ") ");
}
e();
}
});
g.autobind(D, "value", function(t) {
t && e();
});
$.on("click", function(t) {
t.stopPropagation();
f.userHideBubble();
});
}
function e() {
if (!u) {
u = window.setTimeout(n, 0);
8 == a.isIE && g.setVisibility("");
}
}
function n() {
u = null;
if (o && r) {
var t = D.getValue();
if (t) {
var e = g.getHeight();
if (e) {
m.setDimension(t, e);
O.update(g.getHeight());
if (!c) {
g.setVisibility("");
c = !0;
}
}
}
}
}
var o, r, s, _, l, d, u, c, h = i(40), f = i(109), p = i(95), x = i(97), v = i(314), y = h.root.$("livechat"), j = y.$("settings"), C = y.$("ui"), A = C.$("chat_button"), S = A.$("display$bool"), I = A.$("bubble").$("display$bool"), k = C.$("theme_loaded$bool"), B = j.$("bubble"), N = B.$("title$string"), T = B.$("text$string"), E = j.$("theme").$("colors").$("bubble$string"), D = A.$("button_width$int"), O = A.$("bubble_height$int");
t();
}();
for (var v in x) x.hasOwnProperty(v) && (g[v] = x[v]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(d);
g.setAttributes && g.setAttributes(c);
"function" == typeof g.addChildren ? g.addChildren(u) : n.addChildren(g, u);
if (g !== this) {
g.__jx__constructor = l;
g.__jx__native = !1;
}
return g;
}
var l;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative"
},
".bubble_text_wrapper": {
position: "relative",
padding: "10px 12px 26px"
},
".bubble_title": {
position: "relative",
zIndex: "1",
fontSize: "$$fontSizeL",
fontWeight: "bold",
color: "$$chatBubbleTitleColor",
whiteSpace: "pre-wrap"
},
".bubble_text": {
position: "relative",
zIndex: "1",
marginTop: "5px",
fontSize: "12px",
fontStyle: "italic",
color: "$$chatBubbleTextColor",
whiteSpace: "pre-wrap"
},
".close": {
"float": "right",
position: "relative",
top: "-1px",
left: "5px",
padding: "6px 4px 2px",
zIndex: "2",
color: "$$chatBubbleCloseColor",
textShadow: "$$chatBubbleCloseShadow",
borderRadius: "$$radius",
"&:hover": {
background: "$$chatBubbleCloseHoverBg"
}
},
"&.rtl .close": {
"float": "left",
left: "auto",
right: "5px"
}
};
_(t, "meshim_widget_components_chatButton_BubbleRenderer");
l = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(7), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_common_GCanvas = i(311);
e.__$$__meshim_common_GShape = i(317);
t.exports = function() {
function t(a, s, _, l, d) {
if (!(this instanceof t)) return new t(a, s, _, l, d);
s = s || n.generateID();
var u = [ e.__$$__meshim_common_GCanvas, "", "", [ [ e.__$$__meshim_common_GShape, "content", "", [], {
id: "content",
fill: "linear, top, from(#E0741B), to(#E0981B)",
stroke: "#c2c2c2"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:common": "meshim.common"
} ], c = u[0].call(this, a, s, null, n.mangleIDs(s, u[3]), u[4]), h = c || this;
n.set(s, h);
var f = n.get(s + "__content");
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
f.setStrokeWidth(c);
h.setDimension = a;
h.setFill = function(t) {
f.setFill(t);
};
}
function e(t, e) {
var n = {
tl: [ t.x, t.y ],
tr: [ t.x + t.width, t.y ],
br: [ t.x + t.width, t.y + t.height ],
bl: [ t.x, t.y + t.height ]
};
e = e.slice();
for (var o = 0; o < e.length; o++) {
var r = e[o], a = r[0];
n[a] && (e[o] = i(n[a], r));
}
return e;
}
function i(t, e) {
var i = t[0], n = t[1], o = [];
e = e.slice();
e.shift();
o.push(e.shift());
for (;e.length > 1; ) {
var r = e.splice(0, 2);
o.push(i + r[0]);
o.push(n + r[1]);
}
return o;
}
function n(t) {
for (var e = "", i = {
cs: o
}, n = 0, r = t.length; n < r; n++) {
var a = t[n], s = a[0];
i[s] && (a = i[s].apply(null, a.slice(1)));
e += " " + a.join(" ");
}
return e;
}
function o(t, e, i) {
var n = t, o = e, r = Math.round(.5522848 * n), a = Math.round(.5522848 * o), s = i ? -n * o : n * o;
return s > 0 ? [ "c", r, 0, n, o - a, n, o ] : [ "c", 0, a, n - r, o, n, o ];
}
function a(t, i) {
if (!r(t) || !r(i) || isNaN(t) || isNaN(i)) throw new window.Error("BubbleVector.setDimension(): invalid arguments");
var o = {
x: c - 1,
y: c - 1,
width: t - 2 * c + 2,
height: i - 2 * c - 3
}, a = n(e(o, p));
h.setWidth(t + "px").setHeight(i + "px").setViewBox("0 0 " + t + " " + i);
f.setPath(a);
return h;
}
var s = 8, _ = 8, l = 8, d = 12, u = 19, c = 2, p = [ [ "tl", "M", 0, _ ], [ "cs", s, -_, 0 ], [ "tr", "L", -s, 0 ], [ "cs", s, _, 0 ], [ "br", "L", 0, -_ - l ], [ "cs", -s, _, 0 ], [ "bl", "L", s + u + d, -l ], [ "bl", "L", s + u + d / 2, 0 ], [ "bl", "L", s + u, -l ], [ "bl", "L", s, -l ], [ "cs", -s, -_, 0 ], [ "z" ] ];
t();
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = i;
h.__jx__native = !1;
}
return h;
}
var i;
t.prototype = a(e.__$$__meshim_common_GCanvas.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_common_GCanvas;
t.__jx__jcss = {};
s(t, "meshim_widget_components_chatButton_BubbleVector");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(23), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t(t, i, o, r, a) {
i = i || e.generateID();
var s, _ = t.ownerDocument;
s = _.createElement("div");
e.extend(s);
n.extend(s);
e.set(i, s);
var l = !1;
s.appendToParent = function(i) {
e.hasParentNode(s) || e.appendChild(t, s);
if (i && !l) {
t.appendToParent && t.appendToParent(!0);
l = !0;
}
};
s.setViewBox = function() {};
s.setStyle(o);
s.setAttributes(a);
e.addChildren(s, r);
s.appendToParent();
return s;
}
var r, a = i(312), s = i(315), _ = i(316), l = i(313), d = l.detectedGraphicType;
switch (d) {
case "canvas":
r = _;
break;

case "vml":
r = a;
break;

case "svg":
r = s;
break;

case "div":
r = t;
}
o(r, "meshim_common_GCanvas");
return r;
}();
}).call(e, i(20), i(6), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t(t, o, r, a, s) {
var _ = i(313);
o = o || e.generateID();
var l, d, u, c, h, f = t.ownerDocument;
l = f.createElement("span");
l.style.display = "inline-block";
l.style.overflow = "hidden";
l.style.position = "relative";
l.vectorType = "vml";
d = _.createVMLNode(f, "group");
d.className = "vml";
d.style.width = "100px";
d.style.height = "100px";
d.style.border = "0px none";
d.style.padding = "0px";
d.style.margin = "0px";
d.style.position = "absolute";
d.style.top = "0px";
d.style.left = "0px";
l.groupshape = d;
u = _.createVMLNode(f, "shape");
u.className = "vml";
u.stroked = !1;
u.fill = !1;
u.style.width = "1px";
u.style.height = "1px";
d.appendChild(u);
l.appendChild(d);
l.graphicType = "vml";
l.defaultPlacement = d;
e.extend(l);
n.extend(l);
e.set(o, l);
var p = !1;
l.appendToParent = function(i) {
e.hasParentNode(l) || e.appendChild(t, l);
if (i && !p) {
t.appendToParent && t.appendToParent(!0);
p = !0;
}
};
l.setCanvasScale = function(t) {
t = parseFloat(t);
c = t;
h && l.setViewBox(h);
return l;
};
l.setViewBox = function(t) {
h = t;
t = _.parseViewBox(t);
var e = l.getElementsByTagName("*"), i = t.x + ", " + t.y, n = "1, 1";
c && (n = 1 / c + "," + 1 / c);
d.coordorigin = i;
for (var o = 0, r = e.length; o < r; o++) {
var a = e[o].tagName;
"shape" !== a && "group" !== a || (e[o].coordsize = n);
}
u.style.left = t.x + "px";
u.style.right = t.y + "px";
return l;
};
var g = l.setWidth, m = l.setHeight;
l.setWidth = function(t) {
"function" == typeof g && g.call(l, t);
d.style.width = "1px";
return l;
};
l.setHeight = function(t) {
"function" == typeof m && m.call(l, t);
d.style.height = "1px";
return l;
};
l.setStyle(r);
l.setAttributes(s);
e.addChildren(l, a);
l.appendToParent();
return l;
}
o(t, "meshim_common_VmlCanvas");
return t;
}();
}).call(e, i(20), i(6), i(4));
}, function(t, e, i) {
(function(e, n, o, r) {
t.exports = function() {
function t(t, e) {
if (!t._vmlstyled) {
var i = t.createElement("style");
i.setAttribute("type", "text/css");
i.styleSheet.cssText = "v\\:*{behavior:url(#default#VML); display: inline-block;} .vml{behavior:url(#default#VML); display: inline-block;}";
t.getElementsByTagName("head")[0].appendChild(i);
i = null;
t._vmlstyled = !0;
}
return t.createElement("<" + e + ' xmlns="urn:schemas-microsoft.com:vml">');
}
function a(t) {
var e = t.split(/\s+/);
if (4 !== e.length) throw "bad viewBox: " + t;
for (var i = 0; i < 4; i++) {
e[i] = parseInt(e[i], 10);
if (isNaN(e[i])) throw "bad viewBox: " + t;
}
return {
x: e[0],
y: e[1],
width: e[2],
height: e[3]
};
}
function s(t) {
var e = t.split(" ");
return {
offsetX: parseInt(e[0], 10),
offsetY: parseInt(e[1], 10),
blurRadius: parseInt(e[2], 10),
color: e[3],
opacity: parseFloat(e[4]),
rgba: "rgba(" + C(e[3]).toArray().join(",") + "," + e[4] + ")"
};
}
function _() {
var t = document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1"), i = document.createElement("canvas").getContext;
return i ? "canvas" : document.createElementNS && t ? "svg" : e.isIE ? "vml" : "none";
}
function l(t) {
var e = /from\(([^)]+\){0,1})\)/.exec(t), i = /to\(([^)]+\){0,1})\)/.exec(t), n = [];
e && n.push({
stop: "0%",
color: new C(e[1])
});
t.replace(/color-stop\(([^)]+\){0,1})\)/g, function(t, e) {
e = d(e);
n.push({
stop: e.substring(0, e.indexOf(" ")),
color: new C(e.substring(e.indexOf(" ")))
});
});
i && n.push({
stop: "100%",
color: new C(i[1])
});
return n;
}
function d(t) {
return t.replace(/[,\s]+/g, " ").trim();
}
function u(t, e) {
function i(t, e, i, n) {
for (var o = 0; o < arguments.length; o++) arguments[o] = parseFloat(arguments[o]);
var r = (n - e) / (i - t);
return Math.round(270 - 180 * Math.atan(r) / Math.PI);
}
e = d(e);
var n, o, r, a, s = e.split(" "), _ = [];
n = s.shift();
switch (s[0]) {
case "left":
s.shift();
o = "270";
break;

case "top":
s.shift();
o = "180";
break;

case "right":
s.shift();
o = "90";
break;

case "bottom":
s.shift();
o = "0";
break;

default:
o = i.apply(null, s.splice(0, 4));
}
r = l(e);
for (var u = 0, c = r.length; u < c; u++) {
a = r[u];
_.push(a.stop + " " + a.color.toStrRGB());
}
var h = j.createVMLNode(t, "fill");
h.className = "vml";
h.setAttribute("on", "true");
h.setAttribute("type", "gradient");
h.setAttribute("angle", o);
h.setAttribute("colors", _.join(","));
h.setAttribute("method", "sigma");
a && 1 !== a.color.alpha && h.setAttribute("opacity", a.color.alpha);
return h;
}
function c(t, e) {
e = d(e);
var i, n, o = e.split(" ");
i = o.shift();
switch (o[0]) {
case "left":
o.shift();
n = "0% 0% 100% 0%".split(" ");
break;

case "top":
o.shift();
n = "0% 0% 0% 100%".split(" ");
break;

case "right":
o.shift();
n = "100% 0% 0% 0%".split(" ");
break;

case "bottom":
o.shift();
n = "0% 100% 0% 0%".split(" ");
break;

default:
n = o.splice(0, 4);
}
var r = t.createElementNS("http://www.w3.org/2000/svg", "linearGradient"), a = "grad_" + new Date().getTime() + Math.round(1001 * Math.random());
r.setAttribute("id", a);
r.setAttribute("x1", n[0]);
r.setAttribute("y1", n[1]);
r.setAttribute("x2", n[2]);
r.setAttribute("y2", n[3]);
r.setAttribute("gradientUnits", "objectBoundingBox");
for (var s, _, u = l(e), c = 0; c < u.length; c++) {
_ = u[c];
_.stop.indexOf("%") > -1 ? _.stop = parseFloat(_.stop) / 100 : _.stop = parseFloat(_.stop);
s = t.createElementNS("http://www.w3.org/2000/svg", "stop");
s.setAttribute("offset", _.stop);
s.setAttribute("stop-color", _.color.toStrRGB());
s.setAttribute("stop-opacity", _.color.alpha);
r.appendChild(s);
}
return r;
}
function h(t) {
function e(t) {
for (var e = t.length; e--; ) t[e] += s[e % 2];
n(t);
return t;
}
function i(t, e) {
_.push({
command: A[t],
coords: e
});
}
function n(t) {
if (2 == t.length) {
h.x.push(t[0]);
h.y.push(t[1]);
} else {
if (6 != t.length) throw "problem with updateBBox";
var e = o(s.concat(t));
h.x.push(e.minX, e.maxX);
h.y.push(e.minY, e.maxY);
}
}
function o(t) {
var e = t[0], i = t[1], n = t[2], o = t[3], a = t[4], s = t[5], _ = t[6], l = t[7], d = [ e, _ ].concat(r(e, n, a, _)), u = [ i, l ].concat(r(i, o, s, l));
return {
minX: Math.min.apply(null, d),
minY: Math.min.apply(null, u),
maxX: Math.max.apply(null, d),
maxY: Math.max.apply(null, u)
};
}
function r(t, e, i, n) {
var o, r, a, s = [], _ = [];
if (t - 3 * e + 3 * i - n !== 0) {
r = (Math.sqrt(-t * i + t * n + e * e - e * i - e * n + i * i) - t + 2 * e - i) / (-t + 3 * e - 3 * i + n);
a = (-Math.sqrt(-t * i + t * n + e * e - e * i - e * n + i * i) - t + 2 * e - i) / (-t + 3 * e - 3 * i + n);
s.push(r, a);
} else if (t - 3 * e + 3 * i - n === 0 && t - 2 * e + i !== 0) {
o = (t - e) / (2 * (t - 2 * e + i));
s.push(o);
}
for (var l = 0; l < s.length; l++) {
o = s[l];
o < 0 || o > 1 || _.push(Math.pow(1 - o, 3) * t + 3 * (1 - o) * (1 - o) * o * e + 3 * (1 - o) * o * o * i + o * o * o * n);
}
return _;
}
t = t.replace(/[A-Za-z]/g, " $& ").replace(/,/g, " ").replace(/-/g, " -").replace(/\s+/g, " ").trim();
for (var a = t.split(" "), s = [ 0, 0 ], _ = [ {
command: "beginPath"
} ], l = 0, d = a.length; l < d; l++) if (!/^[A-Za-z]/.test(a[l])) {
a[l] = parseFloat(a[l]);
if (isNaN(a[l])) throw new window.Error("Bad path after " + a.slice(0, l).join(" "));
}
for (var u, c = [], h = {
x: [],
y: []
}; a.length; ) {
/^[a-z]$/i.test(a[0]) && (u = a.shift());
switch (u) {
case "M":
c = a.splice(0, 2);
n(c);
i("M", c);
s = c;
break;

case "m":
c = e(a.splice(0, 2));
i("M", c);
s = c;
break;

case "Z":
case "z":
i("Z", []);
break;

case "l":
c = e(a.splice(0, 2));
i("L", c);
s = c;
break;

case "L":
c = a.splice(0, 2);
n(c);
i("L", c);
s = c;
break;

case "c":
c = e(a.splice(0, 6));
i("C", c);
s = [ c[4], c[5] ];
break;

default:
throw new window.Error("Unknown canvas command: " + u);
}
}
var f = function(t) {
for (var e = 0, i = _.length; e < i; e++) {
var n = _[e];
t[n.command].apply(t, n.coords);
}
};
f.bBox = {
minX: Math.min.apply(null, h.x),
minY: Math.min.apply(null, h.y),
maxX: Math.max.apply(null, h.x),
maxY: Math.max.apply(null, h.y)
};
return f;
}
function f(t) {
function e(t, n) {
t = new t.constructor(t, i);
t.id && !n && o.set(t.id, t);
t.attributes && t.setAttributes(t.attributes);
if (t.childrens) for (var r = 0, a = t.childrens.length; r < a; r++) t.childrens[r] = e(t.childrens[r]);
return t;
}
var i = new p(t);
n.extend(i);
e(i, "ignore-id");
return i;
}
function p(t, e) {
t || (t = {});
this.id = t.id;
e && (this.root = e);
this.attributes = t.attributes;
this.childrens = t.childrens;
}
function g(t) {
return t.replace(/^\w/, function(t) {
return t.toUpperCase();
});
}
function m(t, e) {
switch (t) {
case "viewBox":
return a(e);

case "path":
return h(e);

case "fill":
return $(e);

case "shadow":
return s(e);

default:
return e;
}
}
function $(t) {
t = d(t);
return /linear/.test(t) ? function(e, i) {
return b(t, e, i);
} : function() {
return t;
};
}
function b(t, e, i) {
t = t.replace(/,/g, " ").replace(/\s+/g, " ");
var n, o, r = t.split(" ");
o = r.shift();
switch (r.shift()) {
case "left":
n = e.createLinearGradient(i.minX, i.minY, i.maxX, i.minY);
break;

case "top":
n = e.createLinearGradient(i.minX, i.minY, i.minX, i.maxY);
break;

case "right":
n = e.createLinearGradient(i.maxX, i.minY, i.minX, i.minY);
break;

case "bottom":
n = e.createLinearGradient(i.minX, i.maxY, i.minX, i.minY);
}
for (var a, s = l(t), _ = 0; _ < s.length; _++) {
a = s[_];
a.stop.indexOf("%") > -1 ? a.stop = parseFloat(a.stop) / 100 : a.stop = parseFloat(a.stop);
n.addColorStop(a.stop, a.color.toStrRGBA());
}
return n;
}
function w(t) {
var e = x(t);
if (t.border) {
var i = {}, n = t.border;
for (var o in t) t.hasOwnProperty(o) && (i[o] = t[o]);
i.x += n;
i.y += n;
i.width -= 2 * n;
i.height -= 2 * n;
i.rx && (i.rx = Math.max(i.rx - n, 1));
i.ry && (i.ry = Math.max(i.ry - n, 1));
e += x(i, "CCW");
}
return e;
}
function x(t, e) {
var i = t.rx, n = t.ry, o = t.width, r = t.height, a = t.x, s = t.y, _ = Math.round(s + r / 2), l = "";
if (i || n) {
var d = .5522848 * i, u = .5522848 * n, c = o - 2 * i, h = r - 2 * n;
l = e ? y("M", a + o, s + n) + (t.corner2 ? v(-i, -n, d, u, 1) : y("l", 0, -n, -i, 0)) + y("l", -c, 0) + (t.corner1 ? v(-i, n, d, u, 1) : y("l", -i, 0, 0, n)) + y("l", 0, h) + (t.corner4 ? v(i, n, d, u, 1) : y("l", 0, n, i, 0)) + y("l", c, 0) + (t.corner3 ? v(i, -n, d, u, 1) : y("l", i, 0, 0, -n)) + "z" : y("M", a, s + n) + (t.corner1 ? v(i, -n, d, u) : y("l", 0, -n, i, 0)) + y("l", c, 0) + (t.corner2 ? v(i, n, d, u) : y("l", i, 0, 0, n)) + y("l", 0, h) + (t.corner3 ? v(-i, n, d, u) : y("l", 0, n, -i, 0)) + y("l", -c, 0) + (t.corner4 ? v(-i, -n, d, u) : y("l", -i, 0, 0, -n)) + "z";
} else {
e && (r = -r);
l = y("M", a, _) + y("l", 0, e ? s - r - _ : s - _) + y("l", o, 0) + y("l", 0, r) + y("l", -o, 0) + "z";
}
return l;
}
function v(t, e, i, n, o) {
var r = t > 0 ? 1 : -1, a = e > 0 ? 1 : -1, s = o ? -r * a : r * a, _ = 1 == s ? r * i : 0, l = 1 == s ? 0 : a * n, d = 1 == s ? t : t - r * i, u = 1 == s ? e - a * n : e;
return y("c", _, l, d, u, t, e);
}
function y(t) {
var e = " ", i = Array.prototype.slice.apply(arguments);
if ("string" == typeof i[0] && /^[A-Za-z]$/.test(i[0])) {
e += t;
i.shift();
}
for (var n = 0, o = i.length; n < o; n++) e += Math.round(i[n]) + " ";
return e;
}
var j = {
parseViewBox: a,
parseShadow: s,
detectedGraphicType: _(),
getGradColors: l,
parseCanvasData: f,
CanvasData: p,
generateVmlLinearGradient: u,
generateSvgLinearGradient: c,
generateCanvasGradient: b,
generate_drawing_function: h,
generateRectPath: w,
createVMLNode: t
}, C = i(314), A = {
M: "moveTo",
L: "lineTo",
C: "bezierCurveTo",
Z: "closePath"
};
p.prototype.setAttribute = function(t, e) {
this.attributes[t] = m(t, e);
this.refresh();
return this;
};
p.prototype.setAttributes = function(t) {
for (var e in t) if (t.hasOwnProperty(e)) {
var i = "set" + g(e);
"function" == typeof this[i] && this[i](t[e]);
}
};
p.prototype.refresh = function() {
this.root ? this.root.fire("update") : this.fire("update");
return this;
};
p.prototype.getAttribute = function(t) {
return this.attributes[t];
};
p.prototype.destroy = function() {
this.id && o.unset(this);
this.root = null;
var t = this.childrens;
if (t) for (var e = 0, i = t.length; e < i; e++) t[e] instanceof p && t[e].destroy();
};
for (var S = "opacity fill stroke strokeWidth d path shadow viewBox".split(" "), I = 0; I < S.length; I++) {
var k = S[I];
p.prototype["set" + g(k)] = function(t) {
return function(e) {
return this.setAttribute(t, e);
};
}(k);
}
r(j, "meshim_common_Graphic");
return j;
}();
}).call(e, i(7), i(6), i(20), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(e) {
if (!(this instanceof t)) return new t(e);
var r = "";
"object" == typeof e ? r = "object" : /#/.test(e) ? r = "hex" : /hsl\(.+\)/.test(e) ? r = "hsl" : /hsv\(.+\)/.test(e) ? r = "hsv" : /rgba\(.+\)/.test(e) && (r = "rgba");
switch (r) {
case "object":
n.call(this, e);
break;

case "hex":
i.call(this, e);
break;

case "hsl":
o.call(this, e);
break;

case "hsv":
s.call(this, e);
break;

case "rgba":
a.call(this, e);
}
"number" != typeof this.alpha && (this.alpha = 1);
}
function i(t) {
t = t.replace(/#/g, "").replace(/\s+/g, " ").replace(/^\s|\s$/g, "");
/^\w{3}/.test(t) && (t = t.replace(/^(\w)(\w)(\w)$/, "$1$1$2$2$3$3"));
this.red = parseInt(t.substr(0, 2), 16);
this.green = parseInt(t.substr(2, 2), 16);
this.blue = parseInt(t.substr(4, 2), 16);
}
function n(t) {
if ("red" in t && "green" in t && "blue" in t) {
this.red = t.red;
this.green = t.green;
this.blue = t.blue;
this.alpha = t.alpha;
} else "h" in t && "s" in t && "l" in t ? r.call(this, t) : "h" in t && "s" in t && "v" in t && _.call(this, t);
}
function o(t) {
t = t.replace(/[A-Za-z]+|\(|\)/g, "").replace(/,/g, " ").replace(/\s+/g, " ").replace(/^\s|\s$/g, "");
var e = t.split(" "), i = {
h: parseFloat(e[0]) < 0 ? 360 + parseFloat(e[0]) % 360 : parseFloat(e[0]) % 360,
s: e[1].indexOf("%") < 0 ? parseFloat(e[1]) : parseInt(e[1], 10) / 100,
l: e[2].indexOf("%") < 0 ? parseFloat(e[2]) : parseInt(e[2], 10) / 100
};
r.call(this, i);
}
function r(t) {
var e, i = t.h, n = t.s, o = t.l, r = (1 - Math.abs(2 * o - 1)) * n, a = i / 60, s = r * (1 - Math.abs(a % 2 - 1)), _ = o - .5 * r;
switch (Math.floor(a)) {
case 0:
e = [ r, s, 0 ];
break;

case 1:
e = [ s, r, 0 ];
break;

case 2:
e = [ 0, r, s ];
break;

case 3:
e = [ 0, s, r ];
break;

case 4:
e = [ s, 0, r ];
break;

case 5:
e = [ r, 0, s ];
}
this.red = Math.round(255 * (e[0] + _));
this.green = Math.round(255 * (e[1] + _));
this.blue = Math.round(255 * (e[2] + _));
}
function a(t) {
t = t.replace(/[A-Za-z(,]+/g, " ").replace(/\s+/g, " ").replace(/^\s|\s$/g, "");
var e = t.split(" ");
this.red = parseInt(e[0], 10);
this.green = parseInt(e[1], 10);
this.blue = parseInt(e[2], 10);
this.alpha = parseFloat(e[3]);
}
function s(t) {
t = t.replace(/[A-Za-z%]+|\(|\)/g, "").replace(/,/g, " ").replace(/\s+/g, " ").replace(/^\s|\s$/g, "");
var e = t.split(" "), i = {
h: parseFloat(e[0]) < 0 ? (360 + parseFloat(e[0])) % 360 : parseFloat(e[0]) % 360,
s: e[1].indexOf("%") < 0 ? parseFloat(e[1]) : parseInt(e[1], 10) / 100,
v: e[2].indexOf("%") < 0 ? parseFloat(e[2]) : parseInt(e[2], 10) / 100
};
_.call(this, i);
}
function _(t) {
var e, i = t.h, n = t.s, o = t.v, r = o * n, a = i / 60, s = r * (1 - Math.abs(a % 2 - 1)), _ = o - r;
switch (Math.floor(a)) {
case 0:
e = [ r, s, 0 ];
break;

case 1:
e = [ s, r, 0 ];
break;

case 2:
e = [ 0, r, s ];
break;

case 3:
e = [ 0, s, r ];
break;

case 4:
e = [ s, 0, r ];
break;

case 5:
e = [ r, 0, s ];
}
this.red = Math.round(255 * (e[0] + _));
this.green = Math.round(255 * (e[1] + _));
this.blue = Math.round(255 * (e[2] + _));
}
var l = [ "red", "green", "blue" ];
t.prototype.lighten = function(e) {
var i = this.toHSL();
i.l = i.l + (1 - i.l) * e;
return new t(i);
};
t.prototype.darken = function(e) {
var i = this.toHSL();
i.l = i.l - i.l * e;
return new t(i);
};
t.prototype.blend = function(e, i) {
e instanceof t || (e = new t(e));
for (var n = {}, o = 0; o < 3; o++) {
var r = this[l[o]], a = e[l[o]];
n[l[o]] = Math.round(r + (a - r) * i);
}
return new t(n);
};
t.prototype.complement = function() {
var e = this.red, i = this.blue, n = this.green, o = Math.max(e, i, n), r = Math.min(e, i, n), a = {};
a.red = o + r - e;
a.green = o + r - n;
a.blue = o + r - i;
return new t(a);
};
t.prototype.toStrRGB = t.prototype.toRGB = function() {
for (var t = [], e = 0; e < 3; e++) {
var i = this[l[e]].toString(16);
t[e] = i.length < 2 ? "0" + i : i;
}
return "#" + t.join("");
};
t.prototype.toStrRGBA = function() {
return "rgba(" + [ this.red, this.green, this.blue, this.alpha ].join(",") + ")";
};
t.prototype.toHSL = function() {
var t, e, i, n, o = this.red / 255, r = this.green / 255, a = this.blue / 255, s = Math.max(o, r, a), _ = Math.min(o, r, a), l = s - _;
0 === l ? n = 0 : s == o ? n = (r - a) / l % 6 : s == r ? n = (a - o) / l + 2 : s == a && (n = (o - r) / l + 4);
t = 60 * n;
t = t < 0 ? 360 + t % 360 : t % 360;
i = .5 * (s + _);
e = 0 === l ? 0 : l / (1 - Math.abs(2 * i - 1));
return {
h: t,
s: e,
l: i
};
};
t.prototype.toHSV = function() {
var t, e, i, n, o = this.red / 255, r = this.green / 255, a = this.blue / 255, s = Math.max(o, r, a), _ = Math.min(o, r, a), l = s - _;
0 === l ? n = 0 : s == o ? n = (r - a) / l % 6 : s == r ? n = (a - o) / l + 2 : s == a && (n = (o - r) / l + 4);
t = 60 * n;
t = t < 0 ? 360 + t % 360 : t % 360;
i = s;
e = 0 === l ? 0 : l / i;
return {
h: t,
s: e,
v: i
};
};
t.prototype.toArray = function() {
return [ this.red, this.green, this.blue ];
};
t.prototype.clone = function() {
return new t(this);
};
t.prototype.validate = function() {
for (var t = 0; t < 3; t++) {
var e = this[l[t]];
if (!("number" == typeof e && e >= 0 && e <= 255)) return !1;
}
return "number" == typeof this.alpha && this.alpha >= 0 && this.alpha <= 1;
};
e(t, "meshim_common_Color");
return t;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, i, n) {
t.exports = function() {
function t(t, n, o, r, a) {
n = n || e.generateID();
var s, _ = t.ownerDocument;
s = _.createElementNS("http://www.w3.org/2000/svg", "svg");
s.vectorType = "svg";
e.extend(s);
i.extend(s);
e.set(n, s);
var l = !1;
s.appendToParent = function(i) {
e.hasParentNode(s) || e.appendChild(t, s);
if (i && !l) {
t.appendToParent && t.appendToParent(!0);
l = !0;
}
};
s.setClass = function(t) {
s.setAttribute("class", t);
return s;
};
s.addClass = function(t) {
s.setAttribute("class", s.getAttribute("class") + " " + t);
return s;
};
s.removeClass = function(t) {
var e = s.getAttribute("class"), i = new RegExp("\\b" + t + "\\b", "g");
e.replace(i, "");
s.setAttribute("class", e);
return s;
};
s.setViewBox = function(t) {
s.setAttribute("viewBox", t);
return s;
};
s.setStyle(o);
s.setAttributes(a);
e.addChildren(s, r);
s.appendToParent();
return s;
}
n(t, "meshim_common_SvgCanvas");
return t;
}();
}).call(e, i(20), i(6), i(4));
}, function(t, e, i) {
(function(e, n, o, r) {
t.exports = function() {
function t(t, r, a, s, _) {
function l() {
w && window.clearInterval(w);
var t = Math.floor(201 * Math.random()) - 100;
w = window.setTimeout(u, 1e3 + t);
}
function d() {
w && window.clearTimeout(w);
}
function u() {
if (j && j.attributes.viewBox) {
m();
c();
h(j.childrens);
}
}
function c() {
var t = j.attributes.viewBox, e = j.attributes.canvasScale ? parseFloat(j.attributes.canvasScale) : 1;
x.width != t.width && (x.width = t.width * e);
x.height != t.height && (x.height = t.height * e);
v.scale(e, e);
v.transform(1, 0, 0, 1, -t.x * e, -t.y * e);
o.isWebKit && t.width * t.height > 4e4 ? l() : d();
f(j);
}
function h(t) {
for (var e = 0, i = t.length; e < i; e++) {
var n = t[e];
v.save();
n.childrens && h(n.childrens);
f(n);
v.restore();
}
}
function f(t) {
var e = t.attributes;
p();
e.left && "function" == typeof t.translateX && t.translateX(v, e.left);
e.top && "function" == typeof t.translateY && t.translateY(v, e.right);
"opacity" in e && (v.globalAlpha = e.opacity * v.globalAlpha);
if (e.path) {
e.stroke && (v.strokeStyle = e.stroke);
e.strokeWidth && (v.lineWidth = e.strokeWidth);
e.fill && (v.fillStyle = e.fill(v, e.path.bBox));
if (e.shadow && !o.isOpera) {
var i = e.shadow;
v.shadowOffsetX = i.offsetX;
v.shadowOffsetY = i.offsetY;
v.shadowBlur = i.blurRadius;
v.shadowColor = i.rgba;
}
e.path(v);
v.fill();
e.shadow && g();
v.stroke();
}
}
function p() {
v.strokeStyle = "rgba(0, 0, 0, 0)";
v.fillStyle = "rgba(0, 0, 0, 1)";
v.lineWidth = 0;
}
function g() {
v.shadowOffsetX = 0;
v.shadowOffsetY = 0;
v.shadowBlur = 0;
v.shadowColor = "#000";
}
function m() {
v.setTransform(1, 0, 0, 1, 0, 0);
v.clearRect(0, 0, x.width, x.height);
}
function $(t) {
for (var e = [], i = 0, n = t.length; i < n; i++) {
var o = t[i];
e.push({
constructor: o[0],
id: o[1],
attributes: o[4],
childrens: $(o[3])
});
}
return e;
}
var b = i(313);
r = r || e.generateID();
var w, x, v, y = t.ownerDocument, j = new b.parseCanvasData({
type: "canvas",
attributes: {},
childrens: []
});
x = y.createElement("canvas");
x.width = 0;
x.height = 0;
x.vectorType = "canvas";
x.getContext && (v = x.getContext("2d"));
e.extend(x);
n.extend(x);
e.set(r, x);
var C = !1;
x.appendToParent = function(i) {
e.hasParentNode(x) || e.appendChild(t, x);
if (i && !C) {
t.appendToParent && t.appendToParent(!0);
C = !0;
}
};
x.setData = function(t) {
"function" == typeof j.destroy && j.destroy();
j = new b.parseCanvasData(t);
d();
u();
j.on("update", u);
};
x.onDestruction(function() {
d();
"function" == typeof j.destroy && j.destroy();
});
x.setViewBox = function(t) {
j.setAttribute("viewBox", t);
return x;
};
x.setStyle(a);
x.setAttributes(_);
j = {
type: "canvas",
attributes: _,
childrens: $(s)
};
x.setData(j);
x.appendToParent();
return x;
}
r(t, "meshim_common_Canvas");
return t;
}();
}).call(e, i(20), i(6), i(7), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t() {
return null;
}
var n, o = i(318), r = i(319), a = i(313), s = a.detectedGraphicType;
switch (s) {
case "canvas":
n = a.CanvasData;
break;

case "vml":
n = o;
break;

case "svg":
n = r;
break;

case "div":
n = t;
}
e(n, "meshim_common_GShape");
return n;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t(t, o, r, a, s) {
var _ = i(313);
o = o || e.generateID();
var l, d = t.ownerDocument;
l = _.createVMLNode(d, "shape");
l.className = "vml";
l.style.width = "100%";
l.style.height = "100%";
l.stroked = !1;
l.filled = !0;
l.fillColor = "#000000";
l.vectorType = "vml";
var u = _.createVMLNode(d, "skew");
u.className = "vml";
u.setAttribute("on", "true");
u.setAttribute("matrix", "1,0,0,1,0,0");
u.setAttribute("offset", "-0.5,-0.5");
l.appendChild(u);
e.extend(l);
n.extend(l);
e.set(o, l);
var c = !1;
l.appendToParent = function(i) {
e.hasParentNode(l) || e.appendChild(t, l);
if (i && !c) {
t.appendToParent && t.appendToParent(!0);
c = !0;
}
if ("vml" == l.vectorType) {
l.style.width = "100%";
l.style.height = "100%";
}
};
l.moveRight = function(t) {
var e = parseInt(t, 10);
if (isNaN(e)) return l;
l.style.left = (parseInt(l.style.left, 10) || 0) + e;
var i = l.style.display;
l.style.display = "none";
l.style.display = i;
};
l.setLeft = l.moveRight;
l.moveDown = function(t) {
var e = parseInt(t, 10);
if (isNaN(e)) return l;
l.style.top = (parseInt(l.style.top, 10) || 0) + e;
var i = l.style.display;
l.style.display = "none";
l.style.display = i;
};
l.setTop = l.moveDown;
l.setPath = function(t) {
var e, i;
t = t.replace(/c/g, "v").replace(/z/g, "x").replace(/m/g, "t").replace(/l/g, "r").replace(/L/g, "l") + "e";
i = l.getElementsByTagName("v:path")[0];
e = i ? i : _.createVMLNode(d, "path");
e.className = "vml";
e.setAttribute("v", t);
l.appendChild(e);
return l;
};
l.setOpacity = function(t) {
var e = parseFloat(t), i = _.createVMLNode(d, "fill");
i.className = "vml";
i.setAttribute("opacity", e);
i.setAttribute("o:opacity2", e);
l.appendChild(i);
return l;
};
l.setFill = function(t) {
var e = _.createVMLNode(d, "fill");
e.className = "vml";
if (/linear/.test(t)) e = _.generateVmlLinearGradient(d, t); else {
e = _.createVMLNode(d, "fill");
e.className = "vml";
"none" == t ? e.setAttribute("on", "false") : e.setAttribute("on", "true");
e.setAttribute("color", t);
}
l.appendChild(e);
return l;
};
l.setStroke = function(t) {
var e = _.createVMLNode(d, "stroke");
e.className = "vml";
"none" == t ? e.setAttribute("on", "false") : e.setAttribute("on", "true");
e.setAttribute("color", t);
l.appendChild(e);
return l;
};
l.setStrokeWidth = function(t) {
var e = _.createVMLNode(d, "stroke");
e.className = "vml";
t = parseInt(t, 10);
e.setAttribute("on", "true");
e.setAttribute("weight", t);
l.appendChild(e);
return l;
};
var h = 1, f = 1;
l.resetTransform = function() {
h = f = 1;
l.style.left = l.style.top = NaN;
return l;
};
l.flipAlong = function(t) {
t = t.split("");
for (var e = 0; e < t.length; e++) switch (t[e]) {
case "x":
h = -h;
break;

case "y":
f = -f;
}
var i = "";
h == -1 && (i += "x");
f == -1 && (i += "y");
l.style.flip = i;
return l;
};
l.setShadow = function(t) {
var e = _.createVMLNode(d, "shadow");
e.className = "vml";
t = _.parseShadow(t);
e.setAttribute("on", "true");
e.setAttribute("opacity", t.opacity);
e.setAttribute("color", t.color);
e.setAttribute("offset", t.offsetX + "px," + t.offsetY + "px");
l.appendChild(e);
return l;
};
e.addChildren(l, a);
l.appendToParent();
l.setStyle(r);
l.setAttributes(s);
return l;
}
o(t, "meshim_common_VmlShape");
return t;
}();
}).call(e, i(20), i(6), i(4));
}, function(t, e, i) {
(function(e, n, o, r) {
t.exports = function() {
function t(t, r, a, s, _) {
function l(t, e) {
return [ [ t, 0, 0 ], [ 0, e, 0 ], [ 0, 0, 1 ] ];
}
function d(t, e) {
return [ [ 1, 0, t ], [ 0, 1, e ], [ 0, 0, 1 ] ];
}
function u(t) {
return [ t[0][0], t[1][0], t[0][1], t[1][1], t[0][2], t[1][2] ].join(" ");
}
function c(t) {
var e = p.generateSvgLinearGradient(m, t), i = m.createElementNS("http://www.w3.org/2000/svg", "defs");
i.appendChild(e);
g.parentNode.appendChild(i);
g.setAttribute("fill", "url(#" + e.id + ")");
return g;
}
function h(t, e) {
var i, n, o = [];
for (var r in t) if (t.hasOwnProperty(r)) {
i = e ? m.createElementNS(e, r) : m.createElement(r);
n = t[r];
for (var a in n) n.hasOwnProperty(a) && i.setAttribute(a, n[a]);
o.push(i);
}
return o;
}
function f() {
for (var t = [ [ 1, 0, 0 ], [ 0, 1, 0 ], [ 0, 0, 1 ] ], e = 0; e < arguments.length; e++) {
for (var i = [], n = arguments[e], o = 0; o < 3; o++) {
i[o] = [];
for (var r = 0; r < 3; r++) {
for (var a = 0, s = 0; s < 3; s++) a += t[o][s] * n[s][r];
i[o][r] = a;
}
}
t = i;
}
return t;
}
var p = i(313);
r = r || e.generateID();
var g, m = t.ownerDocument;
g = m.createElementNS("http://www.w3.org/2000/svg", "path");
g.vectorType = "svg";
e.extend(g);
n.extend(g);
e.set(r, g);
var $ = !1;
g.appendToParent = function(i) {
e.hasParentNode(g) || e.appendChild(t, g);
if (i && !$) {
t.appendToParent && t.appendToParent(!0);
$ = !0;
}
};
g.setClass = function(t) {
g.setAttribute("class", t);
return g;
};
g.addClass = function(t) {
g.setAttribute("class", g.getAttribute("class") + " " + t);
return g;
};
g.removeClass = function(t) {
var e = g.getAttribute("class"), i = new RegExp("\\b" + t + "\\b", "g");
e.replace(i, "");
g.setAttribute("class", e);
return g;
};
g.setPath = function(t) {
g.setAttribute("d", t);
return g;
};
g.setOpacity = function(t) {
g.style.opacity = parseFloat(t);
return g;
};
g.setFill = function(t) {
/linear/.test(t) ? c(t) : g.setAttribute("fill", t);
return g;
};
g.setStroke = function(t) {
g.setAttribute("stroke", t);
return g;
};
g.setStrokeWidth = function(t) {
g.setAttribute("stroke-width", t);
return g;
};
var b = [ [ 1, 0, 0 ], [ 0, 1, 0 ], [ 0, 0, 1 ] ];
g.resetTransform = function() {
g.setAttribute("transform", "");
b = [ [ 1, 0, 0 ], [ 0, 1, 0 ], [ 0, 0, 1 ] ];
return g;
};
g.moveRight = function(t) {
var e = parseInt(t, 10);
if (isNaN(e)) return g;
b = f(b, d(e, 0));
g.setAttribute("transform", "matrix(" + u(b) + ")");
return g;
};
g.setLeft = g.moveRight;
g.moveDown = function(t) {
var e = parseInt(t, 10);
if (isNaN(e)) return g;
b = f(b, d(0, e));
g.setAttribute("transform", "matrix(" + u(b) + ")");
return g;
};
g.setTop = g.moveDown;
g.flipAlong = function(t) {
t = t.split("");
for (var e = 0; e < t.length; e++) {
var i = g.getBBox();
switch (t[e]) {
case "x":
b = f(b, l(-1, 1), d(-(2 * i.x + i.width), 0));
g.setAttribute("transform", "matrix(" + u(b) + ")");
break;

case "y":
b = f(b, l(1, -1), d(0, -(2 * i.y + i.height)));
g.setAttribute("transform", "matrix(" + u(b) + ")");
}
}
if (o.isWebkit) {
var n = g.getAttribute("filter");
g.setAttribute("filter", "");
g.setAttribute("filter", n);
}
return g;
};
g.setShadow = function(t) {
t = p.parseShadow(t);
var e, i;
if (!o.isOpera) {
var n = {
feOffset: {
result: "offset-out",
"in": "SourceGraphic",
dx: t.offsetX,
dy: t.offsetY
},
feColorMatrix: {
result: "matrix-out",
"in": "offset-out",
type: "matrix",
values: "0.2 0 0 0 0 0 0.2 0 0 0 0 0 0.2 0 0 0 0 0 1 0"
},
feGaussianBlur: {
result: "blur-out",
"in": "matrix-out",
stdDeviation: t.blurRadius / 2
},
feBlend: {
"in": "SourceGraphic",
in2: "blur-out",
mode: "normal"
}
};
e = m.createElementNS("http://www.w3.org/2000/svg", "filter"), i = "sha_" + new Date().getTime();
e.setAttribute("id", i);
for (var r = h(n, "http://www.w3.org/2000/svg"), a = 0; a < r.length; a++) e.appendChild(r[a]);
var s = m.createElementNS("http://www.w3.org/2000/svg", "defs");
s.appendChild(e);
g.parentNode.appendChild(s);
g.setAttribute("filter", "url(#" + i + ")");
return g;
}
};
e.addChildren(g, s);
g.appendToParent();
g.setStyle(a);
g.setAttributes(_);
return g;
}
r(t, "meshim_common_SvgShape");
return t;
}();
}).call(e, i(20), i(6), i(7), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s, _, l) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_components_chatButton_ButtonBar = i(321);
t.exports = function() {
function t(_, l, u, c, h) {
if (!(this instanceof t)) return new t(_, l, u, c, h);
l = l || n.generateID();
var f = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_chatButton_ButtonBar, "button_bar", "", [], {
id: "button_bar",
addClass: "button_bar"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatButton": "meshim.widget.components.chatButton",
visibility: "hidden"
} ], p = f[0].call(this, _, l, null, n.mangleIDs(l, f[3]), f[4]), g = p || this;
n.set(l, g);
var m = n.get(l + "__button_bar");
if (!t.__jx__jcss_generated) {
o.generate(_, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
function t() {
var t;
t = c && "undefined" != typeof h && !h ? v.cookie_law.disabled : "offline" != l || p ? v.get(D) : v.get(O);
if ($ != t) {
$ = t;
m.updateGreeting(t);
}
}
function i() {
var e = "offline" == l && p ? v.status.online : v.status[l || "offline"];
m.setStatusText(e);
b(t);
}
function n() {
m.updateUnread(k);
}
function o() {
b(n, t);
}
function b() {
for (var t = 0, i = arguments.length; t < i; t++) a(arguments[t]) && arguments[t]();
e();
}
x.rtl(g);
g.autobind(S, "value", function(t) {
if (_ !== t) {
_ = t;
b();
}
});
g.autobind(I, "value", function(t) {
k = t;
b(n);
});
g.autobind(D, "value", function(e) {
d = e;
b(t);
});
g.autobind(O, "value", function(e) {
u = e;
b(t);
});
g.autobind(L, "value", function(e) {
h = e;
b(t);
});
g.autobind(V, "value", function(t) {
if (p !== t) {
p = t;
m.setIsChatting(t);
b(i);
}
});
g.autobind(P, "value", function(e) {
c = e;
b(t);
});
g.autobind(F, "value", e);
if (r && r.onLanguage) {
r.onLanguage(o);
g.onDestruction(function() {
r.unLanguage(o);
});
}
g.autobind(N, "value", function(t) {
if (T !== t) {
T = t;
m.setStatusDisplay(t);
b();
}
});
g.autobind(B, "value", function(t) {
if (l !== t) {
l = t;
b(i);
}
});
g.autobind(M, "value", function(t) {
if (void 0 !== t && f !== t) {
f = t;
m.setLanguageDirection(t);
}
});
s(y.ieQuirksModeFix);
}
function e() {
s(n, g, !0);
}
function n() {
W.update(parseInt(g.getWidth(), 10) || parseInt(o.getVariable("chatButtonMinWidth"), 10));
R.update(parseInt(o.getVariable("chatButtonHeight"), 10));
if (!b && $) {
g.setVisibility("");
b = !0;
}
}
var _, l, d, u, c, h, f, p, $, b, w = i(40), x = i(95), v = i(97), y = i(248), j = w.root.$("livechat"), C = j.$("ui"), A = C.$("chat_button"), S = A.$("display$bool"), I = A.$("unread_count$int"), k = 0, B = j.$("account").$("status$string"), N = j.$("settings").$("theme").$("chat_button").$("display_status$bool"), T = -1, E = j.$("settings").$("greetings"), D = E.$("online$string"), O = E.$("offline$string"), P = j.$("settings").$("cookie_law").$("enabled$bool"), L = j.$("profile").$("allow_cookies$bool"), W = A.$("button_width$int"), R = A.$("button_height$int"), F = C.$("theme_loaded$bool"), M = C.$("lang_dir$string"), V = j.$("channel").$("chatting$bool");
t();
}();
for (var b in $) $.hasOwnProperty(b) && (g[b] = $[b]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(u);
g.setAttributes && g.setAttributes(h);
"function" == typeof g.addChildren ? g.addChildren(c) : n.addChildren(g, c);
if (g !== this) {
g.__jx__constructor = d;
g.__jx__native = !1;
}
return g;
}
var d;
t.prototype = _(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
margin: "0 auto",
position: "absolute",
"bottom, left": 0
},
".button_bar": {
"minWidth, *width": "$$chatButtonMinWidth",
maxWidth: "$$chatButtonMaxWidth",
height: "$$chatButtonHeight",
color: "$$chatButtonColor",
background: "$$chatButtonBg",
boxShadow: "$$chatButtonShadow"
},
"**self, **self *": {
cursor: "pointer"
}
};
l(t, "meshim_widget_components_chatButton_Button");
d = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(22), i(9), i(12), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s, _) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_widgets_Favicon = i(322);
e.__$$__jx_ui_Label = i(101);
e.__$$__meshim_widget_widgets_BorderOverlay = i(100);
t.exports = function() {
function t(s, _, d, u, c) {
if (!(this instanceof t)) return new t(s, _, d, u, c);
_ = _ || n.generateID();
var h = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Favicon, "", "", [], {
addClass: "favicon"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Label, "status_text_wrapper", "", [ [ e.__$$__jx_ui_Label, "status_text", "", [], {
id: "status_text"
} ], [ e.__$$__jx_ui_Label, "", "", [], {
text: " - "
} ] ], {
addClass: "status",
id: "status_text_wrapper"
} ], [ e.__$$__jx_ui_Label, "greeting", "", [], {
id: "greeting",
addClass: "greeting"
} ] ], {
addClass: "blinds blinds_top"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Label, "unread", "", [], {
id: "unread",
text: "XX new messages"
} ] ], {
addClass: "blinds blinds_bottom"
} ] ], {
addClass: "button_text"
} ], [ e.__$$__meshim_widget_widgets_BorderOverlay, "", "", [], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], f = h[0].call(this, s, _, null, n.mangleIDs(_, h[3]), h[4]), p = f || this;
n.set(_, p);
var g = n.get(_ + "__status_text_wrapper"), m = n.get(_ + "__status_text"), $ = n.get(_ + "__greeting"), b = n.get(_ + "__unread");
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var w = function() {
function t() {
if (r && r.onLanguage) {
r.onLanguage(e);
p.onDestruction(function() {
r.unLanguage(e);
});
}
}
function e() {
s && o > 0 ? p.addClass("unread") : p.removeClass("unread");
b.setText(n.chat_button[1 == o ? "unread_one" : "unread_many"].replace("<number>", o));
}
var n = i(97), o = 0, s = !1;
p.setIsChatting = function(t) {
var i = a(t);
if (s !== i) {
s = i;
e();
}
};
p.setLanguageDirection = function(t) {
"rtl" == t ? p.addClass("is-rtl") : p.removeClass("is-rtl");
};
p.setStatusDisplay = function(t) {
g.setDisplay(t ? "" : "none");
};
p.setStatusText = function(t) {
m.setText(t);
};
p.updateUnread = function(t) {
if (o !== t) {
o = parseInt(t, 10) || 0;
e();
}
};
p.updateGreeting = function(t) {
$.setText(t);
};
t();
}();
for (var x in w) w.hasOwnProperty(x) && (p[x] = w[x]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(d);
p.setAttributes && p.setAttributes(c);
"function" == typeof p.addChildren ? p.addChildren(u) : n.addChildren(p, u);
if (p !== this) {
p.__jx__constructor = l;
p.__jx__native = !1;
}
return p;
}
var l;
t.prototype = s(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative",
paddingLeft: "$$faviconWidth",
overflow: "hidden"
},
"&.is-rtl": {
paddingLeft: 0,
paddingRight: "$$faviconWidth"
},
"&.unread .button_text ": {
bottom: "100%"
},
".blinds": {
"width, height": "100%",
overflow: "hidden",
textOverflow: "ellipsis",
whiteSpace: "nowrap"
},
".favicon": {
position: "absolute",
height: "100%",
left: 0,
verticalAlign: "text-top",
textAlign: "center",
paddingTop: "8px",
width: "$$faviconWidth",
background: "$$faviconBg",
color: "$$faviconColor"
},
"&.is-rtl .favicon": {
left: "auto",
right: 0
},
".button_text": {
position: "relative",
overflow: "hidden",
verticalAlign: "text-top",
width: "100%",
bottom: "0",
transition: "bottom 0.3s ease-in-out",
fontWeight: "$$chatButtonFontWeight",
lineHeight: "$$chatButtonHeight",
paddingLeft: "$$chatButtonPaddingFavicon",
paddingRight: "$$chatButtonPadding",
".status": {
fontWeight: "$$chatButtonStatusFontWeight"
}
},
".border_overlay": {
borderWidth: "$$chatButtonBorderWidth",
borderStyle: "$$chatButtonBorderStyle",
borderColor: "$$chatButtonBorderColor"
},
"&.is-rtl .button_text": {
paddingLeft: "$$chatButtonPadding",
paddingRight: "$$chatButtonPaddingFavicon"
}
};
_(t, "meshim_widget_components_chatButton_ButtonBar");
l = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(22), i(16), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__jx_ui_Image = i(323);
e.__$$__meshim_widget_widgets_IconFont = i(96);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Image, "image", "", [], {
id: "image",
addClass: "custom_icon"
} ], [ e.__$$__meshim_widget_widgets_IconFont, "icon", "", [], {
id: "icon",
addClass: "default_icon"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "dots", "", [], {
id: "dots",
addClass: "dots",
selectable: "false"
} ] ], {
addClass: "dots_container"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
var f = n.get(a + "__image"), p = n.get(a + "__icon"), g = n.get(a + "__dots");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var m = function() {
function t() {
function t(t) {
u = !t;
if (t) {
f.setDisplay("none");
p.setDisplay("");
} else {
f.setDisplay("");
p.setDisplay("none");
}
n();
}
function e() {
for (var t = window.document.getElementsByTagName("head")[0], e = t.getElementsByTagName("link"), i = 0, n = e.length; i < n; i++) if ("icon" == e[i].rel || "shortcut icon" == e[i].rel) return e[i].href;
}
function i(t) {
var e, i = window.location.protocol + "//" + window.location.host + "/favicon.ico";
try {
if (window.ActiveXObject) {
e = new window.ActiveXObject("Msxml2.XMLHTTP");
e || (e = new window.ActiveXObject("Microsoft.XMLHTTP"));
}
} catch (n) {}
e || "undefined" == typeof window.XMLHttpRequest || (e = new window.XMLHttpRequest());
if (e) {
e.onreadystatechange = function() {
4 === e.readyState && (200 === e.status || e.status >= 300 && e.status < 400 ? t(i) : t());
};
e.open("HEAD", i, !0);
e.send(null);
}
return e;
}
if (d) try {
d.abort();
} catch (o) {}
d = null;
if (s) {
if (_) {
f.setSrc(_);
t(!1);
return;
}
var r = e();
if (r) {
f.setSrc(r);
t(!1);
return;
}
d = i(function(e) {
if (e) {
f.setSrc(e);
t(!1);
} else t(!0);
});
} else t(!0);
}
function e() {
h.autobind(j, "value", function(e) {
s = e;
t();
});
h.autobind(C, "value", function(e) {
_ = e;
t();
});
h.autobind(y, "value", function(t) {
if (a !== t) {
a = t;
n();
}
});
h.autobind(v, "value", function(t) {
if (t != r) {
r = t;
n();
}
});
h.autobind(A, "value", function(t) {
if (t != l) {
l = t;
n();
}
});
}
function n() {
if (a || "offline" != r) {
p.setIcon("message");
p.removeClass("default_icon_offline");
p.addClass("default_icon_online");
} else {
p.setIcon("email");
p.removeClass("default_icon_online");
p.addClass("default_icon_offline");
}
if (l && a && !u) {
if (!c) {
o();
c = window.setInterval(o, $);
}
g.setDisplay("");
} else {
if (c) {
window.clearInterval(c);
c = null;
}
g.setDisplay("none");
}
}
function o() {
var t = g.getText();
g.setText(t.length == b ? "" : t + ".");
}
var r, a, s, _, l, d, u, c, m = i(40), $ = 1e3, b = 3, w = m.root.$("livechat").$("account"), x = m.root.$("livechat").$("settings").$("branding"), v = w.$("status$string"), y = m.root.$("livechat").$("channel").$("chatting$bool"), j = x.$("hide_favicon$bool"), C = x.$("custom_favicon_path$string"), A = m.root.$("livechat").$("ui").$("chat_button").$("unread_count$int");
e();
}();
for (var $ in m) m.hasOwnProperty($) && (h[$] = m[$]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
".custom_icon": {
"width, height": "16px"
},
".default_icon": {
fontSize: "16px",
width: "16px",
display: "inline-block",
"&.default_icon_online": {
lineHeight: "20px",
verticalAlign: "top",
color: "$$faviconOnlineColor"
},
"&.default_icon_offline": {
lineHeight: "18px",
verticalAlign: "top",
color: "$$faviconOfflineColor"
}
},
".dots_container": {
fontFamily: "Arial",
position: "absolute",
width: "100%",
textAlign: "center",
fontSize: "20px",
letterSpacing: "-2px",
top: "-3px",
left: "-1px",
lineHeight: "24px"
},
".dots": {
display: "inline-block",
width: "12px",
lineHeight: "22px",
textAlign: "left",
color: [ "$$chatButtonBg", "$$faviconBg", "$$faviconDotsColor" ],
background: "transparent"
}
};
a(t, "meshim_widget_widgets_Favicon");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(e, i, n, r, a) {
if (!(this instanceof t)) return new t(e, i, n, r, a);
a || (a = {});
a.tagName || (a.tagName = "img");
o.call(this, e, i, n, r, a);
}
var o = i(17);
t.prototype = e(o.prototype);
t.prototype.getAlt = function() {
return this.dom.alt;
};
t.prototype.setAlt = function(t) {
this.dom.alt = t;
return this;
};
n(t, "jx_ui_Image");
return t;
}();
}).call(e, i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s, _) {
e.__$$__jx_ui_FloatingFrame = i(82);
e.__$$__meshim_widget_widgets_fontLoader_ZopimFont = i(293);
e.__$$__meshim_widget_components_mobileChatButton_Button = i(325);
t.exports = function() {
function t(s, _, d, u, c) {
if (!(this instanceof t)) return new t(s, _, d, u, c);
_ = _ || n.generateID();
var h = [ e.__$$__jx_ui_FloatingFrame, "", "", [ [ e.__$$__meshim_widget_widgets_fontLoader_ZopimFont, "", "", [], {} ], [ e.__$$__meshim_widget_components_mobileChatButton_Button, "", "", [], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:mobileChatButton": "meshim.widget.components.mobileChatButton",
useDisplay: "true",
visible: "false"
} ], f = h[0].call(this, s, _, null, n.mangleIDs(_, h[3]), h[4]), p = f || this;
n.set(_, p);
if (!t.__jx__jcss_generated) {
o.generate(s, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
b.bind(p.iwin);
_ = new h(p, j);
p.dom.className = "zopim";
p.iframe.setStyle("display", "block");
p.content.addClass("meshim_widget_Widget");
p.wrapper.addClass(p.__jx__fqname);
p.ibody.style.overflow = "hidden";
$(p.ibody);
p.wrapper.addClass("mobile").setStyle({
position: "absolute",
top: 0,
left: 0
});
p.content.setStyle("textAlign", "left");
p.iframe.style.verticalAlign = "top";
new m(p);
p.autobind(O, "value", function(t) {
t = parseInt(t, 10);
if (W != t && !isNaN(t) && t >= 0) {
W = t;
F();
}
});
p.autobind(P, "value", function(t) {
t = parseInt(t, 10);
if (L != t && !isNaN(t) && t >= 0) {
L = t;
F();
}
});
p.autobind(D, "value", function(t) {
if (t && s != t) {
"bl" != t && "br" != t && (t = "br");
s && p.wrapper.removeClass(s);
s = t;
s && p.wrapper.addClass(s);
F();
}
});
r.window.on("orientationchange", F);
r.window.on("resize", F);
r.window.on("scroll", F);
p.autobind(T, "value", function(t) {
t && F();
});
p.autobind(E, "value", function(t) {
t && F();
});
p.autobind(B, "value", F);
p.moveUp = e;
p.moveDown = n;
}
function e(t) {
p.setVisible(!0);
_.animate({
endStyle: y,
duration: R ? 200 : 0
}, function(e) {
e || N.update(!0);
t && t(e);
});
R = !0;
}
function n(t) {
N.update(!1);
_.animate({
endStyle: j,
duration: 200
}, function(e) {
e || p.setVisible(!1);
t && t(e);
});
}
function o() {
for (var t = g.getZoomLevel(), e = (1 / t).toFixed(2), i = window.pageXOffset, n = window.pageYOffset, o = window.innerWidth, r = window.innerHeight, _ = p.wrapper.getWidth(), l = p.wrapper.getHeight(), d = 0, u = f.cssom_prefixes.length; d < u; d++) {
p.wrapper.setStyle(f.cssom_prefixes[d] + "Transform", "scale(" + e + ")");
p.wrapper.setStyle(f.cssom_prefixes[d] + "TransformOrigin", "0 0");
}
var c, h, m, $, b = _ / t, v = l / t, y = g.getOffset(), j = a.isIOS && t >= 1 ? "absolute" : "fixed";
p.setStyle({
position: j,
width: b + "px",
height: v + "px",
top: "",
right: "",
bottom: "",
left: ""
});
var C = W, A = L;
if ("br" === s) {
void 0 === P.getValue() && (A += w);
void 0 === O.getValue() && (C += x);
}
if ("fixed" === j) {
c = "auto";
h = "bl" === s ? "auto" : C / t + "px";
m = A / t + "px";
$ = "bl" === s ? C / t + "px" : "auto";
} else {
c = Math.ceil(n + r - v - A / t - y.top) + "px";
h = "auto";
m = "auto";
$ = "bl" === s ? Math.ceil(i + C / t - y.left) + "px" : Math.floor(i + o - b - C / t - y.left) + "px";
}
k.update({
height$string: v,
width$string: b,
zoom$string: t,
scale$string: e,
position$string: j,
top$string: c,
right$string: h,
bottom$string: m,
left$string: $
});
p.setStyle({
top: c,
right: h,
bottom: m,
left: $
});
M();
}
var s, _, l = i(55), d = i(50), u = i(40), c = i(54), h = i(327), f = i(48), g = i(52), m = i(333), $ = i(295), b = i(298), w = 5, x = 5, v = 300, y = {
opacity: 1,
translateY: "0%"
}, j = {
opacity: 0,
translateY: "50%"
}, C = u.root.$("livechat"), A = C.$("settings"), S = C.$("ui"), I = S.$("chat_button"), k = I.$("mobile").$("calculated_styles"), B = I.$("display$bool"), N = I.$("fully_visible$bool"), T = I.$("button_width$int"), E = I.$("button_height$int"), D = A.$("theme").$("chat_button").$("position_mobile$string"), O = A.$$("theme.chat_button.h_offset_mobile$int"), P = A.$$("theme.chat_button.v_offset_mobile$int"), L = 10, W = 10, R = !1, F = l.debounce(o, v), M = d.once(function() {
c.registerChatButton(p);
});
t();
}();
for (var m in g) g.hasOwnProperty(m) && (p[m] = g[m]);
p.fire && p.fire("init");
p.setStyle && p.setStyle(d);
p.setAttributes && p.setAttributes(c);
"function" == typeof p.addChildren ? p.addChildren(u) : n.addChildren(p, u);
if (p !== this) {
p.__jx__constructor = l;
p.__jx__native = !1;
}
return p;
}
var l;
t.prototype = s(e.__$$__jx_ui_FloatingFrame.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_FloatingFrame;
t.__jx__jcss = {};
_(t, "meshim_widget_components_MobileChatButton");
l = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(6), i(7), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s, _, l) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_components_mobileChatButton_ButtonBar = i(326);
t.exports = function() {
function t(_, l, u, c, h) {
if (!(this instanceof t)) return new t(_, l, u, c, h);
l = l || n.generateID();
var f = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_mobileChatButton_ButtonBar, "button_bar", "", [], {
id: "button_bar",
addClass: "button_bar"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mobileChatButton": "meshim.widget.components.mobileChatButton",
visibility: "hidden"
} ], p = f[0].call(this, _, l, null, n.mangleIDs(l, f[3]), f[4]), g = p || this;
n.set(l, g);
var m = n.get(l + "__button_bar");
if (!t.__jx__jcss_generated) {
o.generate(_, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
function t() {
var t;
t = c && "undefined" != typeof h && !h ? v.cookie_law.disabled_mobile : "offline" != l || p ? v.chat_button.mobile_greeting.online : v.chat_button.mobile_greeting.offline;
if ($ != t) {
$ = t;
m.updateGreeting(t);
}
}
function i() {
var e = "offline" == l && p ? v.status.online : v.status[l || "offline"];
m.setStatusText(e);
o(t);
}
function n() {
o(t);
}
function o() {
for (var t = 0, i = arguments.length; t < i; t++) a(arguments[t]) && arguments[t]();
e();
}
x.rtl(g);
g.autobind(S, "value", function(t) {
if (_ !== t) {
_ = t;
o();
}
});
g.autobind(T, "value", function(e) {
d = e;
o(t);
});
g.autobind(E, "value", function(e) {
u = e;
o(t);
});
g.autobind(O, "value", function(e) {
h = e;
o(t);
});
g.autobind(F, "value", function(t) {
if (p !== t) {
p = t;
o(i);
}
});
g.autobind(D, "value", function(e) {
c = e;
o(t);
});
g.autobind(W, "value", e);
if (r && r.onLanguage) {
r.onLanguage(n);
g.onDestruction(function() {
r.unLanguage(n);
});
}
g.autobind(k, "value", function(t) {
if (B !== t) {
B = t;
m.setStatusDisplay(t);
o();
}
});
g.autobind(I, "value", function(t) {
if (l !== t) {
l = t;
o(i);
}
});
g.autobind(R, "value", function(t) {
if (void 0 !== t && f !== t) {
f = t;
m.setLanguageDirection(t);
}
});
s(y.ieQuirksModeFix);
}
function e() {
s(n, g, !0);
}
function n() {
P.update(parseInt(g.getWidth(), 10) || parseInt(o.getVariable("chatButtonMinWidth"), 10));
L.update(parseInt(o.getVariable("chatButtonHeight"), 10));
if (!b && $) {
g.setVisibility("");
b = !0;
}
}
var _, l, d, u, c, h, f, p, $, b, w = i(40), x = i(95), v = i(97), y = i(248), j = w.root.$("livechat"), C = j.$("ui"), A = C.$("chat_button"), S = A.$("display$bool"), I = j.$("account").$("status$string"), k = j.$("settings").$("theme").$("chat_button").$("display_status$bool"), B = -1, N = j.$("settings").$("greetings"), T = N.$("online$string"), E = N.$("offline$string"), D = j.$("settings").$("cookie_law").$("enabled$bool"), O = j.$("profile").$("allow_cookies$bool"), P = A.$("button_width$int"), L = A.$("button_height$int"), W = C.$("theme_loaded$bool"), R = C.$("lang_dir$string"), F = j.$("channel").$("chatting$bool");
t();
}();
for (var b in $) $.hasOwnProperty(b) && (g[b] = $[b]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(u);
g.setAttributes && g.setAttributes(h);
"function" == typeof g.addChildren ? g.addChildren(c) : n.addChildren(g, c);
if (g !== this) {
g.__jx__constructor = d;
g.__jx__native = !1;
}
return g;
}
var d;
t.prototype = _(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
margin: "0 auto",
position: "relative",
"bottom, left": "auto",
paddingRight: "0px",
paddingTop: "0px"
},
".button_bar": {
minWidth: "0",
maxWidth: "$$chatButtonMaxWidth",
height: "$$chatButtonHeight",
color: "$$chatButtonColor",
background: "$$chatButtonBg",
boxShadow: "$$chatButtonShadow",
borderRadius: "$$chatButtonRadius"
}
};
l(t, "meshim_widget_components_mobileChatButton_Button");
d = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(22), i(9), i(12), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_widgets_Favicon = i(322);
e.__$$__jx_ui_Label = i(101);
e.__$$__meshim_widget_widgets_BorderOverlay = i(100);
t.exports = function() {
function t(r, a, s, _, l) {
if (!(this instanceof t)) return new t(r, a, s, _, l);
a = a || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Favicon, "", "", [], {
addClass: "favicon"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Label, "status_text_wrapper", "", [ [ e.__$$__jx_ui_Label, "status_text", "", [], {
id: "status_text"
} ], [ e.__$$__jx_ui_Label, "", "", [], {
text: " - "
} ] ], {
addClass: "status",
id: "status_text_wrapper"
} ], [ e.__$$__jx_ui_Label, "greeting", "", [], {
id: "greeting"
} ] ], {
addClass: "button_text"
} ], [ e.__$$__meshim_widget_widgets_BorderOverlay, "", "", [], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets"
} ], u = d[0].call(this, r, a, null, n.mangleIDs(a, d[3]), d[4]), c = u || this;
n.set(a, c);
var h = n.get(a + "__status_text_wrapper"), f = n.get(a + "__status_text"), p = n.get(a + "__greeting");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
c.setLanguageDirection = function(t) {
"rtl" == t ? c.addClass("is-rtl") : c.removeClass("is-rtl");
};
c.setStatusDisplay = function(t) {
h.setDisplay(t ? "" : "none");
};
c.setStatusText = function(t) {
f.setText(t);
};
c.updateGreeting = function(t) {
p.setText(t);
};
}();
for (var m in g) g.hasOwnProperty(m) && (c[m] = g[m]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(s);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative",
paddingLeft: "$$faviconWidth",
overflow: "hidden"
},
"&.is-rtl": {
paddingLeft: 0,
paddingRight: "$$faviconWidth"
},
".favicon": {
position: "absolute",
height: "100%",
left: 0,
verticalAlign: "text-top",
textAlign: "center",
paddingTop: "8px",
width: "$$faviconWidth",
background: "$$faviconBg",
color: "$$faviconColor",
"borderTopLeftRadius, borderBottomLeftRadius": "$$chatButtonRadius"
},
"&.is-rtl .favicon": {
left: "auto",
right: 0,
"borderTopLeftRadius, borderBottomLeftRadius": 0,
"borderTopRightRadius, borderBottomRightRadius": "$$chatButtonRadius"
},
".button_text": {
position: "relative",
overflow: "hidden",
verticalAlign: "text-top",
width: "100%",
bottom: "0",
whiteSpace: "nowrap",
fontWeight: "$$chatButtonFontWeight",
lineHeight: "$$chatButtonHeight",
paddingLeft: "$$chatButtonPaddingFavicon",
paddingRight: "$$chatButtonPadding",
".status": {
fontWeight: "$$chatButtonStatusFontWeight"
}
},
".border_overlay": {
borderWidth: "$$chatButtonBorderWidth",
borderStyle: "$$chatButtonBorderStyle",
borderColor: "$$chatButtonBorderColor"
},
"&.is-rtl .button_text": {
paddingLeft: "$$chatButtonPadding",
paddingRight: "$$chatButtonPaddingFavicon"
}
};
a(t, "meshim_widget_components_mobileChatButton_ButtonBar");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(e, i) {
if (!(this instanceof t)) return new t(e, i);
this.elm = e;
this.currStyle = l({}, i);
this.applyStyle(this.currStyle);
var n = this;
this.elm.onDestruction(function() {
n.destroy();
});
}
var o = i(328), r = i(329), a = i(330), s = i(48), _ = i(332), l = s.shallowExtend, d = function() {};
t.prototype.animate = function(t, i) {
var n = l({}, t.endStyle), o = e(t.duration) ? t.duration : 300, r = e(t.delay) ? t.delay : 0, a = t.easeType || "easeQuadInOut", s = e(t.startTime) ? t.startTime : +new Date(), _ = 0;
i = i || d;
if (e(window.animateDebug)) {
o *= window.animateDebug;
r *= window.animateDebug;
}
r < 0 ? _ = -r : s += r;
this.stop();
this.cb = i || d;
this._animate({
startStyle: this.currStyle,
endStyle: n,
duration: o,
startTime: s,
elapsedOffset: _,
easeType: a
});
};
t.prototype.stop = function() {
if (this.timer) {
this.timer.stop();
this.timer = null;
this.cb.call(this.elm, "stopped");
}
};
t.prototype.destroy = function() {
this.stop();
this.elm = this.currStyle = this.cb = this.timer = null;
};
t.prototype.isAnimating = function() {
return !!this.timer;
};
t.prototype._animate = function(t) {
function e(t) {
t += _;
if (t >= s) {
h.stop();
f.timer = null;
f.currStyle = n;
f.applyStyle(n);
f.cb.call(f.elm, null);
} else {
var e = c(t / s), i = u(e);
f.currStyle = i;
f.applyStyle(i);
}
}
var i = t.startStyle, n = t.endStyle, s = t.duration, _ = t.elapsedOffset, l = t.startTime, d = t.easeType, u = a.interpolateObject(i, n), c = r[d], h = o.timer(e, 0, l), f = this;
f.timer = h;
};
t.prototype.applyStyle = function(t) {
t = _(t);
for (var e in t) t.hasOwnProperty(e) && this.elm.setCSSStyle(e, t[e]);
};
n(t, "meshim_widget_utils_Animate");
return t;
}();
}).call(e, i(23), i(4));
}, function(t, e, i) {
!function(t, i) {
i(e);
}(this, function(t) {
"use strict";
function e(t, e, i) {
this.id = ++d;
this.restart(t, e, i);
}
function i(t, i, n) {
return new e(t, i, n);
}
function n(t) {
t = null == t ? Date.now() : +t;
++_;
try {
for (var e, i = a; i; ) {
t >= i.time && (e = i.callback)(t - i.time, t);
i = i.next;
}
} finally {
--_;
}
}
function o() {
_ = l = 0;
try {
n();
} finally {
for (var t, e = a, i = 1 / 0; e; ) if (e.callback) {
i > e.time && (i = e.time);
e = (t = e).next;
} else e = t ? t.next = e.next : a = e.next;
s = t;
r(i);
}
}
function r(t) {
if (!_) {
l && (l = clearTimeout(l));
var e = t - Date.now();
e > 24 ? t < 1 / 0 && (l = setTimeout(o, e)) : (_ = 1, c(o));
}
}
var a, s, _ = 0, l = 0, d = 0, u = {}, c = "undefined" != typeof window && (window.requestAnimationFrame || window.msRequestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.oRequestAnimationFrame) || function(t) {
return setTimeout(t, 17);
};
e.prototype = i.prototype = {
restart: function(t, e, i) {
if ("function" != typeof t) throw new TypeError("callback is not a function");
i = (null == i ? Date.now() : +i) + (null == e ? 0 : +e);
var n = this.id, o = u[n];
if (o) o.callback = t, o.time = i; else {
o = {
next: null,
callback: t,
time: i
};
s ? s.next = o : a = o;
u[n] = s = o;
}
r();
},
stop: function() {
var t = this.id, e = u[t];
if (e) {
e.callback = null, e.time = 1 / 0;
delete u[t];
r();
}
}
};
var h = "0.1.0";
t.version = h;
t.timer = i;
t.timerFlush = n;
});
}, function(t, e, i) {
!function(t, i) {
i(e);
}(this, function(t) {
"use strict";
function e(t, e) {
return function(i) {
return t(i, e);
};
}
function i(t, e, i) {
return function(n) {
return t(n, e, i);
};
}
function n(t, e) {
e = E.call(e);
e[0] = null;
return function(i) {
e[0] = i;
return t.apply(null, e);
};
}
function o(t, o, r) {
switch (arguments.length) {
case 1:
return t;

case 2:
return e(t, o);

case 3:
return i(t, o, r);

default:
return n(t, arguments);
}
}
function r(t) {
return +t;
}
function a(t) {
return t * t;
}
function s(t) {
return t * (2 - t);
}
function _(t) {
return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;
}
function l(t) {
return t * t * t;
}
function d(t) {
return --t * t * t + 1;
}
function u(t) {
return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;
}
function c(t, e) {
null == e && (e = 3);
return Math.pow(t, e);
}
function h(t, e) {
null == e && (e = 3);
return 1 - Math.pow(1 - t, e);
}
function f(t, e) {
null == e && (e = 3);
return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;
}
function p(t) {
return 1 - Math.cos(t * O);
}
function g(t) {
return Math.sin(t * O);
}
function m(t) {
return (1 - Math.cos(D * t)) / 2;
}
function $(t) {
return Math.pow(2, 10 * t - 10);
}
function b(t) {
return 1 - Math.pow(2, -10 * t);
}
function w(t) {
return ((t *= 2) <= 1 ? Math.pow(2, 10 * t - 10) : 2 - Math.pow(2, 10 - 10 * t)) / 2;
}
function x(t) {
return 1 - Math.sqrt(1 - t * t);
}
function v(t) {
return Math.sqrt(1 - --t * t);
}
function y(t) {
return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;
}
function j(t) {
return 1 - C(1 - t);
}
function C(t) {
return t < P ? U * t * t : t < W ? U * (t -= L) * t + R : t < M ? U * (t -= F) * t + V : U * (t -= H) * t + z;
}
function A(t) {
return ((t *= 2) <= 1 ? 1 - C(1 - t) : C(t - 1) + 1) / 2;
}
function S(t, e) {
e = null == e ? 1.70158 : +e;
return t * t * ((e + 1) * t - e);
}
function I(t, e) {
e = null == e ? 1.70158 : +e;
return --t * t * ((e + 1) * t + e) + 1;
}
function k(t, e) {
e = null == e ? 1.70158 : +e;
return ((t *= 2) < 1 ? t * t * ((e + 1) * t - e) : (t -= 2) * t * ((e + 1) * t + e) + 2) / 2;
}
function B(t, e, i) {
e = null == e ? 1 : Math.max(1, e);
i = (null == i ? .3 : i) / q;
return e * Math.pow(2, 10 * --t) * Math.sin((i * Math.asin(1 / e) - t) / i);
}
function N(t, e, i) {
e = null == e ? 1 : Math.max(1, e);
i = (null == i ? .3 : i) / q;
return 1 - e * Math.pow(2, -10 * t) * Math.sin((+t + i * Math.asin(1 / e)) / i);
}
function T(t, e, i) {
e = null == e ? 1 : Math.max(1, e);
i = (null == i ? .3 : i) / q;
var n = i * Math.asin(1 / e);
return ((t = 2 * t - 1) < 0 ? e * Math.pow(2, 10 * t) * Math.sin((n - t) / i) : 2 - e * Math.pow(2, -10 * t) * Math.sin((n + t) / i)) / 2;
}
var E = Array.prototype.slice, D = Math.PI, O = D / 2, P = 4 / 11, L = 6 / 11, W = 8 / 11, R = .75, F = 9 / 11, M = 10 / 11, V = .9375, H = 21 / 22, z = 63 / 64, U = 1 / P / P, q = 2 * Math.PI, G = "0.5.1";
t.version = G;
t.easeBind = o;
t.easeLinearIn = r;
t.easeLinearOut = r;
t.easeLinearInOut = r;
t.easeQuadIn = a;
t.easeQuadOut = s;
t.easeQuadInOut = _;
t.easeCubicIn = l;
t.easeCubicOut = d;
t.easeCubicInOut = u;
t.easePolyIn = c;
t.easePolyOut = h;
t.easePolyInOut = f;
t.easeSinIn = p;
t.easeSinOut = g;
t.easeSinInOut = m;
t.easeExpIn = $;
t.easeExpOut = b;
t.easeExpInOut = w;
t.easeCircleIn = x;
t.easeCircleOut = v;
t.easeCircleInOut = y;
t.easeBounceIn = j;
t.easeBounceOut = C;
t.easeBounceInOut = A;
t.easeBackIn = S;
t.easeBackOut = I;
t.easeBackInOut = k;
t.easeElasticIn = B;
t.easeElasticOut = N;
t.easeElasticInOut = T;
});
}, function(t, e, i) {
!function(t, n) {
n(e, i(331));
}(this, function(t, e) {
"use strict";
function i(t, i) {
t = e.rgb(t);
i = e.rgb(i);
var n = t.r, o = t.g, r = t.b, a = i.r - n, s = i.g - o, _ = i.b - r;
return function(e) {
t.r = n + a * e;
t.g = o + s * e;
t.b = r + _ * e;
return t + "";
};
}
function n(t, e) {
var i, n = [], o = [], r = t ? t.length : 0, a = e ? e.length : 0, s = Math.min(r, a);
for (i = 0; i < s; ++i) n.push(l(t[i], e[i]));
for (;i < r; ++i) o[i] = t[i];
for (;i < a; ++i) o[i] = e[i];
return function(t) {
for (i = 0; i < s; ++i) o[i] = n[i](t);
return o;
};
}
function o(t, e) {
return t = +t, e -= t, function(i) {
return t + e * i;
};
}
function r(t, e) {
var i, n = {}, o = {};
null !== t && "object" == typeof t || (t = {});
null !== e && "object" == typeof e || (e = {});
for (i in t) i in e ? n[i] = l(t[i], e[i]) : o[i] = t[i];
for (i in e) i in t || (o[i] = e[i]);
return function(t) {
for (i in n) o[i] = n[i](t);
return o;
};
}
function a(t) {
return function() {
return t;
};
}
function s(t) {
return function(e) {
return t(e) + "";
};
}
function _(t, e) {
var i, n, r, _ = P.lastIndex = L.lastIndex = 0, l = -1, d = [], u = [];
t += "", e += "";
for (;(i = P.exec(t)) && (n = L.exec(e)); ) {
if ((r = n.index) > _) {
r = e.slice(_, r);
d[l] ? d[l] += r : d[++l] = r;
}
if ((i = i[0]) === (n = n[0])) d[l] ? d[l] += n : d[++l] = n; else {
d[++l] = null;
u.push({
i: l,
x: o(i, n)
});
}
_ = L.lastIndex;
}
if (_ < e.length) {
r = e.slice(_);
d[l] ? d[l] += r : d[++l] = r;
}
return d.length < 2 ? u[0] ? s(u[0].x) : a(e) : (e = u.length, function(t) {
for (var i, n = 0; n < e; ++n) d[(i = u[n]).i] = i.x(t);
return d.join("");
});
}
function l(t, e) {
for (var i, n = W.length; --n >= 0 && !(i = W[n](t, e)); ) ;
return i;
}
function d(t, e) {
return t = +t, e -= t, function(i) {
return Math.round(t + e * i);
};
}
function u(t) {
O || (O = document.createElementNS("http://www.w3.org/2000/svg", "g"));
t && (O.setAttribute("transform", t), e = O.transform.baseVal.consolidate());
var e, i = e ? e.matrix : F, n = [ i.a, i.b ], o = [ i.c, i.d ], r = h(n), a = c(n, o), s = h(f(o, n, -a)) || 0;
if (n[0] * o[1] < o[0] * n[1]) {
n[0] *= -1;
n[1] *= -1;
r *= -1;
a *= -1;
}
this.rotate = (r ? Math.atan2(n[1], n[0]) : Math.atan2(-o[0], o[1])) * R;
this.translate = [ i.e, i.f ];
this.scale = [ r, s ];
this.skew = s ? Math.atan2(a, s) * R : 0;
}
function c(t, e) {
return t[0] * e[0] + t[1] * e[1];
}
function h(t) {
var e = Math.sqrt(c(t, t));
e && (t[0] /= e, t[1] /= e);
return e;
}
function f(t, e, i) {
t[0] += i * e[0];
t[1] += i * e[1];
return t;
}
function p(t) {
return t.length ? t.pop() + "," : "";
}
function g(t, e, i, n) {
if (t[0] !== e[0] || t[1] !== e[1]) {
var r = i.push("translate(", null, ",", null, ")");
n.push({
i: r - 4,
x: o(t[0], e[0])
}, {
i: r - 2,
x: o(t[1], e[1])
});
} else (e[0] || e[1]) && i.push("translate(" + e + ")");
}
function m(t, e, i, n) {
if (t !== e) {
t - e > 180 ? e += 360 : e - t > 180 && (t += 360);
n.push({
i: i.push(p(i) + "rotate(", null, ")") - 2,
x: o(t, e)
});
} else e && i.push(p(i) + "rotate(" + e + ")");
}
function $(t, e, i, n) {
t !== e ? n.push({
i: i.push(p(i) + "skewX(", null, ")") - 2,
x: o(t, e)
}) : e && i.push(p(i) + "skewX(" + e + ")");
}
function b(t, e, i, n) {
if (t[0] !== e[0] || t[1] !== e[1]) {
var r = i.push(p(i) + "scale(", null, ",", null, ")");
n.push({
i: r - 4,
x: o(t[0], e[0])
}, {
i: r - 2,
x: o(t[1], e[1])
});
} else 1 === e[0] && 1 === e[1] || i.push(p(i) + "scale(" + e + ")");
}
function w(t, e) {
var i = [], n = [];
t = new u(t), e = new u(e);
g(t.translate, e.translate, i, n);
m(t.rotate, e.rotate, i, n);
$(t.skew, e.skew, i, n);
b(t.scale, e.scale, i, n);
t = e = null;
return function(t) {
for (var e, o = -1, r = n.length; ++o < r; ) i[(e = n[o]).i] = e.x(t);
return i.join("");
};
}
function x(t) {
return ((t = Math.exp(t)) + 1 / t) / 2;
}
function v(t) {
return ((t = Math.exp(t)) - 1 / t) / 2;
}
function y(t) {
return ((t = Math.exp(2 * t)) - 1) / (t + 1);
}
function j(t, e) {
var i, n, o = t[0], r = t[1], a = t[2], s = e[0], _ = e[1], l = e[2], d = s - o, u = _ - r, c = d * d + u * u;
if (c < z) {
n = Math.log(l / a) / M;
i = function(t) {
return [ o + t * d, r + t * u, a * Math.exp(M * t * n) ];
};
} else {
var h = Math.sqrt(c), f = (l * l - a * a + H * c) / (2 * a * V * h), p = (l * l - a * a - H * c) / (2 * l * V * h), g = Math.log(Math.sqrt(f * f + 1) - f), m = Math.log(Math.sqrt(p * p + 1) - p);
n = (m - g) / M;
i = function(t) {
var e = t * n, i = x(g), s = a / (V * h) * (i * y(M * e + g) - v(g));
return [ o + s * d, r + s * u, a * i / x(M * e + g) ];
};
}
i.duration = 1e3 * n;
return i;
}
function C(t, e) {
var i = t - e;
return i > 180 || i < -180 ? i - 360 * Math.round(i / 360) : i;
}
function A(t, i) {
t = e.hsl(t);
i = e.hsl(i);
var n = isNaN(t.h) ? i.h : t.h, o = isNaN(t.s) ? i.s : t.s, r = t.l, a = isNaN(i.h) ? 0 : C(i.h, n), s = isNaN(i.s) ? 0 : i.s - o, _ = i.l - r;
return function(e) {
t.h = n + a * e;
t.s = o + s * e;
t.l = r + _ * e;
return t + "";
};
}
function S(t, i) {
t = e.hsl(t);
i = e.hsl(i);
var n = isNaN(t.h) ? i.h : t.h, o = isNaN(t.s) ? i.s : t.s, r = t.l, a = isNaN(i.h) ? 0 : i.h - n, s = isNaN(i.s) ? 0 : i.s - o, _ = i.l - r;
return function(e) {
t.h = n + a * e;
t.s = o + s * e;
t.l = r + _ * e;
return t + "";
};
}
function I(t, i) {
t = e.lab(t);
i = e.lab(i);
var n = t.l, o = t.a, r = t.b, a = i.l - n, s = i.a - o, _ = i.b - r;
return function(e) {
t.l = n + a * e;
t.a = o + s * e;
t.b = r + _ * e;
return t + "";
};
}
function k(t, i) {
t = e.hcl(t);
i = e.hcl(i);
var n = isNaN(t.h) ? i.h : t.h, o = isNaN(t.c) ? i.c : t.c, r = t.l, a = isNaN(i.h) ? 0 : C(i.h, n), s = isNaN(i.c) ? 0 : i.c - o, _ = i.l - r;
return function(e) {
t.h = n + a * e;
t.c = o + s * e;
t.l = r + _ * e;
return t + "";
};
}
function B(t, i) {
t = e.hcl(t);
i = e.hcl(i);
var n = isNaN(t.h) ? i.h : t.h, o = isNaN(t.c) ? i.c : t.c, r = t.l, a = isNaN(i.h) ? 0 : i.h - n, s = isNaN(i.c) ? 0 : i.c - o, _ = i.l - r;
return function(e) {
t.h = n + a * e;
t.c = o + s * e;
t.l = r + _ * e;
return t + "";
};
}
function N(t, i, n) {
arguments.length < 3 && (n = 1);
t = e.cubehelix(t);
i = e.cubehelix(i);
var o = isNaN(t.h) ? i.h : t.h, r = isNaN(t.s) ? i.s : t.s, a = t.l, s = isNaN(i.h) ? 0 : C(i.h, o), _ = isNaN(i.s) ? 0 : i.s - r, l = i.l - a;
return function(e) {
t.h = o + s * e;
t.s = r + _ * e;
t.l = a + l * Math.pow(e, n);
return t + "";
};
}
function T(t, i, n) {
arguments.length < 3 && (n = 1);
t = e.cubehelix(t);
i = e.cubehelix(i);
var o = isNaN(t.h) ? i.h : t.h, r = isNaN(t.s) ? i.s : t.s, a = t.l, s = isNaN(i.h) ? 0 : i.h - o, _ = isNaN(i.s) ? 0 : i.s - r, l = i.l - a;
return function(e) {
t.h = o + s * e;
t.s = r + _ * e;
t.l = a + l * Math.pow(e, n);
return t + "";
};
}
function E(t, e) {
e = U.call(e);
e[0] = null;
e.unshift(null);
return function(i, n) {
e[0] = i;
e[1] = n;
return t.apply(null, e);
};
}
function D(t) {
return 1 === arguments.length ? t : E(t, arguments);
}
var O, P = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g, L = new RegExp(P.source, "g"), W = [ function(t, a) {
var s, l = typeof a;
return ("string" === l ? (s = e.color(a)) ? (a = s, i) : _ : a instanceof e.color ? i : Array.isArray(a) ? n : "object" === l && isNaN(a) ? r : o)(t, a);
} ], R = 180 / Math.PI, F = {
a: 1,
b: 0,
c: 0,
d: 1,
e: 0,
f: 0
}, M = Math.SQRT2, V = 2, H = 4, z = 1e-12, U = Array.prototype.slice, q = "0.4.0";
t.version = q;
t.interpolate = l;
t.interpolators = W;
t.interpolateArray = n;
t.interpolateNumber = o;
t.interpolateObject = r;
t.interpolateRound = d;
t.interpolateString = _;
t.interpolateTransform = w;
t.interpolateZoom = j;
t.interpolateRgb = i;
t.interpolateHsl = A;
t.interpolateHslLong = S;
t.interpolateLab = I;
t.interpolateHcl = k;
t.interpolateHclLong = B;
t.interpolateCubehelix = N;
t.interpolateCubehelixLong = T;
t.interpolateBind = D;
});
}, function(t, e, i) {
!function(t, i) {
i(e);
}(this, function(t) {
"use strict";
function e() {}
function i(t) {
var e;
t = (t + "").trim().toLowerCase();
return (e = x.exec(t)) ? (e = parseInt(e[1], 16), new r(e >> 8 & 15 | e >> 4 & 240, e >> 4 & 15 | 240 & e, (15 & e) << 4 | 15 & e)) : (e = v.exec(t)) ? n(parseInt(e[1], 16)) : (e = y.exec(t)) ? new r(e[1], e[2], e[3]) : (e = j.exec(t)) ? new r(255 * e[1] / 100, 255 * e[2] / 100, 255 * e[3] / 100) : (e = C.exec(t)) ? new s(e[1], e[2] / 100, e[3] / 100) : A.hasOwnProperty(t) ? n(A[t]) : null;
}
function n(t) {
return new r(t >> 16 & 255, t >> 8 & 255, 255 & t);
}
function o(t, n, o) {
if (1 === arguments.length) {
t instanceof e || (t = i(t));
if (t) {
t = t.rgb();
o = t.b;
n = t.g;
t = t.r;
} else t = n = o = NaN;
}
return new r(t, n, o);
}
function r(t, e, i) {
this.r = +t;
this.g = +e;
this.b = +i;
}
function a(t, n, o) {
if (1 === arguments.length) if (t instanceof s) {
o = t.l;
n = t.s;
t = t.h;
} else {
t instanceof e || (t = i(t));
if (t) {
if (t instanceof s) return t;
t = t.rgb();
var r = t.r / 255, a = t.g / 255, _ = t.b / 255, l = Math.min(r, a, _), d = Math.max(r, a, _), u = d - l;
o = (d + l) / 2;
if (u) {
n = o < .5 ? u / (d + l) : u / (2 - d - l);
t = r === d ? (a - _) / u + 6 * (a < _) : a === d ? (_ - r) / u + 2 : (r - a) / u + 4;
t *= 60;
} else {
t = NaN;
n = o > 0 && o < 1 ? 0 : t;
}
} else t = n = o = NaN;
}
return new s(t, n, o);
}
function s(t, e, i) {
this.h = +t;
this.s = +e;
this.l = +i;
}
function _(t, e, i) {
return 255 * (t < 60 ? e + (i - e) * t / 60 : t < 180 ? i : t < 240 ? e + (i - e) * (240 - t) / 60 : e);
}
function l(t, e, i) {
if (1 === arguments.length) if (t instanceof d) {
i = t.b;
e = t.a;
t = t.l;
} else if (t instanceof g) {
var n = t.h * k;
i = Math.sin(n) * t.c;
e = Math.cos(n) * t.c;
t = t.l;
} else {
t instanceof r || (t = o(t));
i = f(t.r);
e = f(t.g);
t = f(t.b);
var a = u((.4124564 * i + .3575761 * e + .1804375 * t) / T), s = u((.2126729 * i + .7151522 * e + .072175 * t) / E), _ = u((.0193339 * i + .119192 * e + .9503041 * t) / D);
i = 200 * (s - _);
e = 500 * (a - s);
t = 116 * s - 16;
}
return new d(t, e, i);
}
function d(t, e, i) {
this.l = +t;
this.a = +e;
this.b = +i;
}
function u(t) {
return t > W ? Math.pow(t, 1 / 3) : t / L + O;
}
function c(t) {
return t > P ? t * t * t : L * (t - O);
}
function h(t) {
return 255 * (t <= .0031308 ? 12.92 * t : 1.055 * Math.pow(t, 1 / 2.4) - .055);
}
function f(t) {
return (t /= 255) <= .04045 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4);
}
function p(t, e, i) {
if (1 === arguments.length) if (t instanceof g) {
i = t.l;
e = t.c;
t = t.h;
} else {
t instanceof d || (t = l(t));
i = t.l;
e = Math.sqrt(t.a * t.a + t.b * t.b);
t = Math.atan2(t.b, t.a) * B;
t < 0 && (t += 360);
}
return new g(t, e, i);
}
function g(t, e, i) {
this.h = +t;
this.c = +e;
this.l = +i;
}
function m(t, e, i) {
if (1 === arguments.length) if (t instanceof $) {
i = t.l;
e = t.s;
t = t.h;
} else {
t instanceof r || (t = o(t));
var n = t.r / 255, a = t.g / 255, s = t.b / 255;
i = (Y * s + q * n - G * a) / (Y + q - G);
var _ = s - i, l = (U * (a - i) - H * _) / z;
e = Math.sqrt(l * l + _ * _) / (U * i * (1 - i));
t = e ? Math.atan2(l, _) * B - 120 : NaN;
t < 0 && (t += 360);
}
return new $(t, e, i);
}
function $(t, e, i) {
this.h = +t;
this.s = +e;
this.l = +i;
}
var b = .7, w = 1 / b, x = /^#([0-9a-f]{3})$/, v = /^#([0-9a-f]{6})$/, y = /^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/, j = /^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/, C = /^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/, A = {
aliceblue: 15792383,
antiquewhite: 16444375,
aqua: 65535,
aquamarine: 8388564,
azure: 15794175,
beige: 16119260,
bisque: 16770244,
black: 0,
blanchedalmond: 16772045,
blue: 255,
blueviolet: 9055202,
brown: 10824234,
burlywood: 14596231,
cadetblue: 6266528,
chartreuse: 8388352,
chocolate: 13789470,
coral: 16744272,
cornflowerblue: 6591981,
cornsilk: 16775388,
crimson: 14423100,
cyan: 65535,
darkblue: 139,
darkcyan: 35723,
darkgoldenrod: 12092939,
darkgray: 11119017,
darkgreen: 25600,
darkgrey: 11119017,
darkkhaki: 12433259,
darkmagenta: 9109643,
darkolivegreen: 5597999,
darkorange: 16747520,
darkorchid: 10040012,
darkred: 9109504,
darksalmon: 15308410,
darkseagreen: 9419919,
darkslateblue: 4734347,
darkslategray: 3100495,
darkslategrey: 3100495,
darkturquoise: 52945,
darkviolet: 9699539,
deeppink: 16716947,
deepskyblue: 49151,
dimgray: 6908265,
dimgrey: 6908265,
dodgerblue: 2003199,
firebrick: 11674146,
floralwhite: 16775920,
forestgreen: 2263842,
fuchsia: 16711935,
gainsboro: 14474460,
ghostwhite: 16316671,
gold: 16766720,
goldenrod: 14329120,
gray: 8421504,
green: 32768,
greenyellow: 11403055,
grey: 8421504,
honeydew: 15794160,
hotpink: 16738740,
indianred: 13458524,
indigo: 4915330,
ivory: 16777200,
khaki: 15787660,
lavender: 15132410,
lavenderblush: 16773365,
lawngreen: 8190976,
lemonchiffon: 16775885,
lightblue: 11393254,
lightcoral: 15761536,
lightcyan: 14745599,
lightgoldenrodyellow: 16448210,
lightgray: 13882323,
lightgreen: 9498256,
lightgrey: 13882323,
lightpink: 16758465,
lightsalmon: 16752762,
lightseagreen: 2142890,
lightskyblue: 8900346,
lightslategray: 7833753,
lightslategrey: 7833753,
lightsteelblue: 11584734,
lightyellow: 16777184,
lime: 65280,
limegreen: 3329330,
linen: 16445670,
magenta: 16711935,
maroon: 8388608,
mediumaquamarine: 6737322,
mediumblue: 205,
mediumorchid: 12211667,
mediumpurple: 9662683,
mediumseagreen: 3978097,
mediumslateblue: 8087790,
mediumspringgreen: 64154,
mediumturquoise: 4772300,
mediumvioletred: 13047173,
midnightblue: 1644912,
mintcream: 16121850,
mistyrose: 16770273,
moccasin: 16770229,
navajowhite: 16768685,
navy: 128,
oldlace: 16643558,
olive: 8421376,
olivedrab: 7048739,
orange: 16753920,
orangered: 16729344,
orchid: 14315734,
palegoldenrod: 15657130,
palegreen: 10025880,
paleturquoise: 11529966,
palevioletred: 14381203,
papayawhip: 16773077,
peachpuff: 16767673,
peru: 13468991,
pink: 16761035,
plum: 14524637,
powderblue: 11591910,
purple: 8388736,
rebeccapurple: 6697881,
red: 16711680,
rosybrown: 12357519,
royalblue: 4286945,
saddlebrown: 9127187,
salmon: 16416882,
sandybrown: 16032864,
seagreen: 3050327,
seashell: 16774638,
sienna: 10506797,
silver: 12632256,
skyblue: 8900331,
slateblue: 6970061,
slategray: 7372944,
slategrey: 7372944,
snow: 16775930,
springgreen: 65407,
steelblue: 4620980,
tan: 13808780,
teal: 32896,
thistle: 14204888,
tomato: 16737095,
turquoise: 4251856,
violet: 15631086,
wheat: 16113331,
white: 16777215,
whitesmoke: 16119285,
yellow: 16776960,
yellowgreen: 10145074
};
i.prototype = e.prototype = {
displayable: function() {
return this.rgb().displayable();
},
toString: function() {
return this.rgb() + "";
}
};
var S = o.prototype = r.prototype = new e();
S.brighter = function(t) {
t = null == t ? w : Math.pow(w, t);
return new r(this.r * t, this.g * t, this.b * t);
};
S.darker = function(t) {
t = null == t ? b : Math.pow(b, t);
return new r(this.r * t, this.g * t, this.b * t);
};
S.rgb = function() {
return this;
};
S.displayable = function() {
return 0 <= this.r && this.r <= 255 && 0 <= this.g && this.g <= 255 && 0 <= this.b && this.b <= 255;
};
S.toString = function() {
var t = Math.round(this.r), e = Math.round(this.g), i = Math.round(this.b);
return "#" + (isNaN(t) || t <= 0 ? "00" : t < 16 ? "0" + t.toString(16) : t >= 255 ? "ff" : t.toString(16)) + (isNaN(e) || e <= 0 ? "00" : e < 16 ? "0" + e.toString(16) : e >= 255 ? "ff" : e.toString(16)) + (isNaN(i) || i <= 0 ? "00" : i < 16 ? "0" + i.toString(16) : i >= 255 ? "ff" : i.toString(16));
};
var I = a.prototype = s.prototype = new e();
I.brighter = function(t) {
t = null == t ? w : Math.pow(w, t);
return new s(this.h, this.s, this.l * t);
};
I.darker = function(t) {
t = null == t ? b : Math.pow(b, t);
return new s(this.h, this.s, this.l * t);
};
I.rgb = function() {
var t = this.h % 360 + 360 * (this.h < 0), e = isNaN(t) || isNaN(this.s) ? 0 : this.s, i = this.l, n = i + (i < .5 ? i : 1 - i) * e, o = 2 * i - n;
return new r(_(t >= 240 ? t - 240 : t + 120, o, n), _(t, o, n), _(t < 120 ? t + 240 : t - 120, o, n));
};
I.displayable = function() {
return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1;
};
var k = Math.PI / 180, B = 180 / Math.PI, N = 18, T = .95047, E = 1, D = 1.08883, O = 4 / 29, P = 6 / 29, L = 3 * P * P, W = P * P * P, R = l.prototype = d.prototype = new e();
R.brighter = function(t) {
return new d(this.l + N * (null == t ? 1 : t), this.a, this.b);
};
R.darker = function(t) {
return new d(this.l - N * (null == t ? 1 : t), this.a, this.b);
};
R.rgb = function() {
var t = (this.l + 16) / 116, e = isNaN(this.a) ? t : t + this.a / 500, i = isNaN(this.b) ? t : t - this.b / 200;
t = E * c(t);
e = T * c(e);
i = D * c(i);
return new r(h(3.2404542 * e - 1.5371385 * t - .4985314 * i), h(-.969266 * e + 1.8760108 * t + .041556 * i), h(.0556434 * e - .2040259 * t + 1.0572252 * i));
};
var F = p.prototype = g.prototype = new e();
F.brighter = function(t) {
return new g(this.h, this.c, this.l + N * (null == t ? 1 : t));
};
F.darker = function(t) {
return new g(this.h, this.c, this.l - N * (null == t ? 1 : t));
};
F.rgb = function() {
return l(this).rgb();
};
var M = -.14861, V = 1.78277, H = -.29227, z = -.90649, U = 1.97294, q = U * z, G = U * V, Y = V * H - z * M, X = m.prototype = $.prototype = new e();
X.brighter = function(t) {
t = null == t ? w : Math.pow(w, t);
return new $(this.h, this.s, this.l * t);
};
X.darker = function(t) {
t = null == t ? b : Math.pow(b, t);
return new $(this.h, this.s, this.l * t);
};
X.rgb = function() {
var t = isNaN(this.h) ? 0 : (this.h + 120) * k, e = +this.l, i = isNaN(this.s) ? 0 : this.s * e * (1 - e), n = Math.cos(t), o = Math.sin(t);
return new r(255 * (e + i * (M * n + V * o)), 255 * (e + i * (H * n + z * o)), 255 * (e + i * (U * n)));
};
var K = "0.3.4";
t.version = K;
t.color = i;
t.rgb = o;
t.hsl = a;
t.lab = l;
t.hcl = p;
t.cubehelix = m;
});
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(t) {
t = r.shallowExtend({}, t);
for (var i in t) if (t.hasOwnProperty(i) && e(i, o) > -1) {
for (var n = "", a = 0, s = o.length; a < s; a++) {
var _ = o[a];
if (_ in t) {
n += _ + "(" + t[_] + ")";
delete t[_];
}
}
t.transform = n;
t.webkitTransform = n;
}
return t;
}
var o = [ "matrix", "translate", "translateX", "translateY", "scale", "scaleX", "scaleY", "rotate", "skew", "skewX", "skewY", "matrix3d", "translate3d", "translateZ", "scale3d", "scaleZ", "rotate3d", "rotateX", "rotateY", "rotateZ", "perspective" ], r = i(48);
n(t, "meshim_widget_utils_propsToCSSStyle");
return t;
}();
}).call(e, i(24), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_html_a = i(94);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_html_a, "", "", [], {
xmlns: "jx.ui.html",
position: "absolute",
top: "0",
left: "0",
width: "100%",
height: "100%"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.on("click", e);
}
function e() {
r.trackEvent("Button Clicked");
c.write({
button_clicked$bool: !0
});
if (f.getValue()) a.userShowWindow(); else if (l.requestPermission()) if (d.isIEMobile) {
h.setAttribute("href", _.getPopoutURL());
h.setAttribute("target", n.POPOUT_WINDOW_PREFIX + p.getValue());
} else {
s.resetUnreadCount();
_.openPopout(!0);
}
}
var n = i(42), o = i(40), r = i(175), a = i(109), s = i(85), _ = i(107), l = i(198), d = i(52), u = o.root.$("livechat").$("ui"), c = u.$("chat_button"), f = u.$("mobile_overlay$bool"), p = o.root.$("livechat").$("account").$("key$string");
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_html_a.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_html_a;
t.__jx__jcss = {};
a(t, "meshim_widget_components_mobileChatButton_TappingScreen");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_FloatingFrame = i(82);
e.__$$__meshim_widget_components_mobileChatUnreadCountBadge_UnreadCount = i(335);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_FloatingFrame, "", "", [ [ e.__$$__meshim_widget_components_mobileChatUnreadCountBadge_UnreadCount, "mobile_unread", "", [], {
id: "mobile_unread",
opacity: "0"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:components": "meshim.widget.components",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:mobileChatUnreadCountBadge": "meshim.widget.components.mobileChatUnreadCountBadge",
useDisplay: "true",
visible: "false",
cursor: "pointer"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
var f = n.get(a + "__mobile_unread");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
if (y) {
a = new _(h, u);
h.dom.className = "zopim";
new d(h);
h.content.setStyle("textAlign", "left");
h.content.addClass("meshim_widget_Widget");
h.wrapper.addClass(h.__jx__fqname);
h.iframe.style.verticalAlign = "top";
h.autobind(m, "value", n);
h.autobind($, "value", n);
h.autobind(b, "value", function(t) {
if (o !== t) {
o = t;
e();
}
});
h.autobind(w, "value", function(t) {
if (x !== t) {
x = t;
e();
f.updateUnread(x);
}
});
h.autobind(v, "value", function(t) {
if (r !== t) {
r = t;
e();
}
});
}
}
function e() {
if (y && o && x > 0 && r) {
h.setDisplay("");
a.animate({
endStyle: c,
duration: 200
});
} else a.animate({
endStyle: u,
duration: 200
}, function(t) {
t || h.setDisplay("none");
});
}
function n() {
var t = m.getValue();
if (t) {
for (var e, i, n, o, r = 11, a = 3, s = r + a, _ = t.zoom$string, d = t.scale$string, u = 0, c = l.cssom_prefixes.length; u < c; u++) {
h.wrapper.setStyle(l.cssom_prefixes[u] + "Transform", "scale(" + d + ")");
h.wrapper.setStyle(l.cssom_prefixes[u] + "TransformOrigin", "0 0");
}
if ("auto" === t.left$string) {
e = "auto";
i = parseFloat(t.right$string) - s * d;
} else {
i = "auto";
e = parseFloat(t.left$string) + parseFloat(t.width$string) - s * d;
}
if ("auto" === t.bottom$string) {
o = "auto";
n = parseFloat(t.top$string) - s * d;
} else {
n = "auto";
o = parseFloat(t.bottom$string) + parseFloat(t.height$string) - s * d;
}
h.setStyle({
top: "",
right: "",
bottom: "",
left: ""
});
h.setStyle({
position: t.position$string,
top: n,
right: i,
left: e,
bottom: o,
height: h.wrapper.getHeight() / _,
width: h.wrapper.getWidth() / _
});
}
}
var o, r, a, s = i(40), _ = i(327), l = i(48), d = i(333), u = {
opacity: 0
}, c = {
opacity: 1
}, p = s.root.$("livechat"), g = p.$("ui").$("chat_button"), m = g.$("mobile").$("calculated_styles"), $ = p.$("settings").$("theme").$("chat_button").$("position_mobile$string"), b = g.$("fully_visible$bool"), w = g.$("unread_count$int"), x = 0, v = p.$("channel").$("chatting$bool"), y = p.$("ui").$("mobile$bool").getValue();
t();
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_FloatingFrame.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_FloatingFrame;
t.__jx__jcss = {
"**self": {
padding: "3px"
}
};
a(t, "meshim_widget_components_MobileChatUnreadCountBadge");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__jx_ui_Label = i(101);
t.exports = function() {
function t(r, a, s, _, l) {
if (!(this instanceof t)) return new t(r, a, s, _, l);
a = a || n.generateID();
var d = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [], {
addClass: "unread_badge"
} ], [ e.__$$__jx_ui_Label, "unread_badge_text", "", [], {
id: "unread_badge_text",
addClass: "unread_badge_text"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui"
} ], u = d[0].call(this, r, a, null, n.mangleIDs(a, d[3]), d[4]), c = u || this;
n.set(a, c);
var h = n.get(a + "__unread_badge_text");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
var t = 0;
c.updateUnread = function(e) {
var i = Math.min(e, 99);
if (i !== t) {
t = i;
if (t) {
h.setText(t);
c.setOpacity(1);
} else c.setOpacity(0);
}
};
}();
for (var p in f) f.hasOwnProperty(p) && (c[p] = f[p]);
c.fire && c.fire("init");
c.setStyle && c.setStyle(s);
c.setAttributes && c.setAttributes(l);
"function" == typeof c.addChildren ? c.addChildren(_) : n.addChildren(c, _);
if (c !== this) {
c.__jx__constructor = i;
c.__jx__native = !1;
}
return c;
}
var i;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "relative",
width: "22px",
height: "22px"
},
".unread_badge": {
position: "absolute",
top: "0",
left: "0",
height: "100%",
width: "100%",
background: "#EF4444",
border: "1px solid #AF1E1E",
boxShadow: "0px 0px 3px 0px rgba(0,0,0,0.6)",
borderRadius: "50%"
},
".unread_badge_text": {
position: "absolute",
top: "0",
left: "0",
width: "100%",
height: "100%",
fontWeight: "700",
fontSize: "12px",
color: "#FFF",
lineHeight: "22px",
textAlign: "center"
}
};
a(t, "meshim_widget_components_mobileChatUnreadCountBadge_UnreadCount");
i = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_IFrame = i(83);
e.__$$__meshim_widget_components_mobileChatWindow_MainScreen = i(337);
e.__$$__meshim_widget_widgets_fontLoader_ZopimFont = i(293);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_IFrame, "", "", [ [ e.__$$__meshim_widget_components_mobileChatWindow_MainScreen, "", "", [], {} ], [ e.__$$__meshim_widget_widgets_fontLoader_ZopimFont, "", "", [], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:mobileWindow": "meshim.widget.components.mobileChatWindow",
top: "0",
left: "0",
width: "100%",
height: "100%",
position: "fixed",
zIndex: "16000003",
minWidth: "100%",
maxWidth: "100%",
minHeight: "100%",
maxHeight: "100%",
useDisplay: "true",
visible: "false"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var f = function() {
function t() {
h.defaultPlacement.addClass(h.__jx__fqname);
h.defaultPlacement.addClass("meshim_widget_Widget");
c(h.ibody);
a.init();
o();
r = new u(h, f);
h.moveDown = n;
h.moveUp = e;
s.registerChatWindow(h);
}
function e(t) {
h.setVisible(!0);
d.store();
_(!0);
r.animate({
endStyle: p,
duration: 500
}, function(e) {
e || l(!0);
t && t(e);
});
}
function n(t) {
l(!1);
_(!1);
d.restore();
r.animate({
endStyle: f,
duration: 300
}, function(e) {
e || h.setVisible(!1);
t && t(e);
});
}
function o() {
var t = h.idoc.createElement("meta");
t.setAttribute("name", "viewport");
t.setAttribute("content", "width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no");
h.idoc.head.appendChild(t);
}
var r, a = i(197), s = i(54), _ = i(343), l = i(344), d = i(345), u = i(327), c = i(295), f = {
opacity: 0,
translateY: "100%"
}, p = {
opacity: 1,
translateY: "0%"
};
t();
}();
for (var p in f) f.hasOwnProperty(p) && (h[p] = f[p]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_IFrame.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_IFrame;
t.__jx__jcss = {};
a(t, "meshim_widget_components_MobileChatWindow");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_components_chatWindow_MenuStack = i(263);
e.__$$__meshim_widget_widgets_ViewStack = i(87);
e.__$$__meshim_widget_components_chatWindow_NewChatForm = i(89);
e.__$$__meshim_widget_components_chatWindow_PreChatOfflineForm = i(131);
e.__$$__meshim_widget_components_mobileChatWindow_ChatPanel = i(338);
e.__$$__meshim_widget_components_chatWindow_PostChatForm = i(249);
e.__$$__meshim_widget_components_chatWindow_CookieForm = i(254);
e.__$$__meshim_widget_components_chatWindow_CardForm = i(258);
e.__$$__meshim_widget_components_chatWindow_AgentList = i(259);
e.__$$__meshim_widget_components_chatWindow_AboutPanel = i(261);
e.__$$__meshim_widget_components_chatWindow_RatingPanel = i(262);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_chatWindow_MenuStack, "menu_stack", "", [], {
id: "menu_stack",
addClass: "popout"
} ], [ e.__$$__meshim_widget_widgets_ViewStack, "main_stack", "", [ [ e.__$$__meshim_widget_components_chatWindow_NewChatForm, "", "", [], {
name: "new_chat_form"
} ], [ e.__$$__meshim_widget_components_chatWindow_PreChatOfflineForm, "", "", [], {
name: "pre_chat_offline_form"
} ], [ e.__$$__meshim_widget_components_mobileChatWindow_ChatPanel, "", "", [], {
name: "chat_panel"
} ], [ e.__$$__meshim_widget_components_chatWindow_PostChatForm, "", "", [], {
name: "post_chat_form"
} ], [ e.__$$__meshim_widget_components_chatWindow_CookieForm, "", "", [], {
name: "cookie_form"
} ], [ e.__$$__meshim_widget_components_chatWindow_CardForm, "", "", [], {
name: "card_form"
} ], [ e.__$$__meshim_widget_components_chatWindow_AgentList, "", "", [], {
name: "agent_list"
} ], [ e.__$$__meshim_widget_components_chatWindow_AboutPanel, "", "", [], {
name: "about_panel"
} ], [ e.__$$__meshim_widget_components_chatWindow_RatingPanel, "", "", [], {
name: "rating_panel"
} ] ], {
id: "main_stack",
onChildHide: "-1"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:chatWindow": "meshim.widget.components.chatWindow",
"xmlns:mobileChatWindow": "meshim.widget.components.mobileChatWindow",
"xmlns:widgets": "meshim.widget.widgets"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
var f = n.get(a + "__menu_stack"), p = n.get(a + "__main_stack");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
e();
p.on("click", e);
p.on("indexChange", e);
h.autobind(a, "value", function() {
p.setName(a.getValue());
});
h.autobind(s, "value", function() {
f.setName(s.getValue());
});
}
function e() {
s.update("");
}
var n = i(40), o = n.root.$("livechat"), r = o.$("ui").$("chat_window"), a = r.$("main_stack_name$string"), s = r.$("menu_stack_name$string");
t();
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
position: "absolute",
"top, left, right, bottom": 0,
backgroundColor: "$$windowBg",
boxShadow: "$$windowShadow",
"-webkit-text-size-adjust, -moz-text-size-adjust, -ms-text-size-adjust, text-size-adjust": "100%"
}
};
a(t, "meshim_widget_components_mobileChatWindow_MainScreen");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatPanelHeader = i(190);
e.__$$__meshim_widget_components_chatWindow_chatPanel_FastInitChatLog = i(209);
e.__$$__meshim_widget_widgets_Branding = i(91);
e.__$$__meshim_widget_components_mobileChatWindow_chatPanel_AgentTypingStatus = i(339);
e.__$$__meshim_widget_widgets_CookieLawNotice = i(119);
e.__$$__meshim_widget_components_mobileChatWindow_chatPanel_ChatTextArea = i(340);
e.__$$__meshim_widget_widgets_TitleBar = i(99);
e.__$$__meshim_widget_widgets_MobileOptionsMenuIcon = i(113);
e.__$$__meshim_widget_widgets_ChatWindowDisconnectedToast = i(132);
e.__$$__meshim_widget_components_chatWindow_chatPanel_File = i(189);
e.__$$__meshim_widget_components_mobileChatWindow_chatPanel_NewMessagesToast = i(342);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "scrollable", "", [ [ e.__$$__jx_ui_Widget, "served_by_container", "", [ [ e.__$$__meshim_widget_components_chatWindow_chatPanel_ChatPanelHeader, "", "", [], {} ] ], {
id: "served_by_container",
addClass: "served_by_container"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_chatWindow_chatPanel_FastInitChatLog, "", "", [], {} ] ], {
addClass: "chat_log_wrapper"
} ] ], {
addClass: "chatlog_container"
} ], [ e.__$$__jx_ui_Widget, "branding_and_agent_typing_container", "", [ [ e.__$$__meshim_widget_widgets_Branding, "chatpanel_branding", "", [], {
id: "chatpanel_branding",
addClass: "chatpanel_branding"
} ], [ e.__$$__meshim_widget_components_mobileChatWindow_chatPanel_AgentTypingStatus, "", "", [], {
"class": "agent_typing"
} ] ], {
id: "branding_and_agent_typing_container",
addClass: "branding_and_agent_typing_container"
} ], [ e.__$$__meshim_widget_widgets_CookieLawNotice, "cookie_law_notice", "", [], {
id: "cookie_law_notice",
addClass: "cookie_law_notice"
} ] ], {
id: "scrollable",
addClass: "scrollable"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_mobileChatWindow_chatPanel_ChatTextArea, "", "", [], {} ] ], {
addClass: "textarea_container"
} ] ], {
addClass: "main_flexbox"
} ], [ e.__$$__meshim_widget_widgets_TitleBar, "", "", [], {} ], [ e.__$$__meshim_widget_widgets_MobileOptionsMenuIcon, "", "", [], {
addClass: "mobile_options_menu_icon"
} ], [ e.__$$__meshim_widget_widgets_ChatWindowDisconnectedToast, "", "", [], {} ], [ e.__$$__meshim_widget_components_chatWindow_chatPanel_File, "", "", [], {} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_mobileChatWindow_chatPanel_NewMessagesToast, "", "", [], {
addClass: "new_messages_toast"
} ] ], {
addClass: "new_messages_toast_parent"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:chatPanel": "meshim.widget.components.chatWindow.chatPanel",
"xmlns:mobileChatPanel": "meshim.widget.components.mobileChatWindow.chatPanel"
} ], h = c[0].call(this, a, s, null, n.mangleIDs(s, c[3]), c[4]), f = h || this;
n.set(s, f);
var p = n.get(s + "__scrollable"), g = n.get(s + "__served_by_container"), m = n.get(s + "__branding_and_agent_typing_container"), $ = n.get(s + "__chatpanel_branding"), b = n.get(s + "__cookie_law_notice");
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var w = function() {
function t() {
h.rtl(f);
p.on("scroll", _);
f.on("touchstart", u.userTouchStart);
f.on("touchend", u.userTouchEnd);
f.autobind(I, "value", n);
f.autobind(S.$("smooth_scroll_count$int"), "value", o);
f.autobind(S.$("instant_scroll_count$int"), "value", a);
f.autobind(D, "value", e);
f.autobind(E, "value", e);
d = w.isStyleSupported("overflow-scrolling");
d && l();
f.autobind(T, "value", function(t) {
g.setDisplay(t ? "block" : "none");
});
}
function e() {
if (D.getValue() && !E.getValue()) {
m.setDisplay("none");
b.setDisplay("");
} else {
m.setDisplay("");
b.setDisplay("none");
}
}
function n(t) {
$[t ? "addClass" : "removeClass"]("hide");
}
function o(t) {
if (!P || t === !0) {
var e = _();
if (e <= C) P = !1; else {
var i = Math.floor(Math.max(e * v, y));
O.scrollTop = O.scrollTop + i;
if (e - i > 0) {
P = !0;
L(function() {
o(!0);
});
} else P = !1;
}
}
}
function a() {
O.scrollTop = 99999999999;
u.userDistFromBottom(0);
}
function s() {
return O.scrollHeight - O.offsetHeight - O.scrollTop;
}
function _() {
var t = s();
u.userDistFromBottom(t);
d && W(t);
return t;
}
function l() {
function t() {
var t = N.getValue(), i = B.getValue();
"chat_panel" === t && i === !0 && e();
}
function e() {
p.setCSSStyle("webkitOverflowScrolling", "auto");
setTimeout(function() {
p.setCSSStyle("webkitOverflowScrolling", "touch");
}, 50);
}
f.autobind(B, "value", t);
f.autobind(N, "value", t);
}
var d, u = i(197), c = i(40), h = i(95), w = i(48), x = i(55), v = .25, y = 5, j = 50, C = 1, A = c.root.$("livechat"), S = A.$("ui").$("chat_window").$("chat_panel").$("scrollable"), I = A.$("ui").$("chat_window").$("typing_info").$("agent_typing$bool"), k = A.$("ui").$("chat_window"), B = k.$("display$bool"), N = k.$("main_stack_name$string"), T = k.$("display_profile_card$bool"), E = A.$("profile").$("allow_cookies$bool"), D = A.$("settings").$("cookie_law").$("enabled$bool"), O = p.dom, P = !1, L = window.requestAnimationFrame || r, W = x.debounce(function(t) {
O.scrollHeight - O.offsetHeight !== 1 && (0 === t ? O.scrollTop = O.scrollHeight - O.offsetHeight - C : 0 === O.scrollTop && (O.scrollTop = C));
}, j);
t();
}();
for (var x in w) w.hasOwnProperty(x) && (f[x] = w[x]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = a(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
height: "100%"
},
".mobile_options_menu_icon": {
position: "absolute",
zIndex: "102"
},
"&.ltr": {
".mobile_options_menu_icon": {
"top, left": 0
}
},
"&.rtl": {
".mobile_options_menu_icon": {
"top, right": 0
}
},
".main_flexbox": {
paddingTop: "$$titleBarHeight",
position: "relative",
height: "100%",
display: [ "flex", "-webkit-flex" ],
"flexDirection, -webkit-flex-direction": "column"
},
".scrollable": {
overflowY: "auto",
"-webkit-overflow-scrolling": "touch",
"flexGrow, -webkit-flex-grow": "1",
display: [ "flex", "-webkit-flex" ],
"flexDirection, -webkit-flex-direction": "column"
},
".served_by_container": {
"flexShrink, -webkit-flex-shrink": "0",
position: "relative",
width: "100%",
padding: "10px",
background: "$$chatPanelProfileCardContainerBackground",
borderWidth: "$$chatPanelProfileCardContainerBorderWidth",
borderStyle: "$$chatPanelProfileCardContainerBorderStyle",
borderColor: "$$chatPanelProfileCardContainerBorderColor"
},
".chatlog_container": {
position: "relative",
marginTop: "auto",
"flexShrink, -webkit-flex-shrink": "0"
},
".chat_log_wrapper": {
margin: "$$chatLogMargin"
},
".branding_and_agent_typing_container": {
position: "relative",
"flexShrink, -webkit-flex-shrink": "0",
height: "1.5em",
width: "100%"
},
".chatpanel_branding": {
position: "absolute",
transition: "opacity 2.5s 0.5s",
padding: "0px 15px 5px"
},
".chatpanel_branding.hide": {
visibility: "hidden",
transition: "none",
opacity: 0
},
".agent_typing": {
paddingTop: "2px",
width: "100%",
whiteSpace: "nowrap",
overflow: "hidden",
textOverflow: "ellipsis"
},
".cookie_law_notice": {
"flexShrink, -webkit-flex-shrink": "0",
fontSize: "$$fontSizeS",
color: "$$chatLogSystemMsgColor",
textAlign: "center",
height: "21px"
},
".textarea_container": {
position: "relative",
"flexShrink, -webkit-flex-shrink": "0"
},
".new_messages_toast_parent": {
position: "absolute",
bottom: "115px",
width: "100%",
height: "0px",
textAlign: "center"
},
".new_messages_toast": {
maxWidth: "80%"
}
};
s(t, "meshim_widget_components_mobileChatWindow_ChatPanel");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(12), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__jx_ui_Widget = i(17);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = [ e.__$$__jx_ui_Widget, "", "", [], {
"xmlns:ui": "jx.ui"
} ], h = c[0].call(this, a, s, null, n.mangleIDs(s, c[3]), c[4]), f = h || this;
n.set(s, f);
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
f.autobind(s.$("num_typing_agents$int"), "value", e);
if (r && r.onLanguage) {
r.onLanguage(e);
f.onDestruction(function() {
r.unLanguage(e);
});
}
}
function e() {
var t = s.$("num_typing_agents$int").getValue();
if (t >= 1) {
f.setText((1 == t ? o.chat_panel.name_is_typing : o.chat_panel.agents_are_typing).replace("<name>", s.$("agent_names$string").getValue()));
f.setDisplay("");
} else f.setDisplay("none");
}
var n = i(40), o = i(97), a = n.root.$("livechat"), s = a.$("ui").$("chat_window").$("typing_info");
t();
}();
for (var g in p) p.hasOwnProperty(g) && (f[g] = p[g]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = a(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
fontSize: "$$fontSizeS",
color: "$$chatLogSystemMsgColor",
background: "$$chatLogSystemMsgBg",
textAlign: "center"
}
};
s(t, "meshim_widget_components_mobileChatWindow_chatPanel_AgentTypingStatus");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(22), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_widgets_Button = i(157);
e.__$$__meshim_widget_widgets_IconFont = i(96);
e.__$$__meshim_widget_widgets_SendFile = i(280);
e.__$$__meshim_widget_components_mobileChatWindow_chatPanel_AutoResizeTextArea = i(341);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "send", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "send",
addClass: "send"
} ] ], {
id: "send",
addClass: "send_button primary fit"
} ], [ e.__$$__meshim_widget_widgets_Button, "upload", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "upload",
addClass: "upload"
} ], [ e.__$$__meshim_widget_widgets_SendFile, "", "", [], {
addClass: "send_file"
} ] ], {
id: "upload",
addClass: "upload_button primary fit"
} ] ], {
addClass: "send_wrapper"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_components_mobileChatWindow_chatPanel_AutoResizeTextArea, "textarea", "", [], {
id: "textarea",
addClass: "textarea"
} ] ], {
addClass: "textarea_wrapper"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:mui": "meshim.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:mobileChatWindow": "meshim.widget.components.mobileChatWindow"
} ], h = c[0].call(this, a, s, null, n.mangleIDs(s, c[3]), c[4]), f = h || this;
n.set(s, f);
var p = n.get(s + "__send"), g = n.get(s + "__upload"), m = n.get(s + "__textarea");
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var $ = function() {
function t() {
x.$("chat_window").update({
menu_stack_name$string: ""
});
}
function e() {
d.resetUnreadCount();
}
function n() {
u.userInputValue(m.getValue());
}
function o(t, e) {
if (_ !== t || l !== e) {
_ = t;
l = e;
if (l && _ === I.FILE) {
p.setDisplay("none");
g.setDisplay("");
} else {
p.setDisplay("");
g.setDisplay("none");
}
}
}
function a() {
var t = j.getValue(), e = A.getValue(), i = y.getValue("color_customization_enabled$int") || y.getValue("widget_customization_enabled$int"), n = !0;
i ? t && e === !1 && (n = !1) : n = !1;
o(_, n);
}
function s() {
m.setPlaceholder(h.chat_panel.chattextarea_placeholder);
f.autobind(v, "value", function(t) {
m.setValue(t);
o(t ? I.TEXT : I.FILE, l);
});
f.autobind(j, "value", a);
f.autobind(A, "value", a);
f.autobind(y, "value", a);
m.on("input", n);
m.on("focus", function() {
e();
t();
u.userFocusTextArea();
});
m.on("keydown", function(t) {
if (13 === t.keyCode && !t.shiftKey && !t.ctrlKey && !t.altKey) {
t.preventDefault();
u.userSendMessage(m.getValue());
}
});
p.on("mousedown", function(i) {
$.isChromeIOSMobile || i.preventDefault();
r.isAndroid && m.dom.setSelectionRange && m.dom.setSelectionRange(0, 1);
u.userSendMessage(m.getValue());
e();
t();
});
f.autobind(S, "value", function(t) {
f.setDisabled("idle_disconnect" === t);
});
}
var _, l, d = i(85), u = i(197), c = i(40), h = i(97), $ = i(52), b = c.root, w = b.$("livechat"), x = w.$("ui"), v = x.$("chat_window").$("chat_panel").$("textarea").$("value$string"), y = w.$("settings").$("package"), j = w.$("features").$("file_sending_settings$bool"), C = w.$("settings").$("file_sending"), A = C.$("enabled$bool"), S = b.$("connection").$("status$string"), I = {
TEXT: 0,
FILE: 1
};
s();
}();
for (var b in $) $.hasOwnProperty(b) && (f[b] = $[b]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = a(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
"**self": {
width: "100%",
display: [ "flex", "-webkit-flex" ],
borderWidth: "$$chatTextAreaBorderWidth",
borderStyle: "$$chatTextAreaBorderStyle",
borderColor: "$$chatTextAreaBorderColor",
"&.disabled": {
opacity: "0.5"
}
},
".textarea": {
width: "100%",
lineHeight: "1.3em",
maxHeight: "3.9em",
minHeight: "2em",
padding: "10px",
paddingBottom: "0px",
resize: "none"
},
".textarea_wrapper": {
"flexGrow, -webkit-flex-grow": "1",
"order, -webkit-order": "1"
},
".send_button, .upload_button": {
fontSize: "$$fontSizeXXL",
margin: "$$chatTextAreaSubmitMargin",
padding: "$$chatTextAreaSubmitPadding",
width: "44px",
height: "32px",
boxShadow: "inset 0px 2px 0px 0px rgba(255,255,255,0.30)",
borderRadius: "4px",
".send": {
paddingLeft: "3px",
paddingTop: "4px"
},
".upload": {
paddingTop: "3px"
}
},
".send_button.rtl .send": {
direction: "ltr"
},
".upload_button": {
position: "relative"
},
".send_file": {
position: "absolute",
"top, left": 0
},
".send_wrapper": {
"flexShrink, -webkit-flex-shrink": "0",
"order, -webkit-order": "2",
marginTop: "auto"
}
};
s(t, "meshim_widget_components_mobileChatWindow_chatPanel_ChatTextArea");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(7), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__meshim_widget_widgets_TextArea = i(170);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = [ e.__$$__meshim_widget_widgets_TextArea, "", "", [], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
addClass: "unstyled"
} ], h = c[0].call(this, a, s, null, n.mangleIDs(s, c[3]), c[4]), f = h || this;
n.set(s, f);
if (!t.__jx__jcss_generated) {
o.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
f.setValue = e;
f.autobind(a, "value", function(t) {
t && n();
});
f.on("input", n);
}
function e(t) {
t = r(t, "checkNull") ? "" : t;
t !== f.getValue() && s.call(f, t);
n();
}
function n() {
f.setHeight(0).setHeight(f.getScrollHeight());
}
var o = i(40), a = o.root.$("livechat").$("ui").$("theme_loaded$bool"), s = f.setValue;
t();
}();
for (var g in p) p.hasOwnProperty(g) && (f[g] = p[g]);
f.fire && f.fire("init");
f.setStyle && f.setStyle(l);
f.setAttributes && f.setAttributes(u);
"function" == typeof f.addChildren ? f.addChildren(d) : n.addChildren(f, d);
if (f !== this) {
f.__jx__constructor = _;
f.__jx__native = !1;
}
return f;
}
var _;
t.prototype = a(e.__$$__meshim_widget_widgets_TextArea.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_TextArea;
t.__jx__jcss = {
"**self": {
overflowX: "hidden"
}
};
s(t, "meshim_widget_components_mobileChatWindow_chatPanel_AutoResizeTextArea");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(10), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__meshim_widget_widgets_Toast = i(134);
e.__$$__jx_ui_html_div = i(120);
e.__$$__meshim_widget_widgets_IconFont = i(96);
e.__$$__jx_ui_html_span = i(115);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__meshim_widget_widgets_Toast, "", "", [ [ e.__$$__jx_ui_html_div, "", "", [ [ e.__$$__meshim_widget_widgets_IconFont, "", "", [], {
icon: "arrow_down_long",
addClass: "arrow_down_long"
} ] ], {
addClass: "arrow_container"
} ], [ e.__$$__jx_ui_html_span, "message", "", [], {
id: "message"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
display: "inline-block",
useDisplay: "true",
visible: "false"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
var f = n.get(a + "__message");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var p = function() {
function t() {
r = new d(h, c);
h.autobind(b, "value", e);
h.autobind(w, "value", e);
h.autobind(m, "value", function(t) {
if (t > 0) {
n();
f.setText(u.chat_panel[1 == t ? "new_message_below" : "new_messages_below"].replace("<number>", t));
} else o();
});
h.on("click", function() {
s.resetUnreadCount();
_.scrollToBottom();
});
}
function e(t) {
t && o();
}
function n() {
a = !0;
h.setVisible(!0);
r.animate({
endStyle: p,
duration: 300,
delay: 500
});
}
function o() {
if (a) {
a = !1;
r.animate({
endStyle: c,
duration: 100
}, function(t) {
t || h.setVisible(!1);
});
}
}
var r, a, s = i(85), _ = i(197), l = i(40), d = i(327), u = i(97), c = {
opacity: 0
}, p = {
opacity: 1
}, g = l.root.$("livechat").$("ui"), m = g.$("chat_button").$("unread_count$int"), $ = g.$("chat_window").$("chat_panel").$("scrollable"), b = $.$("scrolled_to_bottom$bool"), w = $.$("smooth_scroll_count$int");
t();
}();
for (var g in p) p.hasOwnProperty(g) && (h[g] = p[g]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__meshim_widget_widgets_Toast.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__meshim_widget_widgets_Toast;
t.__jx__jcss = {
"**self": {
fontWeight: "bold"
},
".arrow_container": {
display: "inline-block",
paddingRight: "4px",
verticalAlign: "bottom"
}
};
a(t, "meshim_widget_components_mobileChatWindow_chatPanel_NewMessagesToast");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(t) {
var e;
if (t && !a) {
e = i();
o = e.getAttribute("content") || "";
e.setAttribute("content", s);
a = !0;
} else if (!t && a) {
e = i();
e.setAttribute("content", o);
a = !1;
}
}
function i() {
if (r) return r;
var t = document.head.querySelectorAll("meta[name=viewport]");
r = t[t.length - 1] || n();
return r;
}
function n() {
var t = document.createElement("meta");
t.setAttribute("name", "viewport");
document.head.appendChild(t);
return t;
}
var o, r, a, s = "width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no";
t.resetState = function() {
r && r.parentNode.removeChild(r);
o = r = a = void 0;
};
e(t, "meshim_widget_components_mobileChatWindow_utils_disablePageZooming");
return t;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(t) {
var e, a, s;
if (document.body && document.body.style) {
i = document.body.style, t = !!t;
if (t && !n) {
for (e = 0, a = o.length; e < a; e++) {
s = o[e];
r[s] = i[s];
}
i.position = "fixed";
i.overflowY = "hidden";
i.webkitTextSizeAdjust = "100%";
i.width = "100%";
i.minHeight = "100%";
i.margin = "0px";
n = !0;
} else if (!t && n) {
for (e = 0, a = o.length; e < a; e++) {
s = o[e];
i[s] = r[s];
}
n = !1;
}
}
}
var i, n, o = [ "position", "overflowY", "webkitTextSizeAdjust", "width", "minHeight", "margin" ], r = {};
t.resetState = function() {
n = void 0;
r = {};
};
e(t, "meshim_widget_components_mobileChatWindow_utils_disablePageScrolling");
return t;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, i) {
t.exports = function() {
function t() {
var t = l.getDocumentScrollElement();
s = t.scrollTop;
_ = t.scrollLeft;
}
function n() {
if ("undefined" != typeof s) {
var t = l.getDocumentScrollElement();
t.scrollTop = s;
t.scrollLeft = _;
}
}
function o() {
if (a) return a;
a = document.scrollingElement ? document.scrollingElement : !e.isWebKit && e.isStrict ? document.documentElement : document.body || document.documentElement;
return a;
}
function r() {
s = _ = a = void 0;
}
var a, s, _, l = {
store: t,
restore: n,
resetState: r,
getDocumentScrollElement: o
};
i(l, "meshim_widget_components_mobileChatWindow_utils_storePageScrolling");
return l;
}();
}).call(e, i(7), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a) {
e.__$$__jx_ui_FloatingFrame = i(82);
e.__$$__jx_ui_FullFrame = i(84);
e.__$$__meshim_widget_components_mobileChatNotification_NotificationCard = i(347);
e.__$$__meshim_widget_widgets_fontLoader_ZopimFont = i(293);
t.exports = function() {
function t(r, a, _, l, d) {
if (!(this instanceof t)) return new t(r, a, _, l, d);
a = a || n.generateID();
var u = [ e.__$$__jx_ui_FloatingFrame, "", "", [ [ e.__$$__jx_ui_FullFrame, "notification_card_container", "", [ [ e.__$$__meshim_widget_components_mobileChatNotification_NotificationCard, "notification_card", "", [], {
id: "notification_card",
addClass: "notification_card"
} ] ], {
id: "notification_card_container",
addClass: "notification_card_container",
overflow: "hidden"
} ], [ e.__$$__meshim_widget_widgets_fontLoader_ZopimFont, "", "", [], {} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:mobileChatNotification": "meshim.widget.components.mobileChatNotification",
position: "fixed",
bottom: "0",
left: "0",
right: "0",
width: "100%",
height: "132px",
minWidth: "220px",
maxWidth: "350px",
marginLeft: "auto",
marginRight: "auto",
zIndex: "16000004",
useDisplay: "true",
visible: "false",
addClass: "zopim"
} ], c = u[0].call(this, r, a, null, n.mangleIDs(a, u[3]), u[4]), h = c || this;
n.set(a, h);
var f = n.get(a + "__notification_card_container"), p = n.get(a + "__notification_card");
if (!t.__jx__jcss_generated) {
o.generate(r, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var g = function() {
function t() {
h.defaultPlacement.addClass(h.__jx__fqname);
h.defaultPlacement.addClass("meshim_widget_Widget");
h.setCSSStyle("willChange", "transform");
g(h.ibody);
s = new u(h, x);
h.autobind(k, "value", n);
h.moveDown = r;
h.moveUp = o;
l.registerChatNotification(h);
}
function e() {
var t = window.innerWidth;
if (!(t < w)) {
var e = parseFloat(T.getValue()), i = e * c.MOBILE_ZOOM_ADDITIONAL;
b / i > t && (i = (b + 4) / t);
h.setStyle({
maxWidth: b / i + "px",
height: $ / i + "px"
});
f.setStyle({
transform: "scale(" + 1 / i + ")",
"-webkit-transform": "scale(" + 1 / i + ")",
transformOrigin: "top left",
"-webkit-transform-origin": "top left",
width: b + "px",
height: $ + "px"
});
}
}
function n(t) {
if (t && !(parseFloat(T.getValue()) > 1)) {
var i = S.getValue();
if (!(i > t || void 0 === i) && (t < I.getValue() || !I.getValue())) {
var n = B.getValue(), o = C.$("log").$(n), r = o.getValue(), a = r.nick$string, s = j.$("agents").$(a);
null === s.getValue() && (s = j.$("settings").$("concierge"));
e();
p.setAgentDataNode(s);
p.setLogDataNode(o);
d.showMobileNotification();
}
}
}
function o(t) {
h.setVisible(!0);
a = clearTimeout(a);
s.animate({
endStyle: v,
duration: 200
}, function(e) {
if (!e) {
N.write({
shown$bool: !0
});
a = setTimeout(d.hideMobileNotification, m);
}
t && t(e);
});
}
function r(t) {
a = clearTimeout(a);
s.animate({
endStyle: x,
duration: 200
}, function(e) {
e || h.setVisible(!1);
t && t(e);
});
}
var a, s, _ = i(40), l = i(54), d = i(109), u = i(327), c = i(52), g = i(295), m = 7200, $ = 132, b = 350, w = 980, x = {
opacity: 0,
translateY: "100%"
}, v = {
opacity: 1,
translateY: "0%"
}, y = _.root, j = y.$("livechat"), C = j.$("channel"), A = j.$("ui"), S = y.$("connection").$("reattached_timestamp$int"), I = C.$("first_visitor_msg_ts$int"), k = C.$("first_account_msg_ts$int"), B = C.$("first_account_msg_id$string"), N = A.$("chat_notification"), T = A.$("chat_button").$("mobile").$("calculated_styles").$("zoom$string");
t();
}();
for (var m in g) g.hasOwnProperty(m) && (h[m] = g[m]);
h.fire && h.fire("init");
h.setStyle && h.setStyle(_);
h.setAttributes && h.setAttributes(d);
"function" == typeof h.addChildren ? h.addChildren(l) : n.addChildren(h, l);
if (h !== this) {
h.__jx__constructor = s;
h.__jx__native = !1;
}
return h;
}
var s;
t.prototype = r(e.__$$__jx_ui_FloatingFrame.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_FloatingFrame;
t.__jx__jcss = {
".notification_card": {
position: "relative",
height: "122px",
width: "100%"
},
".notification_card_container": {
paddingLeft: "5px",
paddingRight: "5px"
}
};
a(t, "meshim_widget_components_MobileChatNotification");
s = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s) {
e.__$$__jx_ui_Widget = i(17);
e.__$$__meshim_widget_widgets_Gravatar = i(144);
e.__$$__meshim_widget_widgets_Controls = i(257);
e.__$$__meshim_widget_widgets_Button = i(157);
t.exports = function() {
function t(a, s, l, d, u) {
if (!(this instanceof t)) return new t(a, s, l, d, u);
s = s || n.generateID();
var c = o(114), h = o(115), f = [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__jx_ui_Widget, "", "", [], {
addClass: "paper"
} ], [ e.__$$__jx_ui_Widget, "", "", [ [ e.__$$__meshim_widget_widgets_Gravatar, "gravatar", "", [], {
id: "gravatar",
addClass: "rounded_avatar"
} ], [ e.__$$__jx_ui_Widget, "", "", [], {
addClass: "agent_profile_spacer"
} ], [ e.__$$__jx_ui_Widget, "agent_name", "", [], {
id: "agent_name",
addClass: "agent_name"
} ] ], {
addClass: "agent_profile"
} ], [ e.__$$__jx_ui_Widget, "chat_msg", "", [], {
id: "chat_msg",
addClass: "text_container"
} ], [ e.__$$__meshim_widget_widgets_Controls, "", "", [ [ e.__$$__meshim_widget_widgets_Button, "reply_btn", "", [ c ], {
placement: "primary",
id: "reply_btn",
addClass: "wide"
} ], [ e.__$$__meshim_widget_widgets_Button, "dismiss_btn", "", [ h ], {
placement: "secondary",
id: "dismiss_btn",
addClass: "wide secondary"
} ] ], {
addClass: "controls_container"
} ] ], {
xmlns: "jx.ui.html",
"xmlns:ui": "jx.ui",
"xmlns:widgets": "meshim.widget.widgets",
"xmlns:mobileChatNotification": "meshim.widget.components.mobileChatNotification"
} ], p = f[0].call(this, a, s, null, n.mangleIDs(s, f[3]), f[4]), g = p || this;
n.set(s, g);
var m = n.get(s + "__gravatar"), $ = n.get(s + "__agent_name"), b = n.get(s + "__chat_msg"), w = n.get(s + "__reply_btn"), x = n.get(s + "__dismiss_btn");
if (!t.__jx__jcss_generated) {
r.generate(a, t.prototype.__jx__fqname, t.__jx__jcss, null, t);
t.__jx__jcss_generated = !0;
}
var v = function() {
function t() {
x.on("click", function() {
l.userDismissMobileNotification();
d.write({
dismiss_clicked$bool: !0
});
});
w.on("click", function() {
l.userReplyMobileNotification();
d.write({
reply_clicked$bool: !0
});
});
}
function e(t) {
m.setMemberNode(t);
}
function n(t) {
r && g.autounbind(r, "value", o);
r = t;
r && g.autobind(r, "value", o);
}
function o(t) {
if (t) {
"msg$string" in t && (a.file_upload.test(t.msg$string) ? b.setText(s.chat_notification.attachment) : b.setText(t.msg$string));
"display_name$string" in t && $.setText(t.display_name$string);
}
}
var r, a = i(70), s = i(97), _ = i(40), l = i(109), d = _.root.$("livechat").$("ui").$("chat_notification");
g.setAgentDataNode = e;
g.setLogDataNode = n;
t();
}();
for (var y in v) v.hasOwnProperty(y) && (g[y] = v[y]);
g.fire && g.fire("init");
g.setStyle && g.setStyle(l);
g.setAttributes && g.setAttributes(u);
"function" == typeof g.addChildren ? g.addChildren(d) : n.addChildren(g, d);
if (g !== this) {
g.__jx__constructor = _;
g.__jx__native = !1;
}
return g;
}
var _;
t.prototype = a(e.__$$__jx_ui_Widget.prototype);
t.prototype.__jx__native = !1;
t.prototype.__jx__super = e.__$$__jx_ui_Widget;
t.__jx__jcss = {
".paper": {
position: "absolute",
top: "14px",
"bottom, left, right": 0,
backgroundColor: "white",
opacity: "0.9",
zIndex: "-1",
boxShadow: "0 0 2px rgba(0, 0, 0, 0.5);",
borderRadius: "5px",
margin: "0 2px 2px"
},
".agent_profile": {
width: "100%",
display: [ "flex", "-webkit-flex" ],
"alignItems, -webkit-align-items": "flex-end",
position: "relative",
padding: "0 14px"
},
".rounded_avatar": {
"flexShrink, -webkit-flex-shrink": "0",
borderRadius: "50%",
"width, height": "40px",
border: "1px solid #ddd"
},
".agent_profile_spacer": {
"flexShrink, -webkit-flex-shrink": "0",
width: "8px"
},
".agent_name": {
"flexGrow, -webkit-flex-grow": "1",
position: "relative",
bottom: "4px",
color: "$$profileCardNameColor",
fontWeight: "bold",
overflow: "hidden",
textOverflow: "ellipsis",
whiteSpace: "nowrap"
},
".controls_container": {
position: "absolute",
"bottom, left, right": 0,
padding: "10px"
},
".text_container": {
width: "100%",
padding: "10px",
paddingTop: "6px",
overflow: "hidden",
textOverflow: "ellipsis",
whiteSpace: "nowrap"
}
};
s(t, "meshim_widget_components_mobileChatNotification_NotificationCard");
_ = t;
t.prototype.__jx__constructor = t;
return t;
}();
}).call(e, i(3), i(20), i(22), i(30), i(14), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t() {
r = l.root.$("livechat");
a = r.$("agents");
s = r.$("triggers").$("agents");
_ = r.$("ui").$("chat_window").$("typing_info");
a.on("value", n);
s.on("value", n);
}
function n() {
var t, e = a.getValue(), i = s.getValue(), n = [];
if (e) for (t in e) e.hasOwnProperty(t) && e[t].typing$bool && n.push(e[t].display_name$string);
if (i) for (t in i) i.hasOwnProperty(t) && i[t].typing$bool && n.push(t);
_.update({
agent_typing$bool: n.length > 0,
agent_names$string: n.join(d),
num_typing_agents$int: n.length
});
}
function o() {
s.un("value", n);
a.un("value", n);
r = a = s = _ = void 0;
}
var r, a, s, _, l = i(40), d = ", ", u = {
SEPARATOR: d,
init: t,
resetState: o
};
e(u, "meshim_widget_controllers_AgentTypingController");
return u;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, n, o, r, a, s, _) {
t.exports = function() {
function t() {
q = K.root;
if (!q.$("livechat").$("ui").$("mockup$bool").getValue()) {
var t = this;
Q.init(t);
J.init(t);
tt.init(t);
et.init(t);
it.init(t);
nt.init(t);
ot.init(t);
rt.init(t);
at.init(t);
st.init(t);
_t.init(t);
lt.init(t);
W();
q.$("livechat").$("ui").$("popout$bool").getValue() && F();
}
}
function l() {
return q.getValue("livechat.profile.display_name$string") || "";
}
function d() {
return q.getValue("livechat.profile.email$string") || "";
}
function u() {
return q.getValue("livechat.profile.phone$string") || "";
}
function c() {
return q.getValue("livechat.channel.chatting$bool") || !1;
}
function h(t) {
if ("object" == typeof t) {
var i, n, o = this;
for (n in t) if (t.hasOwnProperty(n)) {
i = "set" + z(n);
e(o[i]) && o[i](t[n]);
}
return o;
}
}
function f(t) {
function e() {
K.livechat.updateProfile({
name: t
});
}
t = t && t.toString();
Q.callOnFastInit(e);
Q.callOnReattached(e);
}
function p(t) {
function e() {
K.livechat.updateProfile({
email: t
});
}
t = t && t.toString().trim();
if (X.email.test(t)) {
Q.callOnFastInit(e);
Q.callOnReattached(e);
} else window.console && window.console.log(Q.getPrefix() + ": setEmail(): the email provided is not valid: [" + t + "]");
}
function g(t) {
function e() {
K.livechat.updateProfile({
phone: t
});
}
t = t && t.toString();
Q.callOnFastInit(e);
Q.callOnReattached(e);
}
function m() {
function t() {
q.$("livechat").$("channel").$("tags").write({
added$string: n.join(",")
});
}
if (arguments.length) {
for (var e, i = arguments, n = [], o = 0, r = i.length; o < r; o++) {
e = (i[o] + "").trim();
e && n.push(e);
}
Q.callOnFastInit(t);
Q.callOnReattached(t);
}
}
function $(t) {
function e() {
q.$("livechat").$("session").$("page_path").write({
url$string: i,
title$string: o
});
}
var i, o;
if ("object" == typeof t && t && (i = U(t.url))) o = t.title || ct.title || ""; else {
if (!n(t)) {
window.console && window.console.log(Q.getPrefix() + ": sendVisitorPath(): the parameters provided are not valid. Please refer to the api doc.");
return;
}
i = ht + "";
o = ct.title || "";
}
Q.callOnReattached(e);
}
function b() {
function t() {
q.$("livechat").$("channel").$("tags").write({
removed$string: n.join(",")
});
}
if (arguments.length) {
for (var e, i = arguments, n = [], o = 0, r = i.length; o < r; o++) {
e = (i[o] + "").trim();
e && n.push(e);
}
Q.callOnFastInit(t);
Q.callOnReattached(t);
} else window.console && window.console.log(Q.getPrefix() + ": removeTags(): Please provide at least one tag");
}
function w(t) {
function e() {
q.$("livechat").$("profile").$("notification").update({
sound$bool: !t
});
}
if ("boolean" == typeof t) {
Q.callOnFastInit(e);
Q.callOnRegistered(e);
} else window.console && window.console.log(Q.getPrefix() + ": setDisableSound() expects passed argument to be true/false");
}
function x(t) {
function e() {
Q.saveAPISettings({
settings: {
language: {
language$string: t
}
}
});
q.$("livechat").$("settings").$("language").update({
language$string: t
});
}
if (o(t) && t) {
Q.callOnFastInit(e);
Q.callOnRegistered(e);
} else window.console && window.console.log(Q.getPrefix() + ": setLanguage() expects passed argument to be a non-empty string");
}
function v(t) {
function e(t) {
if (a[t] && o(a[t])) {
var e = {};
e[t + "$string"] = a[t];
Q.saveAPISettings({
settings: {
greetings: e
}
});
q.$("livechat").$("settings").$("greetings").update(e);
} else window.console && window.console.log(Q.getPrefix() + ': setGreetings() expects a non-empty string to be provided for "' + t + '"');
}
function i(t) {
var e = {};
e[t + "$string"] = null;
Q.resetAPISettings({
settings: {
greetings: e
}
});
var i = Q.getServerSettings("settings.greetings." + t + "$string");
if (i) {
e[t + "$string"] = i;
q.$("livechat").$("settings").$("greetings").update(e);
}
}
function n(t, e) {
if (e in t) return r(t[e]) ? t[e][0] : t[e];
}
if (t && "object" == typeof t) {
var a = {
online: n(t, "online"),
offline: n(t, "offline")
}, s = function() {
(null === a.online ? i : e)("online");
(null === a.offline ? i : e)("offline");
};
Q.callOnFastInit(s, !0);
Q.callOnReattached(s, !0);
}
}
function y() {
function t() {
K.livechat.clearAll();
K.livechat.reconnect();
}
Q.callOnRegistered(t);
}
function j() {
function t() {
Z.hideAll();
}
var e = Y.once(t);
Q.callOnFastInit(e);
Q.callOnRegistered(e);
}
function C(t) {
t && "string" == typeof t ? Q.callOnReattached(function() {
var e = q.$("livechat").$("profile").$("department_id$int").getValue(), i = {
msg: t
};
e && (i.department = e);
K.livechat.sendChatMsg(i);
ut.window.show();
}) : window.console && window.console.log(Q.getPrefix() + ": say() expects a non-empty string to be provided as an argument");
}
function A(t) {
e(t) ? Q.callOnReattached(Q.getCallbackCaller(t), !0) : window.console && window.console.log(Q.getPrefix() + ": setOnConnected() expects a callback function to be provided");
}
function S(t) {
var e = pt.last_chatting_state, i = a(t);
if (i !== pt.last_chatting_state) {
pt.last_chatting_state = i;
i ? pt.start_ready && pt.fire("chat_start") : e && pt.fire("chat_end");
}
}
function I() {
if (!pt.listening) {
pt.listening = !0;
q.$("livechat").$("channel").$("chatting$bool").bindValue(S);
}
}
function k(t) {
if (e(t)) {
pt.on("chat_start", Q.getCallbackCaller(t));
I();
if (!pt.start_settled) {
pt.start_settled = !0;
Q.callOnReattached(function() {
pt.last_chatting_state = a(q.$("livechat").$("channel").$("chatting$bool").getValue());
pt.start_ready = !0;
});
}
} else window.console && window.console.log(Q.getPrefix() + ": setOnChatStart() expects a callback function to be provided");
}
function B(t) {
if (e(t)) {
pt.on("chat_end", Q.getCallbackCaller(t));
I();
} else window.console && window.console.log(Q.getPrefix() + ": setOnChatEnd() expects a callback function to be provided");
}
function N(t) {
e(t) ? Q.callOnRegistered(Q.getCallbackCaller(t), !0) : window.console && window.console.log(Q.getPrefix() + ": setOnFlashReady() expects a callback function to be provided");
}
function T(t) {
e(t) ? q.$("livechat").$("account").$("status$string").bindValue(Q.getCallbackCaller(t)) : window.console && window.console.log(Q.getPrefix() + ": setOnStatus() expects a callback function to be provided");
}
function E(t) {
if (e(t)) {
var i;
t = Q.getCallbackCaller(t);
q.$("livechat").$("ui").$("chat_button").$("unread_count$int").bindValue(function(e) {
if (s(e) && i != e) {
i = e;
Q.callNow(t, i);
}
});
} else window.console && window.console.log(Q.getPrefix() + ": setOnUnreadMsgs() expects a callback function to be provided");
}
function D() {
K.livechat.endChat();
}
function O(t) {
function e() {
if (o(t) && t) {
t = t.toLowerCase();
if ("online" === t || "offline" === t) {
Q.saveAPISettings({
account: {
status$string: t
}
});
q.$("livechat").$("account").update({
status$string: t
});
} else window.console && window.console.log(Q.getPrefix() + ': setStatus() only accepts "online" or "offline" as a valid status');
} else window.console && window.console.log(Q.getPrefix() + ": setStatus() expects passed argument to be a non-empty string");
}
function i() {
Q.resetAPISettings({
account: {
status$string: null
}
});
var t = Q.getServerSettings("account.status$string");
t && q.$("livechat").$("account").update({
status$string: t
});
}
var n = null === t ? i : e;
Q.savePopoutAPICalls("setStatus", [ t ]);
Q.callOnFastInit(n);
Q.callOnReattached(n);
}
function P(t) {
function e() {
q.$("livechat").$("profile").write({
notes$string: t
});
}
if (o(t)) {
Q.callOnFastInit(e);
Q.callOnReattached(e);
} else window.console && window.console.log(Q.getPrefix() + ": setNotes() expects passed argument to be a string");
}
function L(t) {
function e() {
q.$("livechat").$("profile").write({
notes_append$string: t
});
}
o(t) ? Q.callOnReattached(e) : window.console && window.console.log(Q.getPrefix() + ": appendNotes() expects passed argument to be a string");
}
function W() {
var t = window.$zopim;
window.$zopim = Q.callNow;
window.$zopim.livechat = ut;
Q.handleDelayed(t && t._);
}
function R() {
var t = window.$zopim, e = t && t.onError;
if ("function" == typeof e) {
e = Q.getCallbackCaller(e);
Q.callNow(e);
}
}
function F() {
ft = {
"departments.filter": ot.filter,
"departments.setLabel": ot.setLabel,
"prechatForm.setGreetings": _t.setGreetings,
"offlineForm.setGreetings": lt.setGreetings,
"theme.setColors": rt.setColors,
"theme.reload": rt.reload,
"theme.setTheme": rt.setTheme,
"theme.setProfileCardConfig": rt.setProfileCardConfig,
"concierge.setName": it.setName,
"concierge.setTitle": it.setTitle,
"concierge.setAvatar": it.setAvatar,
"window.setTitle": at.setTitle,
setStatus: ut.setStatus
};
for (var t = Q.parseAPIFromQuery(), e = this, i = 0, n = t.length; i < n; i++) {
var o = t[i][0], r = t[i][1];
o in ft && ft[o].apply(e, r);
}
}
function M(t) {
return function() {
window.console && window.console.log(Q.getPrefix() + ': LiveChatAPI call "' + t + '" is obsolete. Refer to http://api.zopim.com/ for the latest API documentation.');
};
}
function V(t, e, i) {
return function() {
window.console && window.console.log(Q.getPrefix() + ': LiveChatAPI call "' + t + '" is deprecated and may be removed in the future. ' + (e ? 'Use "' + e + '" instead.' : "Refer to http://api.zopim.com/ for the latest API documentation."));
return i.apply(this, arguments);
};
}
function H(t, e, i) {
return function() {
var t = Array.prototype.slice.call(arguments, 0);
return i.apply(this, t);
};
}
function z(t) {
t += "";
return t.charAt(0).toUpperCase() + t.substring(1);
}
function U(t) {
if ("string" != typeof t) return "";
var e, i = X.search.hurl;
i.lastIndex = 0;
e = i.exec(t);
i.lastIndex = 0;
return e ? e[0].trim() : "";
}
var q, G = i(6), Y = i(50), X = i(70), K = i(40), Z = i(109), Q = i(108), J = i(350), tt = i(351), et = i(352), it = i(354), nt = i(355), ot = i(356), rt = i(353), at = i(357), st = i(358), _t = i(359), lt = i(360), dt = i(361), ut = {
badge: J,
bubble: tt,
button: et,
concierge: it,
cookieLaw: nt,
departments: ot,
theme: rt,
window: at,
debug: st,
prechatForm: _t,
offlineForm: lt,
mobileNotifications: dt,
generateDeprecatedFunction: V,
generateLimitedFunction: H,
init: t,
handleInitError: R,
isChatting: c,
set: h,
getName: l,
getEmail: d,
getPhone: u,
setName: f,
setEmail: p,
setPhone: g,
addTags: m,
sendVisitorPath: $,
removeTags: b,
setDisableSound: w,
setLanguage: x,
setGreetings: v,
clearAll: y,
hideAll: j,
say: C,
setOnConnected: A,
setOnChatStart: k,
setOnChatEnd: B,
setOnFlashReady: N,
setOnStatus: T,
setOnUnreadMsgs: E,
endChat: D,
setStatus: O,
setNotes: P,
appendNotes: L
}, ct = document, ht = window.location, ft = {}, pt = {
listening: !1,
last_chatting_state: null,
start_settled: !1,
start_ready: !1
};
G.extend(pt);
var gt = {
global: "fire freeze setOnGreeting".split(" "),
bubble: "setImage".split(" "),
button: "setImage setTheme useFavicon".split(" "),
window: "getSettings setBg".split(" "),
cookieLaw: "showPrivacyPanel".split(" "),
unreadflag: "disable enable".split(" ")
};
for (var mt in gt) if (gt.hasOwnProperty(mt)) {
var $t, bt = gt[mt];
if ("global" == mt) $t = ut; else {
ut[mt] || (ut[mt] = {});
$t = ut[mt];
}
for (var wt = 0; wt < bt.length; wt++) {
var xt = bt[wt];
$t[xt] = M(xt);
}
}
_(ut, "meshim_widget_controllers_LiveChatAPI");
return ut;
}();
}).call(e, i(9), i(10), i(19), i(21), i(16), i(23), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t(t) {
function e() {
l.saveAPISettings({
settings: {
banner: t
}
});
a.$("livechat").$("settings").$("banner").update(t);
}
l.callOnFastInit(e, !0);
l.callOnRegistered(e, !0);
}
var r, a, s = i(40), _ = i(109), l = i(108), d = {};
d.init = function(i) {
function o(e) {
function i() {
e = e || "";
n(e) ? t({
text$string: e
}) : window.console && window.console.log(l.getPrefix() + ": badge.setText() expects passed argument to be a string");
}
l.callOnFastInit(i, !0);
l.callOnRegistered(i, !0);
}
function u() {
function t() {
_.showBanner();
}
l.callOnFastInit(t);
l.callOnRegistered(t);
}
function c() {
function t() {
_.hideBanner();
}
l.callOnFastInit(t);
l.callOnRegistered(t);
}
r = i;
a = s.root;
d.setLayout = function() {
var i = [ "image_right", "image_left", "text_only", "image_only" ], n = i.join(", ");
return r.generateLimitedFunction("badge.setLayout", 1, function(o) {
function r() {
o && e(o, i) != -1 ? t({
layout$string: o
}) : window.console && window.console.log("Invalid layout. Valid layouts: " + n);
}
l.callOnFastInit(r, !0);
l.callOnRegistered(r, !0);
});
}();
d.setImage = r.generateLimitedFunction("badge.setImage", 1, function(e) {
function i() {
e = e || "";
n(e) ? t({
image_path$string: e
}) : window.console && window.console.log(l.getPrefix() + ": badge.setImage() expects passed argument to be a string");
}
l.callOnFastInit(i, !0);
l.callOnRegistered(i, !0);
});
d.setColor = r.generateLimitedFunction("badge.setColor", 1, function(t) {
return r.theme.setColor(t, "badge");
});
d.setText = o;
d.show = u;
d.hide = r.generateLimitedFunction("badge.hide", 1, c);
};
o(d, "meshim_widget_controllers_liveChatAPI_Badge");
return d;
}();
}).call(e, i(24), i(19), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t() {
function t() {
u.showBubble();
}
c.callOnFastInit(t);
c.callOnRegistered(t);
}
function o() {
function t() {
u.hideBubble();
}
c.callOnFastInit(t);
c.callOnRegistered(t);
}
function r() {
function t() {
u.resetBubble();
}
c.callOnFastInit(t);
c.callOnRegistered(t);
}
function a(t) {
function i() {
c.saveAPISettings({
settings: {
bubble: {
title$string: t
}
}
});
l.$("livechat").$("settings").$("bubble").update({
title$string: t
});
}
if (t && e(t)) {
c.callOnFastInit(i, !0);
c.callOnRegistered(i, !0);
} else window.console && window.console.log(c.getPrefix() + ": bubble.setTitle() expects passed argument to be a non-empty string");
}
function s(t) {
function i() {
c.saveAPISettings({
settings: {
bubble: {
text$string: t
}
}
});
l.$("livechat").$("settings").$("bubble").update({
text$string: t
});
}
if (t && e(t)) {
c.callOnFastInit(i, !0);
c.callOnRegistered(i, !0);
} else window.console && window.console.log(c.getPrefix() + ": bubble.setText() expects passed argument to be a non-empty string");
}
var _, l, d = i(40), u = i(109), c = i(108), h = {};
h.init = function(t) {
_ = t;
l = d.root;
h.setColor = _.generateLimitedFunction("bubble.setColor", 1, function(t) {
return _.theme.setColor(t, "bubble");
});
};
h.show = t;
h.hide = o;
h.reset = r;
h.setTitle = a;
h.setText = s;
n(h, "meshim_widget_controllers_liveChatAPI_Bubble");
return h;
}();
}).call(e, i(19), i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t() {
function t() {
m.hideButton();
}
var e = p.once(t);
b.callOnFastInit(e);
b.callOnRegistered(e);
}
function r() {
function t() {
m.showButton();
}
var e = p.once(t);
b.callOnFastInit(e);
b.callOnRegistered(e);
}
function a(t) {
function e() {
b.saveAPISettings({
settings: {
theme: {
chat_button: {
v_offset$int: t
}
}
}
});
h.$("livechat").$("settings").$("theme").$("chat_button").update({
v_offset$int: t
});
}
t = parseInt(t, 10);
if (isNaN(t) || t < 0) window.console && window.console.log(b.getPrefix() + ': button.setOffsetVertical() Invalid argument. Argument must be a number (20) or in pixels ("20px") and not smaller than 0'); else {
b.callOnFastInit(e, !0);
b.callOnRegistered(e, !0);
}
}
function s(t) {
function e() {
b.saveAPISettings({
settings: {
theme: {
chat_button: {
v_offset_mobile$int: t
}
}
}
});
h.$("livechat").$("settings").$("theme").$("chat_button").update({
v_offset_mobile$int: t
});
}
t = parseInt(t, 10);
if (isNaN(t) || t < 0) window.console && window.console.log(b.getPrefix() + ': button.setOffsetVerticalMobile() Invalid argument. Argument must be a number (20) or in pixels ("20px") and not smaller than 0'); else {
b.callOnFastInit(e, !0);
b.callOnRegistered(e, !0);
}
}
function _(t) {
function e() {
b.saveAPISettings({
settings: {
theme: {
chat_button: {
h_offset$int: t
}
}
}
});
h.$("livechat").$("settings").$("theme").$("chat_button").update({
h_offset$int: t
});
}
t = parseInt(t, 10);
if (isNaN(t) || t < 0) window.console && window.console.log(b.getPrefix() + ': button.setOffsetHorizontal() Invalid argument. Argument must be a number (20) or in pixels ("20px") and not smaller than 0'); else {
b.callOnFastInit(e, !0);
b.callOnRegistered(e, !0);
}
}
function l(t) {
function e() {
b.saveAPISettings({
settings: {
theme: {
chat_button: {
h_offset_mobile$int: t
}
}
}
});
h.$("livechat").$("settings").$("theme").$("chat_button").update({
h_offset_mobile$int: t
});
}
t = parseInt(t, 10);
if (isNaN(t) || t < 0) window.console && window.console.log(b.getPrefix() + ': button.setOffsetHorizontalMobile() Invalid argument. Argument must be a number (20) or in pixels ("20px") and not smaller than 0'); else {
b.callOnFastInit(e, !0);
b.callOnRegistered(e, !0);
}
}
function d(t) {
function e() {
b.saveAPISettings({
settings: {
theme: {
chat_button: {
position$string: t
}
}
}
});
h.$("livechat").$("settings").$("theme").$("chat_button").update({
position$string: t
});
}
if (!f) if (n(t)) {
b.callOnFastInit(e, !0);
b.callOnRegistered(e, !0);
} else window.console && window.console.log(b.getPrefix() + ": button.setPosition() expects passed argument to be a string");
}
function u(t) {
function e() {
b.saveAPISettings({
settings: {
theme: {
chat_button: {
position_mobile$string: t
}
}
}
});
h.$("livechat").$("settings").$("theme").$("chat_button").update({
position_mobile$string: t
});
}
if (n(t)) {
b.callOnFastInit(e, !0);
b.callOnRegistered(e, !0);
} else window.console && window.console.log(b.getPrefix() + ": button.setPositionMobile() expects passed argument to be a string");
}
var c, h, f, p = i(50), g = i(40), m = i(109), $ = i(353), b = i(108), w = {};
w.init = function(t) {
function i(t) {
function i() {
m.setHideWhenOffline(t);
}
t = e(t);
b.callOnFastInit(i, !0);
b.callOnRegistered(i, !0);
}
c = t;
h = g.root;
f = h.$("livechat").$("ui").$("mobile$bool").getValue();
w.setColor = c.generateDeprecatedFunction("button.setColor", "$zopim.livechat.theme.setColor", function() {
return $.setColor.apply(this, arguments);
});
w.setHideWhenOffline = c.generateLimitedFunction("button.setHideWhenOffline", 1, i);
};
w.hide = t;
w.show = r;
w.setOffsetBottom = w.setOffsetVertical = a;
w.setOffsetVerticalMobile = s;
w.setOffsetHorizontal = _;
w.setOffsetHorizontalMobile = l;
w.setPosition = d;
w.setPositionMobile = u;
o(w, "meshim_widget_controllers_liveChatAPI_Button");
return w;
}();
}).call(e, i(16), i(19), i(4));
}, function(t, e, i) {
(function(e, n, o, r) {
t.exports = function() {
var t, a, s, _, l = i(40), d = i(108), u = {};
u.init = function(i) {
function r(t, e) {
if (t && d.isHexColor(t)) {
e = e || "";
var i = {};
i[e] = t;
u.setColors(i);
} else window.console && window.console.log(d.getPrefix() + ': theme.setColor() Invalid color argument. Color must be in hexadecimal format ("#AABBCC")');
}
function c(t) {
function i() {
var i, n = {};
for (var o in t) if (t.hasOwnProperty(o)) {
i = o || "primary";
if (!l.livechat.getLimit() && "primary" != i) continue;
"badge" == i && (i = "banner");
i += "$string";
t[o] && e(t[o]) && d.isHexColor(t[o]) && (n[i] = t[o]);
}
d.saveAPISettings({
settings: {
theme: {
colors: n
}
}
});
a.$("livechat").$("settings").$("theme").update({
colors: n
});
}
if (t && "object" == typeof t) {
d.savePopoutAPICalls("theme.setColors", [ t ]);
d.callOnFastInit(i, !0);
d.callOnRegistered(i, !0);
} else window.console && window.console.log(d.getPrefix() + ": theme.setColors() Invalid argument. Argument must be an object containing the desired colors in hexadecimal format (#AABBCC)");
}
function h(t, e) {
function i(t) {
for (var e, i = [], n = 0, o = t.length; n < o; n++) {
e = t.charAt(n);
"'" !== e && '"' !== e || (i[0] === e ? i.shift() : i.unshift(e));
}
return 0 === i.length;
}
function n() {
_.getValue() ? d.saveAPISettings({
settings: {
theme: {
custom_fonts: {
config$json: t,
font_family$string: e
}
}
}
}) : r(d.getPrefix() + ": theme.setFontConfig() API requires your account to be on the Advanced or Premium plan. Please upgrade your account.");
}
var o = a.$("connection.status$string").getValue(), r = window.console && window.console.log && window.console.log.bind && window.console.log.bind(window.console) || window.console && window.console.log || function() {};
if (o) r(d.getPrefix() + ": theme.setFontConfig() must be called immediately after embedding script"); else if (f(t) && "string" == typeof e) if (/[^A-Za-z0-9\'\"\-_, ]/.test(e)) r(d.getPrefix() + ": theme.setFontConfig() error: Invalid characters in font-family."); else if (i(e)) {
d.callOnFastInit(n);
d.callOnRegistered(n);
} else r(d.getPrefix() + ": theme.setFontConfig() error: Malformed font-family string."); else r(d.getPrefix() + ": theme.setFontConfig() error: Invalid arguments.");
}
function f(t) {
function e(t) {
if (n(t)) return null;
if (!o(t) || 0 === t.length) return "is of invalid type";
for (var e = 0, i = t.length; e < i; e++) if ("string" != typeof t[e]) return "is of invalid type";
return null;
}
function i(t) {
return n(t) ? "is required" : null;
}
function r(t, e, i, n) {
for (var o = 'attribute "' + e + '" of provider "' + t + '" ', r = 0, a = n.length; r < a; r++) {
var s = n[r];
if ("string" == typeof s) {
if (void 0 !== i && typeof i !== s) return o + "is of invalid type";
} else {
var _ = s(i);
if (_) return o + _;
}
}
return null;
}
var a = {
custom: {
urls: [ i, e ]
},
fontdeck: {
id: [ i, "string" ]
},
monotype: {
projectId: [ i, "string" ]
},
google: {
families: [ i, e ],
text: [ "string" ]
},
typekit: {
id: [ i, "string" ],
api: [ "string" ]
}
}, s = [], _ = window.console && window.console.log && window.console.log.bind && window.console.log.bind(window.console) || window.console && window.console.log || function() {};
for (var l in t) if (t.hasOwnProperty(l)) {
if (!a[l]) {
_(d.getPrefix() + ': theme.setFontConfig() error: unknown font provider "' + l + '"');
return !1;
}
var u, c = a[l], h = t[l];
for (u in c) if (c.hasOwnProperty(u)) {
var f = c[u], p = r(l, u, h[u], f);
if (p) {
_(d.getPrefix() + ": theme.setFontConfig() error: " + p);
return !1;
}
}
for (u in h) h.hasOwnProperty(u) && (c[u] || s.push(l + "." + u));
}
s.length > 0 && _(d.getPrefix() + ": theme.setFontConfig() warning: unused paths in web_font_config: " + s.join(", "));
return !0;
}
function p() {
function t() {
d.savePopoutAPICalls("theme.reload", []);
a.$("livechat").$("ui").update({
theme_reload$bool: !0
});
}
d.callOnFastInit(t);
d.callOnRegistered(t);
}
function g(t) {
m(t) ? $(t) : window.console && window.console.log(d.getPrefix() + ": setProfileCardConfig() Invalid argument. Please refer to api docs.");
}
function m(t) {
if (!t || "object" != typeof t) return !1;
for (var e in t) if (t.hasOwnProperty(e) && "boolean" != typeof t[e]) return !1;
return !0;
}
function $(t) {
var e = {};
"avatar" in t && (e.display_avatar$bool = t.avatar);
"title" in t && (e.display_title_name$bool = t.title);
"rating" in t && (e.display_rating$bool = t.rating);
b(e);
d.savePopoutAPICalls("theme.setProfileCardConfig", [ t ]);
}
function b(t) {
function e() {
d.saveAPISettings({
settings: {
theme: {
chat_window: {
profile_card: t
}
}
}
});
s.update(t);
}
d.callOnFastInit(e);
d.callOnRegistered(e);
}
t = i;
a = l.root;
s = a.$("livechat").$("settings").$("theme").$("chat_window").$("profile_card");
_ = a.$("livechat").$("features").$("set_font_config$bool");
u.setTheme = t.generateLimitedFunction("theme.setTheme", 2, function(t) {
function e() {
d.saveAPISettings({
settings: {
theme: {
name$string: t.toString()
}
}
});
a.$("livechat").$("settings").$("theme").update({
name$string: t.toString()
});
}
d.savePopoutAPICalls("theme.setTheme", [ t.toString() ]);
d.callOnFastInit(e, !0);
d.callOnRegistered(e, !0);
});
u.setColor = r;
u.setColors = t.generateLimitedFunction("theme.setColors", 1, c);
u.setFontConfig = h;
u.validateConfig = f;
u.reload = p;
u.setProfileCardConfig = g;
};
r(u, "meshim_widget_controllers_liveChatAPI_Theme");
return u;
}();
}).call(e, i(19), i(10), i(21), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(t) {
function e() {
s.saveAPISettings({
settings: {
concierge: t
}
});
r.$("livechat").$("settings").$("concierge").update(t);
}
s.callOnFastInit(e, !0);
s.callOnRegistered(e, !0);
}
var o, r, a = i(40), s = i(108), _ = {};
_.init = function(i) {
function n(i) {
i = i || "";
if (e(i)) {
t({
display_name$string: i
});
s.savePopoutAPICalls("concierge.setName", [ i ]);
} else window.console && window.console.log(s.getPrefix() + ": concierge.setName() expects passed argument to be a string");
}
function l(i) {
i = i || "";
if (e(i)) {
t({
title$string: i
});
s.savePopoutAPICalls("concierge.setTitle", [ i ]);
} else window.console && window.console.log(s.getPrefix() + ": concierge.setTitle() expects passed argument to be a string");
}
o = i;
r = a.root;
_.setAvatar = o.generateLimitedFunction("concierge.setAvatar", 1, function(i) {
i = i || "";
if (e(i)) {
t({
avatar_path$string: i
});
s.savePopoutAPICalls("concierge.setAvatar", [ i ]);
} else window.console && window.console.log(s.getPrefix() + ": concierge.setAvatar() expects passed argument to be a string");
});
_.setName = n;
_.setTitle = l;
};
n(_, "meshim_widget_controllers_liveChatAPI_Concierge");
return _;
}();
}).call(e, i(19), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t() {
a.enableCookieLaw();
}
function n() {
a.setDefaultImplicitConsent();
}
var o, r = i(40), a = i(198), s = {};
s.init = function() {
o = r.root;
};
s.comply = t;
s.setDefaultImplicitConsent = n;
e(s, "meshim_widget_controllers_liveChatAPI_CookieLawAPI");
return s;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t() {
var t = Array.prototype.slice.call(arguments);
w.savePopoutAPICalls("departments.filter", t);
if (arguments.length) {
m = t;
if (v) o(); else {
g.update(!0);
f.bindValue(o);
v = !0;
}
} else {
g.update(!1);
f.unbindValue(o);
v = !1;
}
}
function n(t) {
var e, i = {}, n = f.getValue();
if (!n) return i;
for (var o = t.length; o--; ) {
e = t[o];
"number" != typeof e && (e = u(e));
n[e] && (i[e] = !0);
}
return i;
}
function o() {
if (!$ && m) {
var t = {}, e = f.getValue(), i = n(m);
if (e) {
for (var o in e) e.hasOwnProperty(o) && (t[o] = {
display$bool: o in i
});
$ = !0;
f.update(t);
$ = !1;
}
}
}
function r(t) {
function e() {
a(t);
}
w.callOnFastInit(e);
w.callOnRegistered(e, !0);
}
function a(t) {
"number" != typeof t && (t = u(t));
t && p.parentNode.write({
department_id$int: t
});
}
function s() {
w.callOnFastInit(_);
w.callOnRegistered(_, !0);
}
function _() {
p.parentNode.write({
department_id$int: null
});
}
function l(t) {
"number" != typeof t && (t = u(t));
if (t) {
var e = f.$(t).getValue();
if (e) return {
id: t,
name: e.name$string,
status: e.status$string
};
}
}
function d() {
var t = f.getValue(), e = [];
for (var i in t) t.hasOwnProperty(i) && e.push({
id: parseInt(i, 10),
name: t[i].name$string,
status: t[i].status$string
});
return e;
}
function u(t) {
t = t && t.toString();
if (t) {
var e = f.getValue();
for (var i in e) if (e.hasOwnProperty(i) && e[i].name$string == t) return parseInt(i, 10);
}
}
function c(t) {
function e() {
w.saveAPISettings({
settings: {
forms: {
pre_chat_form: {
form: {
2: {
label$string: t
}
}
}
}
}
});
h.$("livechat").$("settings").$("forms").$("pre_chat_form").$("form").$("2").update({
label$string: t
});
}
if (t && "string" == typeof t) {
w.savePopoutAPICalls("departments.setLabel", [ t ]);
w.callOnFastInit(e, !0);
w.callOnRegistered(e, !0);
} else window.console && window.console.log(w.getPrefix() + ": departments.setLabel() expects passed argument to be a non-empty string");
}
var h, f, p, g, m, $, b = i(40), w = i(108), x = {};
x.init = function() {
h = b.root;
f = h.$("livechat").$("departments");
p = h.$("livechat").$("profile").$("department_id$int");
g = h.$("livechat").$("ui").$("departments").$("filter_enabled$bool");
};
var v;
x.filter = t;
x.setVisitorDepartment = r;
x.clearVisitorDepartment = s;
x.getDepartment = l;
x.getAllDepartments = d;
x.setLabel = c;
e(x, "meshim_widget_controllers_liveChatAPI_Departments");
return x;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t(t) {
if (n(t)) {
var e = w.getCallbackCaller(t);
$.on("API:window:show", e);
} else window.console && window.console.log(w.getPrefix() + ": window.onShow() expects a callback function to be provided");
}
function r(t) {
if (n(t)) {
var e = w.getCallbackCaller(t);
$.on("API:window:hide", e);
} else window.console && window.console.log(w.getPrefix() + ": window.onHide() expects a callback function to be provided");
}
function a(t) {
function i() {
w.saveAPISettings({
settings: {
chat_window: {
title_bar: {
title$string: t
}
}
}
});
f.$("livechat").$("settings").$("chat_window").$("title_bar").update({
title$string: t
});
}
t = t && t.toString();
if (e(t)) {
w.savePopoutAPICalls("window.setTitle", [ t ]);
w.callOnFastInit(i);
w.callOnRegistered(i);
} else window.console && window.console.log(w.getPrefix() + ": window.setTitle expects passed argument to be a string");
}
function s() {
w.callOnRegistered(function() {
$.toggleWindow();
});
}
function _() {
return f.$("livechat").$("ui").$("chat_window").$("display$bool").getValue();
}
function l(t) {
function e() {
w.saveAPISettings({
settings: {
theme: {
chat_window: {
v_offset$int: t
}
}
}
});
f.$("livechat").$("settings").$("theme").$("chat_window").update({
v_offset$int: t
});
}
t = parseInt(t, 10);
if (isNaN(t) || t < 0) window.console && window.console.log(w.getPrefix() + ': window.setOffsetVertical() Invalid argument. Argument must be a number (20) or in pixels ("20px") and not smaller than 0'); else {
w.callOnFastInit(e, !0);
w.callOnRegistered(e, !0);
}
}
function d(t) {
function e() {
w.saveAPISettings({
settings: {
theme: {
chat_window: {
h_offset$int: t
}
}
}
});
f.$("livechat").$("settings").$("theme").$("chat_window").update({
h_offset$int: t
});
}
t = parseInt(t, 10);
if (isNaN(t) || t < 0) window.console && window.console.log(w.getPrefix() + ': window.setOffsetHorizontal() Invalid argument. Argument must be a number (20) or in pixels ("20px") and not smaller than 0'); else {
w.callOnFastInit(e, !0);
w.callOnRegistered(e, !0);
}
}
function u(t) {
function i() {
w.saveAPISettings({
settings: {
theme: {
chat_window: {
position$string: t
}
}
}
});
f.$("livechat").$("settings").$("theme").$("chat_window").update({
position$string: t
});
}
if (e(t)) {
w.callOnFastInit(i, !0);
w.callOnRegistered(i, !0);
} else window.console && window.console.log(w.getPrefix() + ": window.setPosition() expects passed argument to be a string");
}
function c() {
return !!(n(b.isReady) && b.isReady() && g.requestPermission()) && b.openPopout(!0);
}
var h, f, p = i(50), g = i(198), m = i(40), $ = i(109), b = i(107), w = i(108), x = {};
x.init = function(t) {
function i() {
function t() {
$.showWindow();
}
var e = p.once(t);
w.callOnFastInit(e);
w.callOnRegistered(e);
}
function n() {
function t() {
$.hideWindow();
}
var e = p.once(t);
w.callOnFastInit(e);
w.callOnRegistered(e);
}
h = t;
f = m.root;
x.setColor = h.generateDeprecatedFunction("window.setColor", "$zopim.livechat.theme.setColor", function() {
return h.theme.setColor.apply(this, arguments);
});
x.setSize = h.generateLimitedFunction("window.setSize", 1, function(t) {
function i() {
w.saveAPISettings({
settings: {
theme: {
chat_window: {
size$string: t
}
}
}
});
f.$("livechat").$("settings").$("theme").$("chat_window").update({
size$string: t
});
}
if (e(t) && t) {
w.callOnFastInit(i);
w.callOnRegistered(i);
} else window.console && window.console.log(w.getPrefix() + ": window.setSize expects passed argument to be a non-empty string");
});
x.show = i;
x.hide = n;
};
x.onShow = t;
x.onHide = r;
x.setTitle = a;
x.toggle = s;
x.getDisplay = _;
x.setOffsetBottom = x.setOffsetVertical = l;
x.setOffsetHorizontal = d;
x.setPosition = u;
x.openPopout = c;
o(x, "meshim_widget_controllers_liveChatAPI_Window");
return x;
}();
}).call(e, i(19), i(9), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
var t = i(46), o = i(40), r = {};
r.init = function() {
function i(e) {
window.console && window.console.log(a ? t.stringify(e) : e);
}
var n = o.root, a = e.isIE || e.isNewIE;
r.connection = function() {
i(n.$("connection").getValue());
};
r.livechat = function() {
i(n.$("livechat").getValue());
};
r.all = function() {
i(n.getValue());
};
};
n(r, "meshim_widget_controllers_liveChatAPI_Debug");
return r;
}();
}).call(e, i(7), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(t) {
function i() {
a.saveAPISettings({
settings: {
forms: {
pre_chat_form: {
message$string: t
}
}
}
});
o.$("livechat").$("settings").$("forms").$("pre_chat_form").update({
message$string: t
});
}
if (e(t)) {
a.savePopoutAPICalls("prechatForm.setGreetings", [ t ]);
a.callOnFastInit(i, !0);
a.callOnRegistered(i, !0);
} else window.console && window.console.log(a.getPrefix() + ": prechatForm.setGreetings() expects passed argument to be a string");
}
var o, r = i(40), a = i(108), s = {};
s.init = function() {
o = r.root;
};
s.setGreetings = t;
n(s, "meshim_widget_controllers_liveChatAPI_PreChatForm");
return s;
}();
}).call(e, i(19), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(t) {
function i() {
if (e(t)) {
a.saveAPISettings({
settings: {
forms: {
offline_form: {
message$string: t
}
}
}
});
o.$("livechat").$("settings").$("forms").$("offline_form").update({
message$string: t
});
} else window.console && window.console.log(a.getPrefix() + ": offlineForm.setGreetings() expects passed argument to be a string");
}
function n() {
a.resetAPISettings({
settings: {
forms: {
offline_form: {
message$string: null
}
}
}
});
var t = a.getServerSettings("settings.forms.offline_form.message$string");
t && o.$("livechat").$("settings").$("forms").$("offline_form").update({
message$string: t
});
}
var r = null === t ? n : i;
a.savePopoutAPICalls("offlineForm.setGreetings", [ t ]);
a.callOnFastInit(r, !0);
a.callOnRegistered(r, !0);
}
var o, r = i(40), a = i(108), s = {};
s.init = function() {
o = r.root;
};
s.setGreetings = t;
n(s, "meshim_widget_controllers_liveChatAPI_OfflineForm");
return s;
}();
}).call(e, i(19), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(t) {
function e() {
r.disableMobileNotifications(t);
}
if ("boolean" == typeof t) {
o.callOnFastInit(e);
o.callOnRegistered(e);
} else window.console && window.console.log(o.getPrefix() + ": mobileNotifications.setDisabled() expects argument passed to be a boolean");
}
function n(t) {
function e() {
r.mobileNotificationsIgnoreChatButtonVisibility(t);
}
if ("boolean" == typeof t) {
o.callOnFastInit(e);
o.callOnRegistered(e);
} else window.console && window.console.log(o.getPrefix() + ": mobileNotifications.setIgnoreChatButtonVisibility() expects argument passed to be a boolean");
}
var o = i(108), r = i(109), a = {};
a.setDisabled = t;
a.setIgnoreChatButtonVisibility = n;
e(a, "meshim_widget_controllers_liveChatAPI_MobileNotifications");
return a;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t() {
r = g.root.$("livechat").$("profile");
a = r.$("display_name$string");
_ = r.$("email$string");
d = r.$("auth").$("type$string");
c = r.$("logged_in$bool");
a.on("value", function(t) {
s = t;
n();
});
_.on("value", function(t) {
l = t;
n();
});
d.on("value", function(t) {
u = t;
n();
});
h = g.root.$("livechat").$("settings");
f = h.$("login").$("allowed_types");
p = h.$("login").$("allowed_types_count$int");
f.on("value", function() {
var t = f.getValue(), e = 0;
for (var i in t) if (t.hasOwnProperty(i)) {
if ("email$bool" == i) continue;
t[i] && e++;
}
e != p.getValue() && p.update(e);
});
}
function n() {
c.update(o());
}
function o() {
return !!u || (!(!l || !(l + "").trim()) || (!(!s || !(s + "").trim() || m.isDefaultName(s)) || void 0));
}
var r, a, s, _, l, d, u, c, h, f, p, g = i(40), m = i(48), $ = {
init: t
};
e($, "meshim_widget_controllers_ProfileListener");
return $;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, i) {
t.exports = function() {
function t(t) {
r = t.$("livechat").$("profile");
e.document.on("mousemove", n);
e.window.on("click", n);
e.window.on("scroll", n);
e.window.on("keypress", n);
o();
}
function n() {
s++;
}
function o() {
s && r.write({
active$int: +new Date()
});
s = 0;
window.setTimeout(o, _);
}
var r, a = {
init: t
}, s = 1, _ = 2e4;
i(a, "meshim_widget_controllers_Tracker");
return a;
}();
}).call(e, i(6), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t(t) {
"--" !== t && t || (t = s.guess());
return a.zendeskToZopim(t);
}
var o = i(40), r = i(28), a = i(365), s = i(366), _ = {};
_.init = function() {
var i, n = o.root.$("livechat").$("ui").$("mockup$bool"), a = o.root.$("livechat").$("ui").$("popout$bool"), s = o.root.$("livechat").$("ui").$("lang_dir$string"), _ = o.root.$("livechat").$("settings").$("language").$("language$string");
if (!n.getValue()) if (a.getValue()) {
i = r().get("lang");
i = t(i);
_.update(i);
e && e.update && e.update(i);
e && e.rtl && s.update(e.rtl() ? "rtl" : "ltr");
} else _.bindValue(function(i) {
if ("--" !== i && i) {
i = t(i);
e && e.update && e.update(i);
e && e.rtl && s.update(e.rtl() ? "rtl" : "ltr");
} else {
i = t(i);
_.update(i);
}
});
};
n(_, "meshim_widget_controllers_LanguageController");
return _;
}();
}).call(e, i(22), i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(t) {
"string" != typeof t && (t = "");
return t.replace(/^[A-Za-z]{4}$/, function(t) {
return t.slice(0, 2).toLowerCase() + "_" + t.slice(2).toUpperCase();
});
}
var i = {
fil: "tl",
cz: "cs",
no: "nb"
}, n = {};
n.zendeskToZopim = function(e) {
var n = i[e];
return n ? n : t(e);
};
e(n, "meshim_common_LocaleMapper");
return n;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e) {
t.exports = function() {
function t(t, e) {
var i = e.match(t);
return i ? i.length : 0;
}
function i(e, i, n, o) {
return Math.pow(t(e, i) / n, 1 / o);
}
function n(t) {
var e, i = 1 - t[0];
for (e = 1; e < t.length; e++) i *= 1 - t[e];
return 1 - i;
}
function o(e, o, r) {
r || (r = t(/ /g, o));
for (var a, s, l, d, u = o.length, c = [], h = 0; h < _[e].length; h += 2) {
a = _[e][h];
s = _[e][h + 1];
l = "\\\\b" == a.toString().substr(1, 2) ? r : u;
d = i(a, o, l, s);
c.push(d);
}
"en" == e && c.push(.6 / o.length);
return n(c);
}
function r(e, i) {
var n = document.body.getAttribute("lang") || document.documentElement.getAttribute("lang");
if (n) return n;
e || (e = s);
i || (i = document.body.innerHTML.replace(/\s+/g, " ").replace(/<script[^>]*?>.*?<\/script>/gi, " ").replace(/<style[^>]*?>.*?<\/style>/gi, " ").replace(/<!--.*?-->/g, " ").replace(/<\/?[^>]+?>/g, " ").replace(/[-_a-z0-9.@]+[.@][-_a-z0-9.@]+/gi, "").replace(/[\s\d!'#$%&'()*+,-.\/:;<=>?@^_{|}~\[\]\/]+/g, " "));
i = i.replace(/\s+/g, " ");
var r, a, _ = t(/ +/g, i), l = [];
for (r = 0; r < e.length; r++) l.push([ e[r], o(e[r], i, _) ]);
l.sort(function(t, e) {
return e[1] - t[1];
});
a = l[0][0];
a.scores = l;
window.__$z_results = _ + " " + i.length + " " + i.length / _ + "\n" + l.join("\n");
window.__$z_innerText = i;
return a;
}
var a = {
guess: r
}, s = [], _ = {
en: [ /\b(up|me|submit|offers?|about|rights?|more|contact|all|downloads?|how|search|to|do|i[nst]?|your?|that|was|one?|are|with|[bw]e|have|this|f?or|had|by|[hn]ot?|[bo]ut|so|some|what|can|[tw]here|why|other|over|die|ten)\b/gi, 4, /\b(inn|set|end|about|pro|the|of|from|and|a|as|at)\b/gi, 6 ],
cs: [ /[\u00e1\u010d\u010f\u00e9\u011b\u00ed\u0148\u00f3\u0159\u0161\u0165\u00fa\u016f\u00fd\u017e]/gi, 5, /\b(by|do|to|[aikosvz])\b/gi, 3, /\b(na|za|se|je|\u017ee|ve|jako|jsem|pro|tak|po|u\u017e|jsou|byl)\b/gi, 6 ],
de: [ /[\u00df]/g, 10, /[\u00e4\u00f6\u00fc\u00c4\u00d6\u00dc]/g, 7, /\b(de[mrs]|vo[nm]|zu[mr]?|da[s\u00df]?|eine[mnrs]?|a[lu]s|wir|[sw]ie|n[ao]ch|vor[ms]?|(\u00fcb|od|ab)er|und|im|mit|sich|auf|f\u00fcr|nicht|auch|es|bei|nur|bis|mehr|durch)\b/gi, 6 ],
es: [ /[\u00f1]/g, 10, /[\xE1\xE9\xED\xF3\xFA]/gi, 6, /\b(que|nuestro|ingresar|inicio|qu[e\u00e9]|[dt]e|ser?|[ms]i|l?a|e[lns]|y|tu|los?|una?|por|con|para|est(\u00e1|ar))\b/gi, 6 ],
fr: [ /[\u0153]/gi, 15, /[\u00e0\u00e2\u00e7\u00e9\u00e8\u00ea\u00eb\u00ee\u00ef\u00f4\u00fb\u00f9\u00fc\u00ff]/gi, 7, /\b(son)\b/gi, 4, /\b(en)\b/gi, 5, /\b([ado]u|aux?|[do]u|la|[cdls]es|es?t|une?|ne|qu[ei]|sur|dans|pa[rs]|il|sont|avec|voir)\b/gi, 6 ],
hr: [ /[\u010d\u0107\u0111\u0161\u017e]/gi, 10, /d\u017e|lj|nj/gi, 3, /\b(ali|ja|je|mene|na|ne|od|ovo|se|sve|ti|u|za|znati)\b/gi, 6 ],
ms: [ /\b(and)\b/gi, 4, /\b((se)?(biji|buah|orang)|ada|anda|atau|boleh|bukan|dalam|dan|dari|di|ini|kami|ke|lagi|sila|tidak|tinggi|telah|untuk)\b/gi, 6 ],
da: [ /[\u00c6\u00e6\u00d8\u00f8\u00c5\u00e5]/g, 10, /\b(de)\b/gi, 5, /\b(ind|l\u00e6s|nyheder|[vt]il|s?om|og|[mv]ed|kan|har|var|tager|af|d?et|de[tn]{2}e|skal|den|set|noget|nogle|mange|hadde|eller|efter|end|blive|er|sekund|viser|ud|(a|vi|sku)lle)\b/gi, 6 ],
nb: [ /[\u00c6\u00e6\u00d8\u00f8\u00c5\u00e5]/g, 10, /\b(de)\b/gi, 5, /\b(passord|nyheter|inn|[vt]il|s?om|og|[mv]ed|kan|[htv]ar|av|d?et|de[tn]{2}e|skal|se(g|tt)|noen?|mange|hadde|e[lt]{2}er|enn|blir?|ble|andre|viser|ut|(a|vi|sku)lle)\b/gi, 6 ],
nl: [ /\b(in|die)\b/gi, 4, /\b(de|en)\b/gi, 5, /\b(het|dat|van|ik|te|een|hij|niet|zijn)\b/gi, 6 ],
pt: [ /[\u00e1\u00e2\u00e3\u00e0\u00e7\u00e9\u00ea\u00ed\u00f3\u00f4\u00f5\u00fa]/gi, 7, /\b(gr\u00e1fico|ao|como|das?|de|dos|ele|em?|mai?s|na|n\u00e3o|os?|para|por|que|se|uma?)\b/gi, 6 ],
sk: [ /\u00e1\u00e4\u010d\u010f\u00e9\u00ed\u013e\u013a\u0148\u00f3\u00f4\u0155\u0161\u0165\u00fa\u00fd\u017e/gi, 10, /dz|d\u017e/gi, 5, /\b(ten|to|do|so)\b/gi, 4, /\b(ja|na|za|c\u030co|t\u00e1|po|vo|zo|n\u00e1[s\u030cs])\b/gi, 6 ],
tr: [ /[\u00c7\u011e\u0130\u00d6\u015e\u00dc\u00e7\u011f\u0131\u00f6\u015f\u00fc]/g, 7, /\b(son)\b/gi, 4, /\b(formu|bir|ve|ne|bu|i\u00e7in|o|b?en|\u00e7ok|(al|\u00e7\u0131k|ol|yap)mak|(de|gel|git|g\u00f6r|iste|ver)mek|gibi|daha|kendi|ile|ama|sonra|kadar|yer|insan|de\u011fil|y\u0131l|g\u00fcn|biz)\b/gi, 6 ],
vi: [ /[\u00e0\u1ea3\u00e3\u00e1\u1ea1\u0103\u1eb1\u1eb3\u1eb5\u1eaf\u1eb7\u00e2\u1ea7\u1ea9\u1eab\u1ea5\u1ead\u0111\u00e8\u1ebb\u1ebd\u00e9\u1eb9\u00ea\u1ec1\u1ec3\u1ec5\u1ebf\u1ec7\u00ec\u1ec9\u0129\u00ed\u1ecb\u00f2\u1ecf\u00f5\u00f3\u1ecd\u00f4\u1ed3\u1ed5\u1ed7\u1ed1\u1ed9\u01a1\u1edd\u1edf\u1ee1\u1edb\u1ee3\u00f9\u1ee7\u0169\u00fa\u1ee5\u01b0\u1eeb\u1eed\u1eef\u1ee9\u1ef1\u1ef3\u1ef7\u1ef9\u00fd\u1ef5]/gi, 8, /\b(v\u00e0|c\u00e1c|c\u1ee7a|c\u00f3|\u0111\u0103ng|\u0111\u00e2y|ho\u1eb7c|kh\u1ea9u|k\u00fd|m\u1ed9t|ng\u00e0y|l\u00e0|trong|cho)\b/gi, 6 ],
ja: [ /[\u3041-\u30ff]/g, 10 ],
ko: [ /[\uAC00-\uD7A3\u1100-\u11FF\u3131-\u318E\uFFA1-\uFFDC]/g, 10 ],
th: [ /[\u0E00-\u0E7F]/g, 10 ],
zh_CN: [ /[\u4e00-\u9fb4]/g, 1, /[\u7684\u662f\u8fd9\u6709\u5728\u4e0d\u4e86\u6765\u4e2a\u5230\u4e3a\u548c\u9053\u4e5f\u65f6\u5f97\u5c31\u90a3\u8981\u4ee5\u7740\u53bb\u4e4b\u8fc7\u5bb6\u5bf9\u53ef\u91cc\u540e\u4e48\u591a\u800c\u80fd\u90fd\u7136\u6ca1\u8d77\u8fd8]/g, 7 ],
ru: [ /[\u0410-\u042f\u0430-\u044f\u0401\u0451]/g, 3 ],
ar: [ /[\u0600-\u06FF\u0750-\u077F\uFB50-\uFDFF\uFE70-\uFEFF]/g, 1 ]
};
for (var l in _) _.hasOwnProperty(l) && s.push(l);
e(a, "jx_language_Detect");
return a;
}();
}).call(e, i(4));
}, function(t, e, i) {
(function(e, n, o) {
t.exports = function() {
function t() {
h = I.root;
f = h.$("livechat").$("features").$("premium_support");
g = h.$("livechat").$("profile").$("package_name$string");
$ = h.$("livechat").$("ui").$("chat_window").$("offline_form");
b = h.$("livechat").$("ui").$("mockup$bool");
if (!b.getValue()) {
w = h.$("livechat").$("settings").$("forms").$("offline_form");
x = h.$("tmp").$("api_settings").$("settings").$("forms").$("offline_form").$("message$string");
v = h.$("tmp").$("server_settings").$("settings").$("forms").$("offline_form").$("message$string");
f.bindValue(a);
g.bindValue(r);
}
}
function r() {
m = g.getValue();
l();
}
function a() {
p = f.getValue();
if (p) {
y = s(p.period.start$string);
j = s(p.period.end$string);
C = _(p.plans);
l();
} else u();
}
function s(t) {
if (n(t) && t) {
t = t.toUpperCase().split(" ");
var e = t[0].split(":"), i = parseInt(e[0], 10), o = parseInt(e[1], 10), r = parseInt(e[2], 10), a = T[t[1]];
return a * S.DAY + i * S.HOUR + o * S.MINUTE + r * S.SECOND;
}
}
function _(t) {
var e = {};
for (var i in t) t.hasOwnProperty(i) && (e[i.split("$")[0]] = !0);
return e;
}
function l() {
if (p) {
var t = C[m];
if (t) {
u();
c(null);
} else {
var e, i, n = new Date(k.getServerTime()), o = n.getUTCDay() * S.DAY + n.getUTCHours() * S.HOUR + n.getUTCMinutes() * S.MINUTE + n.getUTCSeconds() * S.SECOND, r = Math.min(y, j), a = Math.max(y, j);
e = y <= j ? y <= o && o <= j : y <= o || o <= j;
c(e ? "offline" : null);
i = o <= r ? r - o : o <= a ? a - o : 7 * S.DAY - (o - r);
d(i + S.SECOND);
}
}
}
function d(t) {
u();
A = window.setTimeout(l, t);
}
function u() {
A && (A = window.clearTimeout(A));
}
function c(t) {
B.setStatus(t);
var e = x.getValue() || ("offline" === t ? N.toString() : v.getValue());
w.update({
message$string: e
});
$.update({
upgrade_link_display$bool: "offline" === t
});
}
var h, f, p, g, m, $, b, w, x, v, y, j, C, A, S = i(71), I = i(40), k = i(58), B = i(349), N = e(3), T = {
SUN: 0,
MON: 1,
TUE: 2,
WED: 3,
THU: 4,
FRI: 5,
SAT: 6
}, E = {
init: t
};
o(E, "meshim_widget_controllers_PremiumSupportController");
return E;
}();
}).call(e, i(22), i(19), i(4));
}, function(t, e, i) {
(function(e, n) {
t.exports = function() {
function t() {
if (!d) {
a = u.root.$("livechat");
s = a.$("settings").$("theme").$("chat_window").$("profile_card");
_ = a.$("ui").$("chat_window").$("display_profile_card$bool");
l = a.$("settings").$("rating").$("enabled$bool");
s.bindValue(o);
l.bindValue(o);
d = !0;
}
}
function o() {
var t = e(s.getValue("display_avatar$bool")), i = e(s.getValue("display_title_name$bool")), n = e(s.getValue("display_rating$bool")) && e(l.getValue()), o = t || n || i;
_.update(o);
}
function r() {
d = !1;
}
var a, s, _, l, d, u = i(40), c = {
init: t,
resetState: r
};
n(c, "meshim_widget_controllers_ChatPanelProfileCardController");
return c;
}();
}).call(e, i(16), i(4));
} ]);
