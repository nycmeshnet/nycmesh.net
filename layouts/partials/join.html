<<<<<<< HEAD
<div class="bg-white br2 f5 tc pv5">
  <div class="measure center">
    <h2 class="f3 fw6 mt0 mb4">Join the Mesh</h2>
    <p class="mid-gray">To start, let's check if your building is within range.</p>
  </div>
  <form
    action="https://docs.google.com/forms/d/1w1d2qiCerKxjR5uu7gnqRqF9XpYeRvTDPqHbCE4Cftc/formResponse"
    method="POST"
    class="w-100 flex flex-column items-center"
  >
    <div class="flex items-center justify-center w-100 center">
      <input
        class="pa3 mv4 mw7 w-100 f4 br2 ba b--light-gray shadow animate-width"
        required=""
        type="text"
        id="address"
        name="entry.214227195"
        placeholder="Street address"
        autocomplete="off"
        spellcheck="off"
        autocorrect="off"
      />
      <input
        class="pa3 mv4 ml2 w-100 mw5 f4 br2 ba b--light-gray shadow animate-width dn"
        required=""
        type="text"
        id="address2"
        name="entry.214227195"
        placeholder="Apt"
        autocomplete="off"
        spellcheck="off"
        autocorrect="off"
      />
    </div>
  </form>
</div>
<script>
  var autocomplete;
  var searchInput = document.getElementById("address");

  function initMap() {
    autocomplete = new google.maps.places.Autocomplete(searchInput, {
      types: ["address"]
    });
    autocomplete.addListener("place_changed", handlePlaceChange);
  }

  function handlePlaceChange() {
    var place = autocomplete.getPlace();
    if (place.formatted_address) {
      document.getElementById("address2").classList.remove("dn");
    } else {
      document.getElementById("address2").classList.add("dn");
=======
<h2 class="f3 fw7">Get Connected</h2>


<div class="mb4 dark-gray">
  
  <p class="mv0 lh-copy">To get connected, youâ€™ll need line of sight from your roof or balcony to a nearby supernode or hub. You can read about our installs <a href="/installs">here</a>.
 You can choose to schedule a volunteer-led install, or <a href="https://docs.nycmesh.net/diy">DIY</a>.</p>

  <p class="mb0 lh-copy">Please ask your neighbors if they would like to join too! For progress on an existing request email <a href="mailto:support@nycmesh.net">support@nycmesh.net</a>.</p>
</div>


<form action="https://docs.google.com/forms/d/1w1d2qiCerKxjR5uu7gnqRqF9XpYeRvTDPqHbCE4Cftc/formResponse" method="POST" name="join" class="w-100 center pb4-ns f4-ns f5">
  <div class="flex-ns">
    <div class="w-100">
      <label for="name" class="f6 fw6 db mb2">
        Name
      </label>
      <input
        type="text"
        id="name"
        name="entry.508902369"
        class="border-box f5 input-reset black w-100 bg-white ba b--moon-gray pa2" />

      
    </div>
  </div>

  <div class="flex-ns">
    <div class="w-50-ns pr2-ns w-100 mt3">
    <label for="email" class="f6 fw6 db mb2">
        Email
      </label>
      <input
        required
        type="email"
        id="email"
        name="entry.119277156"
        class="border-box f5 input-reset w-100 black bg-white ba b--moon-gray pa2" />
      </div>
    <div class="w-50-ns w-100 mt3 pl2-ns">
      <label for="phone" class="f6 fw6 db mb2">
        Phone
      </label>
      <input
        type="tel"
        id="phone"
        name="entry.1046234029"
        class="border-box f5 input-reset  w-100 black bg-white ba b--moon-gray pa2" />
    </div>
  </div>

 <div class="flex">
    <div class="w-100">
      <label for="address" class="mt3 f6 fw6 db">
        Address
      </label>
      <span id="address-error" class="dn red f5">Please choose an address from the dropdown.</span>
      <input
        required
        type="text"
        id="address"
        name="entry.214227195"
        placeholder=""
        minlength="14"
        class="border-box f5 input-reset w-100 black bg-white ba b--moon-gray pa2 mt2"
      />
    </div>
  </div>

    <div class="w-100">
      <label for="email" class="f6 fw6 db mb2 mt3">
        Apt, Suite, Building
      </label>
      <input
        required
        type="text"
        id="apartment"
        name="entry.290479075"
        maxlength="16"
        class="border-box f5 input-reset w-100 black bg-white ba b--moon-gray pa2" />
    </div>

  <div class="f5 pt3 flex flex-row-ns flex-column items-center-ns items-start justify-between">
    <div>
	
    <div class="flex items-center mv2">
      <input
        required
        type="checkbox"
        id="ncl"
        name="entry.1263551439" />
      <label for="ncl" class="mv0 ml2 mid-gray">
        I agree to the 
        <a class="blue no-underline" href="/ncl.pdf" target="_">
          Network Commons License
        </a>
      </label>
    </div>

      <div class="flex items-center mv2">
        <input
          type="checkbox"
          id="roofAccess"
          name="entry.108879804"
          value="I have Rooftop access" />
        <label for="roofAccess" class="mv0 ml2 mid-gray">
          I might have roof access
        </label>
      </div>
	
    <div class="flex items-center mv2">
      <input
        required
        type="checkbox"
        id="human"
        name="entry.1263551439" />
      <label for="human" class="mv0 ml2 mid-gray">
        This is not spam
      </label>
    </div>

      <!-- Form password to prevent spam -->
      <input type="hidden" id="password" name="entry.508430148" value="hunter2" />
    </div>
  </div>
 
  <div class="mt3 mb3 flex justify-end">
    <input type="button" value="Submit request" onclick="submitForm()" class="input-reset bw0 f5 fw6 br2 pa3 white bg-blue pointer">
    </input>
  </div>
</form>
<script>
  var autocomplete, place;
  var addressInput = document.getElementById("address");

  function initMap() {
    autocomplete = new google.maps.places.Autocomplete(addressInput, {
      types: ["geocode"],
      componentRestrictions: {country: 'us'}
    })
    autocomplete.addListener("place_changed", handlePlaceChanged);
    addressInput.addEventListener("blur", handleAddressBlur);
    addressInput.addEventListener("input", handleInput);
  }

  function handleInput() {
    place = null;
  }

  function handleAddressBlur() {
    setTimeout(function () {
      if (place && place.formatted_address) {
        document.getElementById("address-error").classList.add("dn")
      } else {
        document.getElementById("address-error").classList.remove("dn")
      }
    }, 500)
  }

  function handlePlaceChanged(event) {
    place = autocomplete.getPlace();
    if (place.formatted_address) {
      document.getElementById("address-error").classList.add("dn")
>>>>>>> master
    }
  }

  function submitForm() {
   // Get the first form with the name
   var frm = document.getElementsByName('join')[0];
   If (frm.submit()){
      frm.reset();  // Reset
   }
   return false; // Prevent page refresh
  }

</script>
<script
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBNClp7oJsw-eleEoR3-PQKV23tpeW-FpE&libraries=places&callback=initMap"
  async
  defer
></script>